parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"XNhE":[function(require,module,exports) {
Array.prototype.forEach||(Array.prototype.forEach=function(r){"use strict";if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof r)throw new TypeError;for(var e=arguments.length>=2?arguments[1]:void 0,n=0;n<o;n++)n in t&&r.call(e,t[n],n,t)});
},{}],"ieC5":[function(require,module,exports) {
Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});
},{}],"9ehA":[function(require,module,exports) {
!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var o=e?this.internal_createDelay(e):this.internal_createDelay();return t(o.delayTime),o},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,o,r){void 0!==r?e.internal_start(t||0,o,r):e.internal_start(t||0,o||0)}):e.start=function(t,e,o){e||o?this.noteGrainOn(t||0,e,o):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}();
},{}],"AZGC":[function(require,module,exports) {
window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){});
},{}],"V3ig":[function(require,module,exports) {
Function.prototype.bind||(Function.prototype.bind=function(){var t=Array.prototype.slice;return function(n){var o=this,r=t.call(arguments,1);if("function"!=typeof o)throw new TypeError;function i(){var e=r.concat(t.call(arguments));o.apply(this instanceof i?this:n,e)}return i.prototype=function t(n){if(n&&(t.prototype=n),!(this instanceof t))return new t}(o.prototype),i}}());
},{}],"2FYK":[function(require,module,exports) {
Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)});
},{}],"9WGR":[function(require,module,exports) {
!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}();
},{}],"kZK/":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var n=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-n}}for(var t=Date.now(),a=["ms","moz","webkit","o"],o=0;o<a.length&&!e.requestAnimationFrame;++o)e.requestAnimationFrame=e[a[o]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a[o]+"CancelAnimationFrame"]||e[a[o]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var n=Date.now(),a=16+t-n;return a<0&&(a=0),t=n,setTimeout(function(){t=Date.now(),e(performance.now())},a)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)});
},{}],"D1Mm":[function(require,module,exports) {
if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var t=function(t){var r=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var r=0;r<this.length;r++)this[r]=0}else{Array.call(this,t.length),this.length=t.length;for(r=0;r<this.length;r++)this[r]=t[r]}},window[t].prototype=r,window[t].constructor=window[t]};t("Float32Array"),t("Uint32Array"),t("Uint16Array"),t("Int16Array"),t("ArrayBuffer")}
},{}],"ucTA":[function(require,module,exports) {
require("./Array.forEach"),require("./Array.isArray"),require("./AudioContextMonkeyPatch"),require("./console"),require("./Function.bind"),require("./Math.trunc"),require("./performance.now"),require("./requestAnimationFrame"),require("./Uint32Array");
},{"./Array.forEach":"XNhE","./Array.isArray":"ieC5","./AudioContextMonkeyPatch":"9ehA","./console":"AZGC","./Function.bind":"V3ig","./Math.trunc":"2FYK","./performance.now":"9WGR","./requestAnimationFrame":"kZK/","./Uint32Array":"D1Mm"}],"GTnZ":[function(require,module,exports) {
module.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};
},{}],"KOhd":[function(require,module,exports) {
module.exports={DEFAULT:0,LINEAR:0,NEAREST:1};
},{}],"rdvC":[function(require,module,exports) {
var e={VERSION:"3.11",BlendModes:require("./renderer/BlendModes"),ScaleModes:require("./renderer/ScaleModes"),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};module.exports=e;
},{"./renderer/BlendModes":"GTnZ","./renderer/ScaleModes":"KOhd"}],"ac6z":[function(require,module,exports) {
var r=function(r){if("object"!=typeof r||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}return!0};module.exports=r;
},{}],"Wu2m":[function(require,module,exports) {
var r=require("./IsPlainObject"),e=function(){var i,o,a,n,t,l,f=arguments[0]||{},s=1,u=arguments.length,y=!1;for("boolean"==typeof f&&(y=f,f=arguments[1]||{},s=2),u===s&&(f=this,--s);s<u;s++)if(null!=(i=arguments[s]))for(o in i)a=f[o],f!==(n=i[o])&&(y&&n&&(r(n)||(t=Array.isArray(n)))?(t?(t=!1,l=a&&Array.isArray(a)?a:[]):l=a&&r(a)?a:{},f[o]=e(y,l,n)):void 0!==n&&(f[o]=n));return f};module.exports=e;
},{"./IsPlainObject":"ac6z"}],"MLkU":[function(require,module,exports) {
var o=function(o,r,e,v,i,d){var f;void 0===v&&(v=0),void 0===i&&(i=0),void 0===d&&(d=1);var n=0,t=o.length;if(1===d)for(f=i;f<t;f++)o[f][r]+=e+n*v,n++;else for(f=i;f>=0;f--)o[f][r]+=e+n*v,n++;return o};module.exports=o;
},{}],"r4cQ":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,n,u,o,t){return e(r,"angle",n,u,o,t)};module.exports=r;
},{"./PropertyValueInc":"MLkU"}],"iR8v":[function(require,module,exports) {
var r=function(r,a,e){for(var l=0;l<r.length;l++){var n=r[l];a.call(e,n)}return r};module.exports=r;
},{}],"XGDW":[function(require,module,exports) {
var r=function(r,n,o){void 0===o&&(o=0);for(var e=o;e<r.length;e++){var t=r[e],u=!0;for(var v in n)t[v]!==n[v]&&(u=!1);if(u)return t}return null};module.exports=r;
},{}],"pb2z":[function(require,module,exports) {
var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};module.exports=T;
},{}],"HWeD":[function(require,module,exports) {
var e=function(e){return e.y+e.height-e.height*e.originY};module.exports=e;
},{}],"3LpQ":[function(require,module,exports) {
var i=function(i){return i.x-i.width*i.originX+.5*i.width};module.exports=i;
},{}],"rbwq":[function(require,module,exports) {
var e=function(e,i){return e.y=i-e.height+e.height*e.originY,e};module.exports=e;
},{}],"IZ6F":[function(require,module,exports) {
var r=function(r,i){var t=r.width*r.originX;return r.x=i+t-.5*r.width,r};module.exports=r;
},{}],"kH3f":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),r=require("../../bounds/GetCenterX"),o=require("../../bounds/SetBottom"),t=require("../../bounds/SetCenterX"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),t(u,r(n)+d),o(u,e(n)+i),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetCenterX":"3LpQ","../../bounds/SetBottom":"rbwq","../../bounds/SetCenterX":"IZ6F"}],"AciX":[function(require,module,exports) {
var r=function(r){return r.x-r.width*r.originX};module.exports=r;
},{}],"HuNb":[function(require,module,exports) {
var r=function(r,i){return r.x=i+r.width*r.originX,r};module.exports=r;
},{}],"q+e+":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetLeft"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),r(u,o(d)-i),t(u,e(d)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetLeft":"AciX","../../bounds/SetBottom":"rbwq","../../bounds/SetLeft":"HuNb"}],"i/pG":[function(require,module,exports) {
var i=function(i){return i.x+i.width-i.width*i.originX};module.exports=i;
},{}],"oKdg":[function(require,module,exports) {
var i=function(i,r){return i.x=r-i.width+i.width*i.originX,i};module.exports=i;
},{}],"Lcfy":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetRight":"i/pG","../../bounds/SetBottom":"rbwq","../../bounds/SetRight":"oKdg"}],"1OVT":[function(require,module,exports) {
var r=function(r,e){var i=r.height*r.originY;return r.y=e+i-.5*r.height,r};module.exports=r;
},{}],"E/Jk":[function(require,module,exports) {
var e=require("./SetCenterX"),r=require("./SetCenterY"),t=function(t,n,u){return e(t,n),r(t,u)};module.exports=t;
},{"./SetCenterX":"IZ6F","./SetCenterY":"1OVT"}],"Ffbu":[function(require,module,exports) {
var e=function(e){return e.y-e.height*e.originY+.5*e.height};module.exports=e;
},{}],"MV6B":[function(require,module,exports) {
var e=require("../../bounds/CenterOn"),r=require("../../bounds/GetCenterX"),n=require("../../bounds/GetCenterY"),u=function(u,o,t,d){return void 0===t&&(t=0),void 0===d&&(d=0),e(u,r(o)+t,n(o)+d),u};module.exports=u;
},{"../../bounds/CenterOn":"E/Jk","../../bounds/GetCenterX":"3LpQ","../../bounds/GetCenterY":"Ffbu"}],"OCSu":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetLeft"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetLeft"),n=function(n,o,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),u(n,r(o)-d),t(n,e(o)+i),n};module.exports=n;
},{"../../bounds/GetCenterY":"Ffbu","../../bounds/GetLeft":"AciX","../../bounds/SetCenterY":"1OVT","../../bounds/SetLeft":"HuNb"}],"9iwj":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetRight"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetRight"),i=function(i,n,o,d){return void 0===o&&(o=0),void 0===d&&(d=0),u(i,r(n)+o),t(i,e(n)+d),i};module.exports=i;
},{"../../bounds/GetCenterY":"Ffbu","../../bounds/GetRight":"i/pG","../../bounds/SetCenterY":"1OVT","../../bounds/SetRight":"oKdg"}],"dR5h":[function(require,module,exports) {
var r=function(r){return r.y-r.height*r.originY};module.exports=r;
},{}],"y+MG":[function(require,module,exports) {
var r=function(r,e){return r.y=e+r.height*r.originY,r};module.exports=r;
},{}],"Zm7V":[function(require,module,exports) {
var e=require("../../bounds/GetCenterX"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetCenterX"),u=require("../../bounds/SetTop"),n=function(n,t,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),o(n,e(t)+d),u(n,r(t)-i),n};module.exports=n;
},{"../../bounds/GetCenterX":"3LpQ","../../bounds/GetTop":"dR5h","../../bounds/SetCenterX":"IZ6F","../../bounds/SetTop":"y+MG"}],"MPQC":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetLeft"),u=require("../../bounds/SetTop"),t=function(t,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),o(t,e(d)-i),u(t,r(d)-n),t};module.exports=t;
},{"../../bounds/GetLeft":"AciX","../../bounds/GetTop":"dR5h","../../bounds/SetLeft":"HuNb","../../bounds/SetTop":"y+MG"}],"UpgE":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetRight"),u=require("../../bounds/SetTop"),i=function(i,t,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(i,e(t)+d),u(i,r(t)-n),i};module.exports=i;
},{"../../bounds/GetRight":"i/pG","../../bounds/GetTop":"dR5h","../../bounds/SetRight":"oKdg","../../bounds/SetTop":"y+MG"}],"zaln":[function(require,module,exports) {
var e=require("../const"),r=[];r[e.BOTTOM_CENTER]=require("./BottomCenter"),r[e.BOTTOM_LEFT]=require("./BottomLeft"),r[e.BOTTOM_RIGHT]=require("./BottomRight"),r[e.CENTER]=require("./Center"),r[e.LEFT_CENTER]=require("./LeftCenter"),r[e.RIGHT_CENTER]=require("./RightCenter"),r[e.TOP_CENTER]=require("./TopCenter"),r[e.TOP_LEFT]=require("./TopLeft"),r[e.TOP_RIGHT]=require("./TopRight");var T=function(e,T,t,i,o){return r[t](e,T,i,o)};module.exports=T;
},{"../const":"pb2z","./BottomCenter":"kH3f","./BottomLeft":"q+e+","./BottomRight":"Lcfy","./Center":"MV6B","./LeftCenter":"OCSu","./RightCenter":"9iwj","./TopCenter":"Zm7V","./TopLeft":"MPQC","./TopRight":"UpgE"}],"SgIk":[function(require,module,exports) {
var r=function(r,e,n){var o=typeof r;return r&&"number"!==o&&"string"!==o&&r.hasOwnProperty(e)&&void 0!==r[e]?r[e]:n};module.exports=r;
},{}],"u3ni":[function(require,module,exports) {
var o=function(){};module.exports=o;
},{}],"f5Xp":[function(require,module,exports) {
function e(e){return!!e.get&&"function"==typeof e.get||!!e.set&&"function"==typeof e.set}function t(t,n,i){var r=i?t[n]:Object.getOwnPropertyDescriptor(t,n);return!i&&r.value&&"object"==typeof r.value&&(r=r.value),!(!r||!e(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function n(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&(n.value&&"object"==typeof n.value&&(n=n.value),!1===n.configurable)}function i(e,i,r,a){for(var u in i)if(i.hasOwnProperty(u)){var p=t(i,u,r);if(!1!==p){if(n((a||e).prototype,u)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,u,p)}else e.prototype[u]=i[u]}}function r(e,t){if(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)i(e,t[n].prototype||t[n])}}function o(e){var t,n;if(e||(e={}),e.initialize){if("function"!=typeof e.initialize)throw new Error("initialize must be a function");t=e.initialize,delete e.initialize}else if(e.Extends){var o=e.Extends;t=function(){o.apply(this,arguments)}}else t=function(){};e.Extends?(t.prototype=Object.create(e.Extends.prototype),t.prototype.constructor=t,n=e.Extends,delete e.Extends):t.prototype.constructor=t;var a=null;return e.Mixins&&(a=e.Mixins,delete e.Mixins),r(t,a),i(t,e,!0,n),t}o.extend=i,o.mixin=r,o.ignoreFinals=!1,module.exports=o;
},{}],"GyfI":[function(require,module,exports) {
var r=function(r,t,o){return r.radius>0&&t>=r.left&&t<=r.right&&o>=r.top&&o<=r.bottom&&(r.x-t)*(r.x-t)+(r.y-o)*(r.y-o)<=r.radius*r.radius};module.exports=r;
},{}],"PzGB":[function(require,module,exports) {
var i=require("../../utils/Class"),t=new i({initialize:function(i,t){void 0===i&&(i=0),void 0===t&&(t=i),this.x=i,this.y=t},setTo:function(i,t){return void 0===i&&(i=0),void 0===t&&(t=i),this.x=i,this.y=t,this}});module.exports=t;
},{"../../utils/Class":"f5Xp"}],"mucg":[function(require,module,exports) {
var i=require("../point/Point"),r=function(r,n,o){return void 0===o&&(o=new i),o.x=r.x+r.radius*Math.cos(n),o.y=r.y+r.radius*Math.sin(n),o};module.exports=r;
},{"../point/Point":"PzGB"}],"mAiE":[function(require,module,exports) {
var t=function(t,a,n){return Math.max(a,Math.min(n,t))};module.exports=t;
},{}],"xPta":[function(require,module,exports) {
var r=require("./Clamp"),e=function(e,u,n){return(n-u)*(e=r(e,0,1))};module.exports=e;
},{"./Clamp":"mAiE"}],"BBN5":[function(require,module,exports) {
var t=require("../../utils/Class"),s=new t({initialize:function(t){this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var s,i=this.n;t=t.toString();for(var n=0;n<t.length;n++)s=.02519603282416938*(i+=t.charCodeAt(n)),s-=i=s>>>0,i=(s*=i)>>>0,i+=4294967296*(s-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var s=0;s<t.length&&null!=t[s];s++){var i=t[s];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565e-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,s){return Math.floor(this.realInRange(0,s-t+1)+t)},between:function(t,s){return Math.floor(this.realInRange(0,s-t+1)+t)},realInRange:function(t,s){return this.frac()*(s-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",s="";for(s=t="";t++<36;s+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return s},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,s){return this.realInRange(t||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var s=t.length-1,i=s;i>0;i--){var n=Math.floor(this.frac()*(s+1)),h=t[n];t[n]=t[i],t[i]=h}return t}});module.exports=s;
},{"../../utils/Class":"f5Xp"}],"fj5M":[function(require,module,exports) {
var a=require("./random-data-generator/RandomDataGenerator"),e={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:new a};module.exports=e;
},{"./random-data-generator/RandomDataGenerator":"BBN5"}],"irL+":[function(require,module,exports) {
var e=require("./CircumferencePoint"),r=require("../../math/FromPercent"),i=require("../../math/const"),n=require("../point/Point"),t=function(t,o,u){void 0===u&&(u=new n);var c=r(o,0,i.PI2);return e(t,c,u)};module.exports=t;
},{"./CircumferencePoint":"mucg","../../math/FromPercent":"xPta","../../math/const":"fj5M","../point/Point":"PzGB"}],"KH5q":[function(require,module,exports) {
var r=function(r){return Math.PI*r.radius*2};module.exports=r;
},{}],"TyAF":[function(require,module,exports) {
var r=require("./Circumference"),e=require("./CircumferencePoint"),u=require("../../math/FromPercent"),i=require("../../math/const"),n=function(n,o,t,c){void 0===c&&(c=[]),o||(o=r(n)/t);for(var m=0;m<o;m++){var a=u(m/o,0,i.PI2);c.push(e(n,a))}return c};module.exports=n;
},{"./Circumference":"KH5q","./CircumferencePoint":"mucg","../../math/FromPercent":"xPta","../../math/const":"fj5M"}],"7lNk":[function(require,module,exports) {
var a=require("../point/Point"),r=function(r,t){void 0===t&&(t=new a);var n=2*Math.PI*Math.random(),o=Math.random()+Math.random(),i=o>1?2-o:o,d=i*Math.cos(n),e=i*Math.sin(n);return t.x=r.x+d*r.radius,t.y=r.y+e*r.radius,t};module.exports=r;
},{"../point/Point":"PzGB"}],"kskV":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=require("./GetPoint"),n=require("./GetPoints"),r=require("./Random"),e=new t({initialize:function(t,i,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.x=t,this.y=i,this._radius=s,this._diameter=2*s},contains:function(t,s){return i(this,t,s)},getPoint:function(t,i){return s(this,t,i)},getPoints:function(t,i,s){return n(this,t,i,s)},getRandomPoint:function(t){return r(this,t)},setTo:function(t,i,s){return this.x=t,this.y=i,this._radius=s,this._diameter=2*s,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});module.exports=e;
},{"../../utils/Class":"f5Xp","./Contains":"GyfI","./GetPoint":"irL+","./GetPoints":"TyAF","./Random":"7lNk"}],"s38c":[function(require,module,exports) {
var a=require("../../math/Clamp"),t=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,h,i,l){return void 0===t&&(t=1),void 0===h?this.alpha=t:(this._alphaTL=a(t,0,1),this._alphaTR=a(h,0,1),this._alphaBL=a(i,0,1),this._alphaBR=a(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var i=a(h,0,1);this._alpha=i,this._alphaTL=i,this._alphaTR=i,this._alphaBL=i,this._alphaBR=i,0===i?this.renderFlags&=~t:this.renderFlags|=t}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var i=a(h,0,1);this._alphaTL=i,0!==i&&(this.renderFlags|=t)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var i=a(h,0,1);this._alphaTR=i,0!==i&&(this.renderFlags|=t)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var i=a(h,0,1);this._alphaBL=i,0!==i&&(this.renderFlags|=t)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var i=a(h,0,1);this._alphaBR=i,0!==i&&(this.renderFlags|=t)}}};module.exports=h;
},{"../../math/Clamp":"mAiE"}],"RYPF":[function(require,module,exports) {
var t=require("../../utils/Class"),i=new t({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once("remove",this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},setDelay:function(t){return void 0===t&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,i,e){return this.play(i,!0,e),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,i){return void 0===i&&(i=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,i),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=0),i&&this.isPlaying&&this.currentAnim.key===t)return this.parent;this.load(t,e);var n=this.currentAnim,r=this.parent;return this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,n.getFirstTick(this),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,n.showOnStart&&(r.visible=!0),r.emit("animationstart",this.currentAnim,this.currentFrame),r},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,i){void 0===i&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=0,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){return void 0===t&&(t=!1),this.currentAnim.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(this.currentAnim.frames[0]),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var t=this.parent;return t.emit("animationcomplete",this.currentAnim,this.currentFrame),t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return void 0===t&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,i){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=i*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var i=this.parent;return this.currentFrame=t,i.texture=t.frame.texture,i.frame=t.frame,i.setSizeToFrame(),t.frame.customPivot?i.setOrigin(t.frame.pivotX,t.frame.pivotY):i.updateDisplayOrigin(),i},updateFrame:function(t){var i=this.setCurrentFrame(t);if(this.isPlaying){t.setAlpha&&(i.alpha=t.alpha);var e=this.currentAnim;i.emit("animationupdate",e,t),3===this._pendingStop&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this)}},setYoyo:function(t){return void 0===t&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off("remove",this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}});module.exports=i;
},{"../../utils/Class":"f5Xp"}],"FNPH":[function(require,module,exports) {
var e=require("../../renderer/BlendModes"),n={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(n){"string"==typeof n&&(n=e[n]),(n|=0)>=0&&(this._blendMode=n)}},setBlendMode:function(e){return this.blendMode=e,this}};module.exports=n;
},{"../../renderer/BlendModes":"GTnZ"}],"w5nh":[function(require,module,exports) {
var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,i){return this.width=t,this.height=i,this},setDisplaySize:function(t,i){return this.displayWidth=t,this.displayHeight=i,this}};module.exports=t;
},{}],"lkI1":[function(require,module,exports) {
var t={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};module.exports=t;
},{}],"RKxg":[function(require,module,exports) {
var i={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,t){return this.flipX=i,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};module.exports=i;
},{}],"uD/l":[function(require,module,exports) {
var t=function(t,h,e){return!(t.width<=0||t.height<=0)&&(t.x<=h&&t.x+t.width>=h&&t.y<=e&&t.y+t.height>=e)};module.exports=t;
},{}],"adeU":[function(require,module,exports) {
var t=function(t){return 2*(t.width+t.height)};module.exports=t;
},{}],"Sskl":[function(require,module,exports) {
var t=require("./Perimeter"),i=require("../point/Point"),r=function(r,e,o){if(void 0===o&&(o=new i),e<=0||e>=1)return o.x=r.x,o.y=r.y,o;var h=t(r)*e;return e>.5?(h-=r.width+r.height)<=r.width?(o.x=r.right-h,o.y=r.bottom):(o.x=r.x,o.y=r.bottom-(h-r.width)):h<=r.width?(o.x=r.x+h,o.y=r.y):(o.x=r.right,o.y=r.y+(h-r.width)),o};module.exports=r;
},{"./Perimeter":"adeU","../point/Point":"PzGB"}],"dLrX":[function(require,module,exports) {
var r=require("./GetPoint"),e=require("./Perimeter"),i=function(i,o,t,u){void 0===u&&(u=[]),o||(o=e(i)/t);for(var n=0;n<o;n++){var v=n/o;u.push(r(i,v))}return u};module.exports=i;
},{"./GetPoint":"Sskl","./Perimeter":"adeU"}],"IbW3":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o,r){return void 0===r&&(r=new e),r.x=n.x1+(n.x2-n.x1)*o,r.y=n.y1+(n.y2-n.y1)*o,r};module.exports=n;
},{"../point/Point":"PzGB"}],"WRC8":[function(require,module,exports) {
var r=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};module.exports=r;
},{}],"ioaQ":[function(require,module,exports) {
var r=require("./Length"),e=require("../point/Point"),n=function(n,o,i,t){void 0===t&&(t=[]),o||(o=r(n)/i);for(var u=n.x1,v=n.y1,a=n.x2,p=n.y2,x=0;x<o;x++){var d=x/o,f=u+(a-u)*d,h=v+(p-v)*d;t.push(new e(f,h))}return t};module.exports=n;
},{"./Length":"WRC8","../point/Point":"PzGB"}],"v+uM":[function(require,module,exports) {
var r=require("../point/Point"),n=function(n,o){void 0===o&&(o=new r);var e=Math.random();return o.x=n.x1+e*(n.x2-n.x1),o.y=n.y1+e*(n.y2-n.y1),o};module.exports=n;
},{"../point/Point":"PzGB"}],"2OLl":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===i&&(i=t),this.x=t||0,this.y=i||0)},clone:function(){return new i(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setTo:function(t,i){return this.set(t,i)},setToPolar:function(t,i){return null==i&&(i=1),this.x=Math.cos(t)*i,this.y=Math.sin(t)*i,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y;return Math.sqrt(i*i+s*s)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y;return i*i+s*s},length:function(){var t=this.x,i=this.y;return Math.sqrt(t*t+i*i)},lengthSq:function(){var t=this.x,i=this.y;return t*t+i*i},normalize:function(){var t=this.x,i=this.y,s=t*t+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=i*s),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,n=this.y;return this.x=s+i*(t.x-s),this.y=n+i*(t.y-n),this},transformMat3:function(t){var i=this.x,s=this.y,n=t.val;return this.x=n[0]*i+n[3]*s+n[6],this.y=n[1]*i+n[4]*s+n[7],this},transformMat4:function(t){var i=this.x,s=this.y,n=t.val;return this.x=n[0]*i+n[4]*s+n[12],this.y=n[1]*i+n[5]*s+n[13],this},reset:function(){return this.x=0,this.y=0,this}});i.ZERO=new i,module.exports=i;
},{"../utils/Class":"f5Xp"}],"w43T":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./GetPoint"),n=require("./GetPoints"),s=require("./Random"),e=require("../../math/Vector2"),h=new t({initialize:function(t,i,n,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x1=t,this.y1=i,this.x2=n,this.y2=s},getPoint:function(t,n){return i(this,t,n)},getPoints:function(t,i,s){return n(this,t,i,s)},getRandomPoint:function(t){return s(this,t)},setTo:function(t,i,n,s){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x1=t,this.y1=i,this.x2=n,this.y2=s,this},getPointA:function(t){return void 0===t&&(t=new e),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new e),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});module.exports=h;
},{"../../utils/Class":"f5Xp","./GetPoint":"IbW3","./GetPoints":"ioaQ","./Random":"v+uM","../../math/Vector2":"2OLl"}],"uPfd":[function(require,module,exports) {
var t=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new t),o.x=n.x+Math.random()*n.width,o.y=n.y+Math.random()*n.height,o};module.exports=n;
},{"../point/Point":"PzGB"}],"hff6":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),h=require("./GetPoint"),n=require("./GetPoints"),s=require("../line/Line"),e=require("./Random"),o=new t({initialize:function(t,i,h,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===n&&(n=0),this.x=t,this.y=i,this.width=h,this.height=n},contains:function(t,h){return i(this,t,h)},getPoint:function(t,i){return h(this,t,i)},getPoints:function(t,i,h){return n(this,t,i,h)},getRandomPoint:function(t){return e(this,t)},setTo:function(t,i,h,n){return this.x=t,this.y=i,this.width=h,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new s),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new s),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new s),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new s),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});module.exports=o;
},{"../../utils/Class":"f5Xp","./Contains":"uD/l","./GetPoint":"Sskl","./GetPoints":"dLrX","../line/Line":"w43T","./Random":"uPfd"}],"uRXW":[function(require,module,exports) {
var r=function(r,t,a,n){var o=Math.cos(n),e=Math.sin(n),s=r.x-t,u=r.y-a;return r.x=s*o-u*e+t,r.y=s*e+u*o+a,r};module.exports=r;
},{}],"G3NH":[function(require,module,exports) {
var t=require("../../geom/rectangle/Rectangle"),i=require("../../math/RotateAround"),s=require("../../math/Vector2"),n={getCenter:function(t){return void 0===t&&(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,n){(t||(t=new s),void 0===n&&(n=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&i(t,this.x,this.y,this.rotation),n&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getTopRight:function(t,n){(t||(t=new s),void 0===n&&(n=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&i(t,this.x,this.y,this.rotation),n&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBottomLeft:function(t,n){(t||(t=new s),void 0===n&&(n=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&i(t,this.x,this.y,this.rotation),n&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBottomRight:function(t,n){(t||(t=new s),void 0===n&&(n=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&i(t,this.x,this.y,this.rotation),n&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBounds:function(i){var s,n,h,o,r,e,a,y;if(void 0===i&&(i=new t),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(i),g.transformPoint(i.x,i.y,i),s=i.x,n=i.y,this.getTopRight(i),g.transformPoint(i.x,i.y,i),h=i.x,o=i.y,this.getBottomLeft(i),g.transformPoint(i.x,i.y,i),r=i.x,e=i.y,this.getBottomRight(i),g.transformPoint(i.x,i.y,i),a=i.x,y=i.y}else this.getTopLeft(i),s=i.x,n=i.y,this.getTopRight(i),h=i.x,o=i.y,this.getBottomLeft(i),r=i.x,e=i.y,this.getBottomRight(i),a=i.x,y=i.y;return i.x=Math.min(s,h,r,a),i.y=Math.min(n,o,e,y),i.width=Math.max(s,h,r,a)-i.x,i.height=Math.max(n,o,e,y)-i.y,i}};module.exports=n;
},{"../../geom/rectangle/Rectangle":"hff6","../../math/RotateAround":"uRXW","../../math/Vector2":"2OLl"}],"wV3E":[function(require,module,exports) {
var e=require("../../utils/Class"),t=new e({initialize:function(e,t){var r=e.sys.game.renderer;if(this.renderer=r,this.bitmapMask=t,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,r&&r.gl){var i=r.width,a=r.height,s=0==(i&i-1)&&0==(a&a-1),n=r.gl,u=s?n.REPEAT:n.CLAMP_TO_EDGE,m=n.LINEAR;this.mainTexture=r.createTexture2D(0,m,m,u,u,n.RGBA,null,i,a),this.maskTexture=r.createTexture2D(0,m,m,u,u,n.RGBA,null,i,a),this.mainFramebuffer=r.createFramebuffer(i,a,this.mainTexture,!1),this.maskFramebuffer=r.createFramebuffer(i,a,this.maskTexture,!1),r.onContextRestored(function(e){var t=e.width,r=e.height,i=0==(t&t-1)&&0==(r&r-1),a=e.gl,s=i?a.REPEAT:a.CLAMP_TO_EDGE,n=a.LINEAR;this.mainTexture=e.createTexture2D(0,n,n,s,s,a.RGBA,null,t,r),this.maskTexture=e.createTexture2D(0,n,n,s,s,a.RGBA,null,t,r),this.mainFramebuffer=e.createFramebuffer(t,r,this.mainTexture,!1),this.maskFramebuffer=e.createFramebuffer(t,r,this.maskTexture,!1)},this)}},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,r){e.pipelines.BitmapMaskPipeline.beginMask(this,t,r)},postRenderWebGL:function(e){e.pipelines.BitmapMaskPipeline.endMask(this)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var e=this.renderer;e&&e.gl&&(e.deleteTexture(this.mainTexture),e.deleteTexture(this.maskTexture),e.deleteFramebuffer(this.mainFramebuffer),e.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.renderer=null}});module.exports=t;
},{"../../utils/Class":"f5Xp"}],"4fR2":[function(require,module,exports) {
var e=require("../../utils/Class"),n=new e({initialize:function(e,n){this.geometryMask=n},setShape:function(e){this.geometryMask=e},preRenderWebGL:function(e,n,t){var r=e.gl,s=this.geometryMask;e.flush(),r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.NOTEQUAL,1,1),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),s.renderWebGL(e,s,0,t),e.flush(),r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,1,1),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},postRenderWebGL:function(e){var n=e.gl;e.flush(),n.disable(n.STENCIL_TEST)},preRenderCanvas:function(e,n,t){var r=this.geometryMask;e.currentContext.save(),r.renderCanvas(e,r,0,t,void 0,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});module.exports=n;
},{"../../utils/Class":"f5Xp"}],"z6WS":[function(require,module,exports) {
var s=require("../../display/mask/BitmapMask"),t=require("../../display/mask/GeometryMask"),e={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return void 0===s&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&this.texture&&(t=this),new s(this.scene,t)},createGeometryMask:function(s){return void 0===s&&"Graphics"===this.type&&(s=this),new t(this.scene,s)}};module.exports=e;
},{"../../display/mask/BitmapMask":"wV3E","../../display/mask/GeometryMask":"4fR2"}],"23nm":[function(require,module,exports) {
var t={matrixStack:null,currentMatrix:null,currentMatrixIndex:0,initMatrixStack:function(){return this.matrixStack=new Float32Array(6e3),this.currentMatrix=new Float32Array([1,0,0,1,0,0]),this.currentMatrixIndex=0,this},save:function(){if(this.currentMatrixIndex>=this.matrixStack.length)return this;var t=this.matrixStack,r=this.currentMatrix,i=this.currentMatrixIndex;return this.currentMatrixIndex+=6,t[i+0]=r[0],t[i+1]=r[1],t[i+2]=r[2],t[i+3]=r[3],t[i+4]=r[4],t[i+5]=r[5],this},restore:function(){if(this.currentMatrixIndex<=0)return this;this.currentMatrixIndex-=6;var t=this.matrixStack,r=this.currentMatrix,i=this.currentMatrixIndex;return r[0]=t[i+0],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],r[4]=t[i+4],r[5]=t[i+5],this},loadIdentity:function(){return this.setTransform(1,0,0,1,0,0),this},transform:function(t,r,i,n,a,e){var s=this.currentMatrix,u=s[0],c=s[1],h=s[2],x=s[3],o=s[4],M=s[5];return s[0]=u*t+h*r,s[1]=c*t+x*r,s[2]=u*i+h*n,s[3]=c*i+x*n,s[4]=u*a+h*e+o,s[5]=c*a+x*e+M,this},setTransform:function(t,r,i,n,a,e){var s=this.currentMatrix;return s[0]=t,s[1]=r,s[2]=i,s[3]=n,s[4]=a,s[5]=e,this},translate:function(t,r){var i=this.currentMatrix,n=i[0],a=i[1],e=i[2],s=i[3],u=i[4],c=i[5];return i[4]=n*t+e*r+u,i[5]=a*t+s*r+c,this},scale:function(t,r){var i=this.currentMatrix,n=i[0],a=i[1],e=i[2],s=i[3];return i[0]=n*t,i[1]=a*t,i[2]=e*r,i[3]=s*r,this},rotate:function(t){var r=this.currentMatrix,i=r[0],n=r[1],a=r[2],e=r[3],s=Math.sin(t),u=Math.cos(t);return r[0]=i*u+a*s,r[1]=n*u+e*s,r[2]=i*-s+a*u,r[3]=n*-s+e*u,this}};module.exports=t;
},{}],"Hk7Z":[function(require,module,exports) {
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,t){return void 0===i&&(i=.5),void 0===t&&(t=i),this.originX=i,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(i,t){return void 0===i&&(i=0),void 0===t&&(t=i),this.displayOriginX=i,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=Math.round(this.originX*this.width),this._displayOriginY=Math.round(this.originY*this.height),this}};module.exports=i;
},{}],"Emjx":[function(require,module,exports) {
var e={defaultPipeline:null,pipeline:null,initPipeline:function(e){var i=this.scene.sys.game.renderer;return!!(i&&i.gl&&i.hasPipeline(e))&&(this.defaultPipeline=i.getPipeline(e),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(e){var i=this.scene.sys.game.renderer;return i&&i.gl&&i.hasPipeline(e)&&(this.pipeline=i.getPipeline(e)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}};module.exports=e;
},{}],"VAym":[function(require,module,exports) {
var e=require("../../renderer/ScaleModes"),s={_scaleMode:e.DEFAULT,scaleMode:{get:function(){return this._scaleMode},set:function(s){s!==e.LINEAR&&s!==e.NEAREST||(this._scaleMode=s)}},setScaleMode:function(e){return this.scaleMode=e,this}};module.exports=s;
},{"../../renderer/ScaleModes":"KOhd"}],"e8VO":[function(require,module,exports) {
var o={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(o,r){return void 0===r&&(r=o),this.scrollFactorX=o,this.scrollFactorY=r,this}};module.exports=o;
},{}],"klcA":[function(require,module,exports) {
var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.frame.realWidth},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return this.scaleY*this.frame.realHeight},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,i){return this.width=t,this.height=i,this},setDisplaySize:function(t,i){return this.displayWidth=t,this.displayHeight=i,this}};module.exports=t;
},{}],"P7i3":[function(require,module,exports) {
var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(e,i,s){return void 0===i&&(i=!0),void 0===s&&(s=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=t:this.renderFlags&=~t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};module.exports=e;
},{}],"ar2I":[function(require,module,exports) {
var t=8,i={texture:null,frame:null,isCropped:!1,_crop:{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0},setCrop:function(t,i,e,s){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,i,e,s,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,i){return this.texture=this.scene.sys.textures.get(t),this.setFrame(i)},setFrame:function(i,e,s){return void 0===e&&(e=!0),void 0===s&&(s=!0),this.frame=this.texture.get(i),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=t:this.renderFlags&=~t,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this}};module.exports=i;
},{}],"fgWm":[function(require,module,exports) {
var t=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},i={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(i,n,s,e){return void 0===i&&(i=16777215),void 0===n&&(n=i,s=i,e=i),this._tintTL=t(i),this._tintTR=t(n),this._tintBL=t(s),this._tintBR=t(e),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,i,n,s){return this.setTint(t,i,n,s),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(i){this._tintTL=t(i),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(i){this._tintTR=t(i),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(i){this._tintBL=t(i),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(i){this._tintBR=t(i),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}};module.exports=i;
},{}],"4NWt":[function(require,module,exports) {
var e=function(e){var a={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,scaleMode:e.scaleMode,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(a.textureKey=e.texture.key,a.frameKey=e.frame.name),a};module.exports=e;
},{}],"PEti":[function(require,module,exports) {
var t=require("../../utils/Class"),i=new t({initialize:function(t,i,r,n,a,s){void 0===t&&(t=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===a&&(a=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,i,r,n,a,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},scaleY:{get:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,i){var r=this.matrix;return r[4]=r[0]*t+r[2]*i+r[4],r[5]=r[1]*t+r[3]*i+r[5],this},scale:function(t,i){var r=this.matrix;return r[0]*=t,r[1]*=t,r[2]*=i,r[3]*=i,this},rotate:function(t){var i=Math.sin(t),r=Math.cos(t),n=this.matrix,a=n[0],s=n[1],e=n[2],o=n[3];return n[0]=a*r+e*i,n[1]=s*r+o*i,n[2]=a*-i+e*r,n[3]=s*-i+o*r,this},multiply:function(t,i){var r=this.matrix,n=t.matrix,a=r[0],s=r[1],e=r[2],o=r[3],h=r[4],u=r[5],c=n[0],m=n[1],f=n[2],x=n[3],l=n[4],d=n[5],v=void 0===i?this:i;return v.a=c*a+m*e,v.b=c*s+m*o,v.c=f*a+x*e,v.d=f*s+x*o,v.e=l*a+d*e+h,v.f=l*s+d*o+u,v},multiplyWithOffset:function(t,i,r){var n=this.matrix,a=t.matrix,s=n[0],e=n[1],o=n[2],h=n[3],u=i*s+r*o+n[4],c=i*e+r*h+n[5],m=a[0],f=a[1],x=a[2],l=a[3],d=a[4],v=a[5];return n[0]=m*s+f*o,n[1]=m*e+f*h,n[2]=x*s+l*o,n[3]=x*e+l*h,n[4]=d*s+v*o+u,n[5]=d*e+v*h+c,this},transform:function(t,i,r,n,a,s){var e=this.matrix,o=e[0],h=e[1],u=e[2],c=e[3],m=e[4],f=e[5];return e[0]=t*o+i*u,e[1]=t*h+i*c,e[2]=r*o+n*u,e[3]=r*h+n*c,e[4]=a*o+s*u+m,e[5]=a*h+s*c+f,this},transformPoint:function(t,i,r){void 0===r&&(r={x:0,y:0});var n=this.matrix,a=n[0],s=n[1],e=n[2],o=n[3],h=n[4],u=n[5];return r.x=t*a+i*e+h,r.y=t*s+i*o+u,r},invert:function(){var t=this.matrix,i=t[0],r=t[1],n=t[2],a=t[3],s=t[4],e=t[5],o=i*a-r*n;return t[0]=a/o,t[1]=-r/o,t[2]=-n/o,t[3]=i/o,t[4]=(n*e-a*s)/o,t[5]=-(i*e-r*s)/o,this},copyFrom:function(t){var i=this.matrix;return i[0]=t.a,i[1]=t.b,i[2]=t.c,i[3]=t.d,i[4]=t.e,i[5]=t.f,this},copyFromArray:function(t){var i=this.matrix;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this},setTransform:function(t,i,r,n,a,s){var e=this.matrix;return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=a,e[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,i=this.matrix,r=i[0],n=i[1],a=i[2],s=i[3],e=r*r,o=n*n,h=a*a,u=s*s,c=Math.sqrt(e+h),m=Math.sqrt(o+u);return t.translateX=i[4],t.translateY=i[5],t.scaleX=c,t.scaleY=m,t.rotation=Math.acos(r/c)*(Math.atan(-a/r)<0?-1:1),t},applyITRS:function(t,i,r,n,a){var s=this.matrix,e=Math.sin(r),o=Math.cos(r);return s[4]=t,s[5]=i,s[0]=o*n,s[1]=e*n,s[2]=-e*a,s[3]=o*a,this},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});module.exports=i;
},{"../../utils/Class":"f5Xp"}],"Xl2Y":[function(require,module,exports) {
var r=function(r,e,n){var o=n-e;return e+((r-e)%o+o)%o};module.exports=r;
},{}],"mxrD":[function(require,module,exports) {
var r=require("../Wrap"),e=function(e){return r(e,-Math.PI,Math.PI)};module.exports=e;
},{"../Wrap":"Xl2Y"}],"JMSS":[function(require,module,exports) {
var r=require("../Wrap"),e=function(e){return r(e,-180,180)};module.exports=e;
},{"../Wrap":"Xl2Y"}],"chhb":[function(require,module,exports) {
var t=require("../../math/const"),i=require("./TransformMatrix"),s=require("../../math/angle/Wrap"),e=require("../../math/angle/WrapDegrees"),n=4,r={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===this._scaleX?this.renderFlags&=~n:this.renderFlags|=n}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===this._scaleY?this.renderFlags&=~n:this.renderFlags|=n}},angle:{get:function(){return e(this._rotation*t.RAD_TO_DEG)},set:function(i){this.rotation=e(i)*t.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=s(t)}},setPosition:function(t,i,s,e){return void 0===t&&(t=0),void 0===i&&(i=t),void 0===s&&(s=0),void 0===e&&(e=0),this.x=t,this.y=i,this.z=s,this.w=e,this},setRandomPosition:function(t,i,s,e){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=this.scene.sys.game.config.width),void 0===e&&(e=this.scene.sys.game.config.height),this.x=t+Math.random()*s,this.y=i+Math.random()*e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,i){return void 0===t&&(t=1),void 0===i&&(i=t),this.scaleX=t,this.scaleY=i,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new i),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t){void 0===t&&(t=new i);var s=this.parentContainer;if(!s)return this.getLocalTransformMatrix(t);for(var e=[];s;)e.unshift(s),s=s.parentContainer;t.loadIdentity();for(var n=e.length,r=0;r<n;++r)s=e[r],t.translate(s.x,s.y),t.rotate(s.rotation),t.scale(s.scaleX,s.scaleY);return t.translate(this.x,this.y),t.rotate(this._rotation),t.scale(this._scaleX,this._scaleY),t}};module.exports=r;
},{"../../math/const":"fj5M","./TransformMatrix":"PEti","../../math/angle/Wrap":"mxrD","../../math/angle/WrapDegrees":"JMSS"}],"HoT1":[function(require,module,exports) {
var i=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(s){s?(this._visible=!0,this.renderFlags|=i):(this._visible=!1,this.renderFlags&=~i)}},setVisible:function(i){return this.visible=i,this}};module.exports=s;
},{}],"jkG5":[function(require,module,exports) {
module.exports={Alpha:require("./Alpha"),Animation:require("./Animation"),BlendMode:require("./BlendMode"),ComputedSize:require("./ComputedSize"),Depth:require("./Depth"),Flip:require("./Flip"),GetBounds:require("./GetBounds"),Mask:require("./Mask"),MatrixStack:require("./MatrixStack"),Origin:require("./Origin"),Pipeline:require("./Pipeline"),ScaleMode:require("./ScaleMode"),ScrollFactor:require("./ScrollFactor"),Size:require("./Size"),Texture:require("./Texture"),TextureCrop:require("./TextureCrop"),Tint:require("./Tint"),ToJSON:require("./ToJSON"),Transform:require("./Transform"),TransformMatrix:require("./TransformMatrix"),Visible:require("./Visible")};
},{"./Alpha":"s38c","./Animation":"RYPF","./BlendMode":"FNPH","./ComputedSize":"w5nh","./Depth":"lkI1","./Flip":"RKxg","./GetBounds":"G3NH","./Mask":"z6WS","./MatrixStack":"23nm","./Origin":"Hk7Z","./Pipeline":"Emjx","./ScaleMode":"VAym","./ScrollFactor":"e8VO","./Size":"klcA","./Texture":"P7i3","./TextureCrop":"ar2I","./Tint":"fgWm","./ToJSON":"4NWt","./Transform":"chhb","./TransformMatrix":"PEti","./Visible":"HoT1"}],"Mp8L":[function(require,module,exports) {
var t=require("../utils/Class"),e=new t({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++)i.push(e[t[s]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,s=this.list,r=this.events,n=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return s[t]},set:function(e){i._frozen||(s[t]=e,r.emit("changedata",n,t,e),r.emit("changedata_"+t,n,e))}}),s[t]=e,r.emit("setdata",n,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var r in this.list)i[1]=r,i[2]=this.list[r],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit("removedata",this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit("removedata",this,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off("changedata"),this.events.off("setdata"),this.events.off("removedata"),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});module.exports=e;
},{"../utils/Class":"f5Xp"}],"LqgX":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"HPsp":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./components"),e=require("../data/DataManager"),s=require("eventemitter3"),n=new t({Extends:s,initialize:function(t,i){s.call(this),this.scene=t,this.type=i,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort(),t.sys.events.once("shutdown",this.destroy,this)},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setDataEnabled:function(){return this.data||(this.data=new e(this)),this},setData:function(t,i){return this.data||(this.data=new e(this)),this.data.set(t,i),this},getData:function(t){return this.data||(this.data=new e(this)),this.data.get(t)},setInteractive:function(t,i,e){return this.scene.sys.input.enable(this,t,i,e),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return i.ToJSON(this)},willRender:function(){return n.RENDER_MASK===this.renderFlags},getIndexList:function(){for(var t=this,i=this.parentContainer,e=[];i&&(e.unshift(i.getIndex(t)),t=i,i.parentContainer);)i=i.parentContainer;return e.unshift(this.scene.sys.displayList.getIndex(t)),e},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit("destroy",this);var t=this.scene.sys;t.displayList.remove(this),t.updateList.remove(this),this.input&&(t.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),t.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});n.RENDER_MASK=15,module.exports=n;
},{"../utils/Class":"f5Xp","./components":"jkG5","../data/DataManager":"Mp8L","eventemitter3":"LqgX"}],"N+fO":[function(require,module,exports) {
var e=require("../../renderer/BlendModes"),t=require("../../geom/circle/Circle"),i=require("../../geom/circle/Contains"),n=require("../../utils/Class"),s=require("../components"),r=require("../GameObject"),h=require("../../geom/rectangle/Rectangle"),o=require("../../geom/rectangle/Contains"),c=new n({Extends:r,Mixins:[s.Depth,s.GetBounds,s.Origin,s.ScaleMode,s.Transform,s.ScrollFactor,s.Visible],initialize:function(t,i,n,s,h){void 0===s&&(s=1),void 0===h&&(h=s),r.call(this,t,"Zone"),this.setPosition(i,n),this.width=s,this.height=h,this.blendMode=e.NORMAL},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,i){return void 0===i&&(i=!0),this.width=e,this.height=t,i&&this.input&&this.input.hitArea instanceof h&&(this.input.hitArea.width=e,this.input.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new t(0,0,e),i)},setRectangleDropZone:function(e,t){var i=-e/2,n=-t/2;return this.setDropZone(new h(i,n,e,t),o)},setDropZone:function(e,t){return void 0===e?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},renderCanvas:function(){},renderWebGL:function(){}});module.exports=c;
},{"../../renderer/BlendModes":"GTnZ","../../geom/circle/Circle":"kskV","../../geom/circle/Contains":"GyfI","../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","../../geom/rectangle/Rectangle":"hff6","../../geom/rectangle/Contains":"uD/l"}],"InCn":[function(require,module,exports) {
var e=require("../display/align/in/QuickSet"),i=require("../display/align/const"),t=require("../utils/object/GetFastValue"),r=require("../utils/NOOP"),s=require("../gameobjects/zone/Zone"),o=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1),l=function(r,s){void 0===s&&(s={});var l=t(s,"width",-1),n=t(s,"height",-1),u=t(s,"cellWidth",1),a=t(s,"cellHeight",u),c=t(s,"position",i.TOP_LEFT),y=t(s,"x",0),h=t(s,"y",0),x=0,d=0,g=l*u,q=n*a;o.setPosition(y,h),o.setSize(u,a);for(var f=0;f<r.length;f++)if(e(r[f],o,c),-1===l)d+=a,o.y+=a,d===q&&(d=0,o.x+=u,o.y=h);else if(-1===n)x+=u,o.x+=u,x===g&&(x=0,o.x=y,o.y+=a);else if(x+=u,o.x+=u,x===g&&(x=0,d+=a,o.x=y,o.y+=a,d===q))break;return r};module.exports=l;
},{"../display/align/in/QuickSet":"zaln","../display/align/const":"pb2z","../utils/object/GetFastValue":"SgIk","../utils/NOOP":"u3ni","../gameobjects/zone/Zone":"N+fO"}],"zG2N":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,a,n,o){return r(e,"alpha",u,a,n,o)};module.exports=e;
},{"./PropertyValueInc":"MLkU"}],"Bbsy":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,o,t){return r(e,"x",u,n,o,t)};module.exports=e;
},{"./PropertyValueInc":"MLkU"}],"6VFK":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,l,o,t,a){return null==n&&(n=u),r(e,"x",u,l,t,a),r(e,"y",n,o,t,a)};module.exports=e;
},{"./PropertyValueInc":"MLkU"}],"YrDC":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,o,t){return r(e,"y",u,n,o,t)};module.exports=e;
},{"./PropertyValueInc":"MLkU"}],"cenH":[function(require,module,exports) {
var r=function(r,o,t,a){void 0===t&&(t=0),void 0===a&&(a=6.28);for(var i=t,n=(a-t)/r.length,d=0;d<r.length;d++)r[d].x=o.x+o.radius*Math.cos(i),r[d].y=o.y+o.radius*Math.sin(i),i+=n;return r};module.exports=r;
},{}],"3fRn":[function(require,module,exports) {
var t=function(t,h,o,e){void 0===o&&(o=0),void 0===e&&(e=6.28);for(var i=o,n=(e-o)/t.length,r=h.width/2,a=h.height/2,d=0;d<t.length;d++)t[d].x=h.x+r*Math.cos(i),t[d].y=h.y+a*Math.sin(i),i+=n;return t};module.exports=t;
},{}],"57Ha":[function(require,module,exports) {
var e=require("../geom/line/GetPoints"),r=function(r,n){for(var t=e(n,r.length),o=0;o<r.length;o++){var i=r[o],l=t[o];i.x=l.x,i.y=l.y}return r};module.exports=r;
},{"../geom/line/GetPoints":"ioaQ"}],"rpAq":[function(require,module,exports) {
var t=require("./Perimeter"),e=require("../point/Point"),r=function(r,o,i,a){if(void 0===a&&(a=[]),!o&&!i)return a;o?i=Math.round(t(r)/o):o=t(r)/i;for(var n=r.x,u=r.y,s=0,b=0;b<i;b++)switch(a.push(new e(n,u)),s){case 0:(n+=o)>=r.right&&(s=1,u+=n-r.right,n=r.right);break;case 1:(u+=o)>=r.bottom&&(s=2,n-=u-r.bottom,u=r.bottom);break;case 2:(n-=o)<=r.left&&(s=3,u-=r.left-n,n=r.left);break;case 3:(u-=o)<=r.top&&(s=0,u=r.top)}return a};module.exports=r;
},{"./Perimeter":"adeU","../point/Point":"PzGB"}],"ITan":[function(require,module,exports) {
var r=function(r,o){void 0===o&&(o=1);for(var u=null,n=0;n<o;n++)u=r.shift(),r.push(u);return u};module.exports=r;
},{}],"6zEC":[function(require,module,exports) {
var o=function(o,r){void 0===r&&(r=1);for(var n=null,u=0;u<r;u++)n=o.pop(),o.unshift(n);return n};module.exports=o;
},{}],"0vIT":[function(require,module,exports) {
var r=require("../geom/rectangle/MarchingAnts"),e=require("../utils/array/RotateLeft"),t=require("../utils/array/RotateRight"),a=function(a,i,n){void 0===n&&(n=0);var o=r(i,!1,a.length);n>0?e(o,n):n<0&&t(o,Math.abs(n));for(var u=0;u<a.length;u++)a[u].x=o[u].x,a[u].y=o[u].y;return a};module.exports=a;
},{"../geom/rectangle/MarchingAnts":"rpAq","../utils/array/RotateLeft":"ITan","../utils/array/RotateRight":"6zEC"}],"amgp":[function(require,module,exports) {
var a=function(a,r,o){void 0===r&&(r=1),void 0===o&&(o=[]);var t=Math.round(a.x1),u=Math.round(a.y1),h=Math.round(a.x2),d=Math.round(a.y2),n=Math.abs(h-t),v=Math.abs(d-u),M=t<h?1:-1,s=u<d?1:-1,x=n-v;o.push({x:t,y:u});for(var y=1;t!==h||u!==d;){var e=x<<1;e>-v&&(x-=v,t+=M),e<n&&(x+=n,u+=s),y%r==0&&o.push({x:t,y:u}),y++}return o};module.exports=a;
},{}],"r/RT":[function(require,module,exports) {
var x=require("../geom/line/BresenhamPoints"),y=function(y,e,o){var r=x({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},o),n=x({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},o),t=x({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},o);r.pop(),n.pop(),t.pop();for(var a=(r=r.concat(n,t)).length/y.length,p=0,l=0;l<y.length;l++){var h=y[l],g=r[Math.floor(p)];h.x=g.x,h.y=g.y,p+=a}return y};module.exports=y;
},{"../geom/line/BresenhamPoints":"amgp"}],"/Fmk":[function(require,module,exports) {
var r=function(r,n,a){for(var e=0;e<r.length;e++)r[e].anims.play(n,a);return r};module.exports=r;
},{}],"y2Rl":[function(require,module,exports) {
var o=function(o,r,e,v,i,d){var f;void 0===v&&(v=0),void 0===i&&(i=0),void 0===d&&(d=1);var n=0,t=o.length;if(1===d)for(f=i;f<t;f++)o[f][r]=e+n*v,n++;else for(f=i;f>=0;f--)o[f][r]=e+n*v,n++;return o};module.exports=o;
},{}],"cUpm":[function(require,module,exports) {
var r=require("../geom/circle/Random"),e=function(e,o){for(var n=0;n<e.length;n++)r(o,e[n]);return e};module.exports=e;
},{"../geom/circle/Random":"7lNk"}],"7zUs":[function(require,module,exports) {
var t=require("../point/Point"),a=function(a,r){void 0===r&&(r=new t);var h=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return r.x=a.x+n*Math.cos(h)*a.width/2,r.y=a.y+n*Math.sin(h)*a.height/2,r};module.exports=a;
},{"../point/Point":"PzGB"}],"UcBo":[function(require,module,exports) {
var e=require("../geom/ellipse/Random"),r=function(r,o){for(var n=0;n<r.length;n++)e(o,r[n]);return r};module.exports=r;
},{"../geom/ellipse/Random":"7zUs"}],"iX8L":[function(require,module,exports) {
var e=require("../geom/line/Random"),r=function(r,n){for(var o=0;o<r.length;o++)e(n,r[o]);return r};module.exports=r;
},{"../geom/line/Random":"v+uM"}],"pXMz":[function(require,module,exports) {
var e=require("../geom/rectangle/Random"),r=function(r,n){for(var o=0;o<r.length;o++)e(n,r[o]);return r};module.exports=r;
},{"../geom/rectangle/Random":"uPfd"}],"E/fV":[function(require,module,exports) {
var r=require("../point/Point"),n=function(n,o){void 0===o&&(o=new r);var t=n.x2-n.x1,x=n.y2-n.y1,a=n.x3-n.x1,e=n.y3-n.y1,y=Math.random(),i=Math.random();return y+i>=1&&(y=1-y,i=1-i),o.x=n.x1+(t*y+a*i),o.y=n.y1+(x*y+e*i),o};module.exports=n;
},{"../point/Point":"PzGB"}],"MQHb":[function(require,module,exports) {
var r=require("../geom/triangle/Random"),e=function(e,n){for(var o=0;o<e.length;o++)r(n,e[o]);return e};module.exports=e;
},{"../geom/triangle/Random":"E/fV"}],"9esj":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,o,t,n,u){return r(e,"rotation",o,t,n,u)};module.exports=e;
},{"./PropertyValueInc":"MLkU"}],"3bNT":[function(require,module,exports) {
var a=function(a,t,n,r,o){var e=r+Math.atan2(a.y-n,a.x-t);return a.x=t+o*Math.cos(e),a.y=n+o*Math.sin(e),a};module.exports=a;
},{}],"EOwJ":[function(require,module,exports) {
var r=function(r,t,a,e){var n=r-a,o=t-e;return Math.sqrt(n*n+o*o)};module.exports=r;
},{}],"XO7c":[function(require,module,exports) {
var e=require("../math/RotateAroundDistance"),t=require("../math/distance/DistanceBetween"),r=function(r,a,n){for(var i=a.x,o=a.y,u=0;u<r.length;u++){var c=r[u];e(c,i,o,n,Math.max(1,t(c.x,c.y,i,o)))}return r};module.exports=r;
},{"../math/RotateAroundDistance":"3bNT","../math/distance/DistanceBetween":"EOwJ"}],"3etS":[function(require,module,exports) {
var r=require("../math/RotateAroundDistance"),e=function(e,t,n,a){var o=t.x,u=t.y;if(0===a)return e;for(var i=0;i<e.length;i++)r(e[i],o,u,n,a);return e};module.exports=e;
},{"../math/RotateAroundDistance":"3bNT"}],"bZ8R":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,u,n,o,t){return e(r,"scaleX",u,n,o,t)};module.exports=r;
},{"./PropertyValueInc":"MLkU"}],"UEd2":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,l,u,n,a,c,o){return null==u&&(u=l),e(r,"scaleX",l,n,c,o),e(r,"scaleY",u,a,c,o)};module.exports=r;
},{"./PropertyValueInc":"MLkU"}],"Josg":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,u,n,o,t){return e(r,"scaleY",u,n,o,t)};module.exports=r;
},{"./PropertyValueInc":"MLkU"}],"WMHb":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,a,o){return e(r,"alpha",t,u,a,o)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"3OqY":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,o,t,u){return e(r,"blendMode",o,0,t,u)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"tsQP":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"depth",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"Pp8M":[function(require,module,exports) {
var e=function(e,r,t){for(var n=0;n<e.length;n++)e[n].setInteractive(r,t);return e};module.exports=e;
},{}],"TFo0":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,i,n,o,u,t,l){return null==n&&(n=i),r(e,"originX",i,o,t,l),r(e,"originY",n,u,t,l)};module.exports=e;
},{"./PropertyValueSet":"y2Rl"}],"sKRK":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,t,o,u,n){return r(e,"rotation",t,o,u,n)};module.exports=e;
},{"./PropertyValueSet":"y2Rl"}],"fPVC":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,l,u,t,a,n,o){return null==u&&(u=l),e(r,"scaleX",l,t,n,o),e(r,"scaleY",u,a,n,o)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"hd1D":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,a){return e(r,"scaleX",t,u,o,a)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"s6Bz":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,a){return e(r,"scaleY",t,u,o,a)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"CAXp":[function(require,module,exports) {
var r=function(r,t,e,n,o){for(var u=0;u<r.length;u++)r[u].setTint(t,e,n,o);return r};module.exports=r;
},{}],"xeL6":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,i){return e(r,"visible",t,0,u,i)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"0ZiF":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"x",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"GzL+":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,u,t,l,n,o,a){return null==t&&(t=u),e(r,"x",u,l,o,a),e(r,"y",t,n,o,a)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"tfGB":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"y",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"y2Rl"}],"UwVo":[function(require,module,exports) {
var e=require("../math/Vector2"),x=function(x,r,y,o,t){var n,i,l,f,v,a;if(void 0===o&&(o=0),void 0===t&&(t=new e),x.length>1)if(0===o){var h=x.length-1;for(n=x[h].x,i=x[h].y,l=h-1;l>=0;l--)f=(a=x[l]).x,v=a.y,a.x=n,a.y=i,n=f,i=v;x[h].x=r,x[h].y=y}else{for(n=x[0].x,i=x[0].y,l=1;l<x.length;l++)f=(a=x[l]).x,v=a.y,a.x=n,a.y=i,n=f,i=v;x[0].x=r,x[0].y=y}else n=x[0].x,i=x[0].y,x[0].x=r,x[0].y=y;return t.x=n,t.y=i,t};module.exports=x;
},{"../math/Vector2":"2OLl"}],"c0Vz":[function(require,module,exports) {
var r=function(r){for(var o=r.length-1;o>0;o--){var a=Math.floor(Math.random()*(o+1)),t=r[o];r[o]=r[a],r[a]=t}return r};module.exports=r;
},{}],"1Puc":[function(require,module,exports) {
var r=require("../utils/array/Shuffle"),e=function(e){return r(e)};module.exports=e;
},{"../utils/array/Shuffle":"c0Vz"}],"5Vcq":[function(require,module,exports) {
var t=function(t,a,n){return(t=Math.max(0,Math.min(1,(t-a)/(n-a))))*t*t*(t*(6*t-15)+10)};module.exports=t;
},{}],"4ODN":[function(require,module,exports) {
var e=require("../math/SmootherStep"),r=function(r,t,o,h,n){void 0===n&&(n=!1);var a,l=Math.abs(h-o)/r.length;if(n)for(a=0;a<r.length;a++)r[a][t]+=e(a*l,o,h);else for(a=0;a<r.length;a++)r[a][t]=e(a*l,o,h);return r};module.exports=r;
},{"../math/SmootherStep":"5Vcq"}],"YtqF":[function(require,module,exports) {
var r=function(r,e,n){return r<=e?0:r>=n?1:(r=(r-e)/(n-e))*r*(3-2*r)};module.exports=r;
},{}],"li6s":[function(require,module,exports) {
var e=require("../math/SmoothStep"),t=function(t,r,o,h,n){void 0===n&&(n=!1);var a,l=Math.abs(h-o)/t.length;if(n)for(a=0;a<t.length;a++)t[a][r]+=e(a*l,o,h);else for(a=0;a<t.length;a++)t[a][r]=e(a*l,o,h);return t};module.exports=t;
},{"../math/SmoothStep":"YtqF"}],"xhuW":[function(require,module,exports) {
var e=function(e,r,t,n,o){void 0===o&&(o=!1);var l,a=Math.abs(n-t)/e.length;if(o)for(l=0;l<e.length;l++)e[l][r]+=l*a;else for(l=0;l<e.length;l++)e[l][r]=l*a;return e};module.exports=e;
},{}],"QM6+":[function(require,module,exports) {
var e=function(e){for(var r=0;r<e.length;r++)e[r].visible=!e[r].visible;return e};module.exports=e;
},{}],"zQET":[function(require,module,exports) {
var r=require("../math/Wrap"),t=function(t,o,e){void 0===e&&(e=0);for(var a=0;a<t.length;a++){var i=t[a];i.x=r(i.x,o.left-e,o.right+e),i.y=r(i.y,o.top-e,o.bottom+e)}return t};module.exports=t;
},{"../math/Wrap":"Xl2Y"}],"z50Y":[function(require,module,exports) {
module.exports={Angle:require("./Angle"),Call:require("./Call"),GetFirst:require("./GetFirst"),GetLast:require("./GetLast"),GridAlign:require("./GridAlign"),IncAlpha:require("./IncAlpha"),IncX:require("./IncX"),IncXY:require("./IncXY"),IncY:require("./IncY"),PlaceOnCircle:require("./PlaceOnCircle"),PlaceOnEllipse:require("./PlaceOnEllipse"),PlaceOnLine:require("./PlaceOnLine"),PlaceOnRectangle:require("./PlaceOnRectangle"),PlaceOnTriangle:require("./PlaceOnTriangle"),PlayAnimation:require("./PlayAnimation"),PropertyValueInc:require("./PropertyValueInc"),PropertyValueSet:require("./PropertyValueSet"),RandomCircle:require("./RandomCircle"),RandomEllipse:require("./RandomEllipse"),RandomLine:require("./RandomLine"),RandomRectangle:require("./RandomRectangle"),RandomTriangle:require("./RandomTriangle"),Rotate:require("./Rotate"),RotateAround:require("./RotateAround"),RotateAroundDistance:require("./RotateAroundDistance"),ScaleX:require("./ScaleX"),ScaleXY:require("./ScaleXY"),ScaleY:require("./ScaleY"),SetAlpha:require("./SetAlpha"),SetBlendMode:require("./SetBlendMode"),SetDepth:require("./SetDepth"),SetHitArea:require("./SetHitArea"),SetOrigin:require("./SetOrigin"),SetRotation:require("./SetRotation"),SetScale:require("./SetScale"),SetScaleX:require("./SetScaleX"),SetScaleY:require("./SetScaleY"),SetTint:require("./SetTint"),SetVisible:require("./SetVisible"),SetX:require("./SetX"),SetXY:require("./SetXY"),SetY:require("./SetY"),ShiftPosition:require("./ShiftPosition"),Shuffle:require("./Shuffle"),SmootherStep:require("./SmootherStep"),SmoothStep:require("./SmoothStep"),Spread:require("./Spread"),ToggleVisible:require("./ToggleVisible"),WrapInRectangle:require("./WrapInRectangle")};
},{"./Angle":"r4cQ","./Call":"iR8v","./GetFirst":"XGDW","./GetLast":"XGDW","./GridAlign":"InCn","./IncAlpha":"zG2N","./IncX":"Bbsy","./IncXY":"6VFK","./IncY":"YrDC","./PlaceOnCircle":"cenH","./PlaceOnEllipse":"3fRn","./PlaceOnLine":"57Ha","./PlaceOnRectangle":"0vIT","./PlaceOnTriangle":"r/RT","./PlayAnimation":"/Fmk","./PropertyValueInc":"MLkU","./PropertyValueSet":"y2Rl","./RandomCircle":"cUpm","./RandomEllipse":"UcBo","./RandomLine":"iX8L","./RandomRectangle":"pXMz","./RandomTriangle":"MQHb","./Rotate":"9esj","./RotateAround":"XO7c","./RotateAroundDistance":"3etS","./ScaleX":"bZ8R","./ScaleXY":"UEd2","./ScaleY":"Josg","./SetAlpha":"WMHb","./SetBlendMode":"3OqY","./SetDepth":"tsQP","./SetHitArea":"Pp8M","./SetOrigin":"TFo0","./SetRotation":"sKRK","./SetScale":"fPVC","./SetScaleX":"hd1D","./SetScaleY":"s6Bz","./SetTint":"CAXp","./SetVisible":"xeL6","./SetX":"0ZiF","./SetXY":"GzL+","./SetY":"tfGB","./ShiftPosition":"UwVo","./Shuffle":"1Puc","./SmootherStep":"4ODN","./SmoothStep":"li6s","./Spread":"xhuW","./ToggleVisible":"QM6+","./WrapInRectangle":"zQET"}],"c+o/":[function(require,module,exports) {
var r=function(r,e,n){if(!e.length)return NaN;if(1===e.length)return e[0];var t,f,l=1;if(n){if(r<e[0][n])return e[0];for(;e[l][n]<r;)l++}else for(;e[l]<r;)l++;return l>e.length&&(l=e.length),n?(t=e[l-1][n],(f=e[l][n])-r<=r-t?e[l]:e[l-1]):(t=e[l-1],(f=e[l])-r<=r-t?f:t)};module.exports=r;
},{}],"9Rda":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,e,r){this.textureKey=t,this.textureFrame=i,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});module.exports=i;
},{"../utils/Class":"f5Xp"}],"8Li0":[function(require,module,exports) {
var r=function(r,e,n){if(r&&"number"!=typeof r){if(r.hasOwnProperty(e))return r[e];if(e.indexOf(".")){for(var t=e.split("."),f=r,i=n,o=0;o<t.length;o++){if(!f.hasOwnProperty(t[o])){i=n;break}i=f[t[o]],f=f[t[o]]}return i}return n}return n};module.exports=r;
},{}],"wQuO":[function(require,module,exports) {
var e=require("../math/Clamp"),t=require("../utils/Class"),r=require("../utils/array/FindClosestInSorted"),a=require("./AnimationFrame"),i=require("../utils/object/GetValue"),s=new t({initialize:function(e,t,r){this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,i(r,"frames",[]),i(r,"defaultTextureKey",null)),this.frameRate=i(r,"frameRate",null),this.duration=i(r,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=i(r,"skipMissedFrames",!0),this.delay=i(r,"delay",0),this.repeat=i(r,"repeat",0),this.repeatDelay=i(r,"repeatDelay",0),this.yoyo=i(r,"yoyo",!1),this.showOnStart=i(r,"showOnStart",!1),this.hideOnComplete=i(r,"hideOnComplete",!1),this.paused=!1,this.manager.on("pauseall",this.pause,this),this.manager.on("resumeall",this.resume,this)},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var r=this.getFrames(this.manager.textureManager,t);if(r.length>0){if(0===e)this.frames=r.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(r);else{var a=this.frames.slice(0,e),i=this.frames.slice(e);this.frames=a.concat(r,i)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},completeAnimation:function(e){this.hideOnComplete&&(e.parent.visible=!1),e.stop()},getFirstTick:function(e,t){void 0===t&&(t=!0),e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration,t&&(e.nextTick+=e._delay)},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,r){var s,n,m,h,o=[],u=1;if("string"==typeof t){h=t;var f=e.get(h).getFrameNames();t=[],f.forEach(function(e,r){t.push({key:h,frame:r})})}if(!Array.isArray(t)||0===t.length)return o;for(m=0;m<t.length;m++){var p=t[m],l=i(p,"key",r);if(l){var c=i(p,"frame",0),d=e.getFrame(l,c);(n=new a(l,c,u,d)).duration=i(p,"duration",0),n.isFirst=!s,s&&(s.nextFrame=n,n.prevFrame=s),o.push(n),s=n,u++}}if(o.length>0){n.isLast=!0,n.nextFrame=o[0],o[0].prevFrame=n;var F=1/(o.length-1);for(m=0;m<o.length;m++)o[m].progress=m*F}return o},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},load:function(e,t){t>=this.frames.length&&(t=0),e.currentAnim!==this&&(e.currentAnim=this,e.frameRate=this.frameRate,e.duration=this.duration,e.msPerFrame=this.msPerFrame,e.skipMissedFrames=this.skipMissedFrames,e._timeScale=1,e._delay=this.delay,e._repeat=this.repeat,e._repeatDelay=this.repeatDelay,e._yoyo=this.yoyo),e.updateFrame(this.frames[t])},getFrameByProgress:function(t){return t=e(t,0,1),r(t,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e._yoyo?(e.forward=!1,e.updateFrame(t.prevFrame),this.getNextTick(e)):e.repeatCounter>0?this.repeatAnimation(e):this.completeAnimation(e):(e.updateFrame(t.nextFrame),this.getNextTick(e))},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e.repeatCounter>0?this.repeatAnimation(e):this.completeAnimation(e):(e.updateFrame(t.prevFrame),this.getNextTick(e))},removeFrame:function(e){var t=this.frames.indexOf(e);return-1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop)return this.completeAnimation(e);e._repeatDelay>0&&!1===e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e._repeatDelay):(e.repeatCounter--,e.forward=!0,e.updateFrame(e.currentFrame.nextFrame),e.isPlaying&&(this.getNextTick(e),e.pendingRepeat=!1,e.parent.emit("animationrepeat",this,e.currentFrame,e.repeatCounter)))},setFrame:function(e){e.forward?this.nextFrame(e):this.previousFrame(e)},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(t){e.frames.push(t.toJSON())}),e},updateFrameSequence:function(){for(var e=this.frames.length,t=1/(e-1),r=0;r<e;r++){var a=this.frames[r];a.index=r+1,a.isFirst=!1,a.isLast=!1,a.progress=r*t,0===r?(a.isFirst=!0,a.isLast=1===e,a.prevFrame=this.frames[e-1],a.nextFrame=this.frames[r+1]):r===e-1?(a.isLast=!0,a.prevFrame=this.frames[e-2],a.nextFrame=this.frames[0]):e>1&&(a.prevFrame=this.frames[r-1],a.nextFrame=this.frames[r+1])}return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off("pauseall",this.pause,this),this.manager.off("resumeall",this.resume,this),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});module.exports=s;
},{"../math/Clamp":"mAiE","../utils/Class":"f5Xp","../utils/array/FindClosestInSorted":"c+o/","./AnimationFrame":"9Rda","../utils/object/GetValue":"8Li0"}],"aw/2":[function(require,module,exports) {
var t=require("../utils/Class"),e=new t({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||(this.entries[t]=e,this.size++),this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in console.group("Map"),t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,r=t.entries;for(var n in r)i.hasOwnProperty(n)&&e?i[n]=r[n]:this.set(n,r[n]);return this}});module.exports=e;
},{"../utils/Class":"f5Xp"}],"TaNK":[function(require,module,exports) {
var e=function(e,r,n,a){void 0===r&&(r=0),void 0===n&&(n=" "),void 0===a&&(a=3);var i=0;if(r+1>=(e=e.toString()).length)switch(a){case 1:e=new Array(r+1-e.length).join(n)+e;break;case 3:var t=Math.ceil((i=r-e.length)/2);e=new Array(i-t+1).join(n)+e+new Array(t+1).join(n);break;default:e+=new Array(r+1-e.length).join(n)}return e};module.exports=e;
},{}],"uXZC":[function(require,module,exports) {
var e=require("./Animation"),t=require("../utils/Class"),r=require("../structs/Map"),a=require("eventemitter3"),i=require("../utils/object/GetValue"),s=require("../utils/string/Pad"),n=new t({Extends:a,initialize:function(e){a.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.paused=!1,this.name="AnimationManager",e.events.once("boot",this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once("destroy",this.destroy,this)},add:function(e,t){if(!this.anims.has(e))return t.key=e,this.anims.set(e,t),this.emit("add",e,t),this;console.warn("Animation with key",e,"already exists")},create:function(t){var r=t.key;if(r&&!this.anims.has(r)){var a=new e(this,r,t);return this.anims.set(r,a),this.emit("add",r,a),a}console.warn("Invalid Animation Key, or Key already in use: "+r)},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"==typeof e&&(e=JSON.parse(e));var r=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var a=0;a<e.anims.length;a++)r.push(this.create(e.anims[a]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&r.push(this.create(e));return r},generateFrameNames:function(e,t){var r=i(t,"prefix",""),a=i(t,"start",0),n=i(t,"end",0),u=i(t,"suffix",""),h=i(t,"zeroPad",0),o=i(t,"outputArray",[]),l=i(t,"frames",!1),m=this.textureManager.get(e);if(!m)return o;var f,y,g=a<n?1:-1;if(n+=g,t)if(Array.isArray(l))for(f=0;f<l.length;f++)y=r+s(l[f],h,"0",1)+u,m.has(y)&&o.push({key:e,frame:y});else for(f=a;f!==n;f+=g)y=r+s(f,h,"0",1)+u,m.has(y)&&o.push({key:e,frame:y});else for(l=m.getFrameNames(),f=0;f<l.length;f++)o.push({key:e,frame:l[f]});return o},generateFrameNumbers:function(e,t){var r,a=i(t,"start",0),s=i(t,"end",-1),n=i(t,"first",!1),u=i(t,"outputArray",[]),h=i(t,"frames",!1),o=this.textureManager.get(e);if(!o)return u;if(n&&o.has(n)&&u.push({key:e,frame:n}),Array.isArray(h))for(r=0;r<h.length;r++)o.has(h[r])&&u.push({key:e,frame:h[r]});else for(-1===s&&(s=o.frameTotal),r=a;r<=s;r++)o.has(r)&&u.push({key:e,frame:r});return u},get:function(e){return this.anims.get(e)},load:function(e,t,r){var a=this.get(t);return a&&a.load(e,r),e},pauseAll:function(){return this.paused||(this.paused=!0,this.emit("pauseall")),this},play:function(e,t){if(Array.isArray(t)||(t=[t]),this.get(e)){for(var r=0;r<t.length;r++)t[r].anims.play(e);return this}},remove:function(e){var t=this.get(e);return t&&(this.emit("remove",e,t),this.anims.delete(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit("resumeall")),this},staggerPlay:function(e,t,r){if(void 0===r&&(r=0),Array.isArray(t)||(t=[t]),this.get(e)){for(var a=0;a<t.length;a++)t[a].anims.delayedPlay(r*a,e);return this}},toJSON:function(e){if(void 0!==e&&""!==e)return this.anims.get(e).toJSON();var t={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(e,r){t.anims.push(r.toJSON())}),t},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});module.exports=n;
},{"./Animation":"wQuO","../utils/Class":"f5Xp","../structs/Map":"aw/2","eventemitter3":"LqgX","../utils/object/GetValue":"8Li0","../utils/string/Pad":"TaNK"}],"JIzn":[function(require,module,exports) {
module.exports={Animation:require("./Animation"),AnimationFrame:require("./AnimationFrame"),AnimationManager:require("./AnimationManager")};
},{"./Animation":"wQuO","./AnimationFrame":"9Rda","./AnimationManager":"uXZC"}],"Gq7a":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("../structs/Map"),i=require("eventemitter3"),s=new e({initialize:function(){this.entries=new t,this.events=new i},add:function(e,t){return this.entries.set(e,t),this.events.emit("add",this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit("remove",this,e,t.data)),this},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});module.exports=s;
},{"../utils/Class":"f5Xp","../structs/Map":"aw/2","eventemitter3":"LqgX"}],"YE+3":[function(require,module,exports) {
var t=require("./BaseCache"),s=require("../utils/Class"),i=new s({initialize:function(s){this.game=s,this.binary=new t,this.bitmapFont=new t,this.json=new t,this.physics=new t,this.shader=new t,this.audio=new t,this.text=new t,this.obj=new t,this.tilemap=new t,this.xml=new t,this.custom={},this.game.events.once("destroy",this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new t),this.custom[s]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","text","obj","tilemap","xml"],s=0;s<t.length;s++)this[t[s]].destroy(),this[t[s]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});module.exports=i;
},{"./BaseCache":"Gq7a","../utils/Class":"f5Xp"}],"TFnC":[function(require,module,exports) {
module.exports={BaseCache:require("./BaseCache"),CacheManager:require("./CacheManager")};
},{"./BaseCache":"Gq7a","./CacheManager":"YE+3"}],"6jH7":[function(require,module,exports) {
var t=require("../../utils/Class"),s=require("../../utils/object/GetValue"),i=new t({initialize:function(t){this.camera=s(t,"camera",null),this.left=s(t,"left",null),this.right=s(t,"right",null),this.up=s(t,"up",null),this.down=s(t,"down",null),this.zoomIn=s(t,"zoomIn",null),this.zoomOut=s(t,"zoomOut",null),this.zoomSpeed=s(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var i=s(t,"speed",null);"number"==typeof i?(this.speedX=i,this.speedY=i):(this.speedX=s(t,"speed.x",0),this.speedY=s(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<.1&&(s.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module.exports=i;
},{"../../utils/Class":"f5Xp","../../utils/object/GetValue":"8Li0"}],"dHdF":[function(require,module,exports) {
var e=require("../../utils/Class"),s=require("../../utils/object/GetValue"),t=new e({initialize:function(e){this.camera=s(e,"camera",null),this.left=s(e,"left",null),this.right=s(e,"right",null),this.up=s(e,"up",null),this.down=s(e,"down",null),this.zoomIn=s(e,"zoomIn",null),this.zoomOut=s(e,"zoomOut",null),this.zoomSpeed=s(e,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var t=s(e,"acceleration",null);"number"==typeof t?(this.accelX=t,this.accelY=t):(this.accelX=s(e,"acceleration.x",0),this.accelY=s(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=s(e,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=s(e,"drag.x",0),this.dragY=s(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=s(e,"maxSpeed",null);"number"==typeof h?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=s(e,"maxSpeed.x",0),this.maxSpeedY=s(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(s.scrollX-=this._speedX*e|0),0!==this._speedY&&(s.scrollY-=this._speedY*e|0),0!==this._zoom&&(s.zoom+=this._zoom,s.zoom<.1&&(s.zoom=.1))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module.exports=t;
},{"../../utils/Class":"f5Xp","../../utils/object/GetValue":"8Li0"}],"Smqu":[function(require,module,exports) {
module.exports={FixedKeyControl:require("./FixedKeyControl"),SmoothedKeyControl:require("./SmoothedKeyControl")};
},{"./FixedKeyControl":"6jH7","./SmoothedKeyControl":"dHdF"}],"F3Wk":[function(require,module,exports) {
var t=function(t,e,r){return t.x=e-t.width/2,t.y=r-t.height/2,t};module.exports=t;
},{}],"hyJn":[function(require,module,exports) {
var r=require("./const"),e=function(e){return e*r.DEG_TO_RAD};module.exports=e;
},{"./const":"fj5M"}],"nUMY":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),e=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,e,s,h,a,n,r){if(void 0===t&&(t=!0),void 0===i&&(i=1e3),void 0===e&&(e=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===a&&(a=!1),void 0===n&&(n=null),void 0===r&&(r=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=t,this.progress=0,this.red=e,this.green=s,this.blue=h,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=n,this._onUpdateScope=r;var o=t?"camerafadeoutstart":"camerafadeinstart";return this.camera.emit(o,this.camera,this,i,e,s,h),this.camera},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=t(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(t,i){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera,s=this.red/255,h=this.blue/255,a=this.green/255;return t.batchFillRect(0,0,1,1,0,e.x,e.y,e.width,e.height,i(s,a,h,1),this.alpha,1,0,0,1,0,0,[1,0,0,1,0,0]),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?"camerafadeoutcomplete":"camerafadeincomplete";this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=e;
},{"../../../math/Clamp":"mAiE","../../../utils/Class":"f5Xp"}],"iakx":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),e=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,e,s,h,n,a){return void 0===t&&(t=250),void 0===i&&(i=255),void 0===e&&(e=255),void 0===s&&(s=255),void 0===h&&(h=!1),void 0===n&&(n=null),void 0===a&&(a=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,this.red=i,this.green=e,this.blue=s,this.alpha=1,this._elapsed=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit("cameraflashstart",this.camera,this,t,i,e,s),this.camera)},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=t(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var i=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(t,i){if(!this.isRunning)return!1;var e=this.camera,s=this.red/255,h=this.blue/255,n=this.green/255;return t.batchFillRect(0,0,1,1,0,e.x,e.y,e.width,e.height,i(s,n,h,1),this.alpha,1,0,0,1,0,0,[1,0,0,1,0,0]),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("cameraflashcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=e;
},{"../../../math/Clamp":"mAiE","../../../utils/Class":"f5Xp"}],"P5XO":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1.70158),o*o*((r+1)*o-r)};module.exports=o;
},{}],"F3Pp":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1.70158),--o*o*((r+1)*o+r)+1};module.exports=o;
},{}],"ZG27":[function(require,module,exports) {
var r=function(r,o){void 0===o&&(o=1.70158);var e=1.525*o;return(r*=2)<1?r*r*((e+1)*r-e)*.5:.5*((r-=2)*r*((e+1)*r+e)+2)};module.exports=r;
},{}],"h8GY":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"P5XO","./Out":"F3Pp","./InOut":"ZG27"}],"1qdl":[function(require,module,exports) {
var r=function(r){return(r=1-r)<1/2.75?1-7.5625*r*r:r<2/2.75?1-(7.5625*(r-=1.5/2.75)*r+.75):r<2.5/2.75?1-(7.5625*(r-=2.25/2.75)*r+.9375):1-(7.5625*(r-=2.625/2.75)*r+.984375)};module.exports=r;
},{}],"bw4L":[function(require,module,exports) {
var r=function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375};module.exports=r;
},{}],"aU1N":[function(require,module,exports) {
var r=function(r){var e=!1;return r<.5?(r=1-2*r,e=!0):r=2*r-1,r<1/2.75?r*=7.5625*r:r=r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,e?.5*(1-r):.5*r+.5};module.exports=r;
},{}],"B0WK":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"1qdl","./Out":"bw4L","./InOut":"aU1N"}],"HJ7t":[function(require,module,exports) {
var r=function(r){return 1-Math.sqrt(1-r*r)};module.exports=r;
},{}],"j+HI":[function(require,module,exports) {
var r=function(r){return Math.sqrt(1- --r*r)};module.exports=r;
},{}],"NT+/":[function(require,module,exports) {
var t=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};module.exports=t;
},{}],"rbFN":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"HJ7t","./Out":"j+HI","./InOut":"NT+/"}],"+fJv":[function(require,module,exports) {
var r=function(r){return r*r*r};module.exports=r;
},{}],"sDO8":[function(require,module,exports) {
var r=function(r){return--r*r*r+1};module.exports=r;
},{}],"Iols":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};module.exports=r;
},{}],"sPY0":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"+fJv","./Out":"sDO8","./InOut":"Iols"}],"/8Hn":[function(require,module,exports) {
var t=function(t,r,a){if(void 0===r&&(r=.1),void 0===a&&(a=.1),0===t)return 0;if(1===t)return 1;var i=a/4;return r<1?r=1:i=a*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/a)};module.exports=t;
},{}],"G3cS":[function(require,module,exports) {
var t=function(t,r,a){if(void 0===r&&(r=.1),void 0===a&&(a=.1),0===t)return 0;if(1===t)return 1;var i=a/4;return r<1?r=1:i=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/a)+1};module.exports=t;
},{}],"U0PZ":[function(require,module,exports) {
var t=function(t,a,r){if(void 0===a&&(a=.1),void 0===r&&(r=.1),0===t)return 0;if(1===t)return 1;var h=r/4;return a<1?a=1:h=r*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?a*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/r)*-.5:a*Math.pow(2,-10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/r)*.5+1};module.exports=t;
},{}],"Ug0z":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"/8Hn","./Out":"G3cS","./InOut":"U0PZ"}],"P3Nm":[function(require,module,exports) {
var o=function(o){return Math.pow(2,10*(o-1))-.001};module.exports=o;
},{}],"mIyx":[function(require,module,exports) {
var o=function(o){return 1-Math.pow(2,-10*o)};module.exports=o;
},{}],"i/T9":[function(require,module,exports) {
var o=function(o){return(o*=2)<1?.5*Math.pow(2,10*(o-1)):.5*(2-Math.pow(2,-10*(o-1)))};module.exports=o;
},{}],"5849":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"P3Nm","./Out":"mIyx","./InOut":"i/T9"}],"DyU0":[function(require,module,exports) {
var r=function(r){return r};module.exports=r;
},{}],"cmiG":[function(require,module,exports) {
module.exports=require("./Linear");
},{"./Linear":"DyU0"}],"rkOk":[function(require,module,exports) {
var r=function(r){return r*r};module.exports=r;
},{}],"26cx":[function(require,module,exports) {
var r=function(r){return r*(2-r)};module.exports=r;
},{}],"ia4U":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};module.exports=r;
},{}],"oT3U":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"rkOk","./Out":"26cx","./InOut":"ia4U"}],"f81V":[function(require,module,exports) {
var r=function(r){return r*r*r*r};module.exports=r;
},{}],"XT7k":[function(require,module,exports) {
var r=function(r){return 1- --r*r*r*r};module.exports=r;
},{}],"/uuB":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};module.exports=r;
},{}],"Zpf2":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"f81V","./Out":"XT7k","./InOut":"/uuB"}],"Acxm":[function(require,module,exports) {
var r=function(r){return r*r*r*r*r};module.exports=r;
},{}],"CMjE":[function(require,module,exports) {
var r=function(r){return--r*r*r*r*r+1};module.exports=r;
},{}],"vejl":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};module.exports=r;
},{}],"x9sO":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"Acxm","./Out":"CMjE","./InOut":"vejl"}],"78oX":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)};module.exports=t;
},{}],"0vZE":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)};module.exports=t;
},{}],"AMvj":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))};module.exports=t;
},{}],"e8nc":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"78oX","./Out":"0vZE","./InOut":"AMvj"}],"dI1g":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1),o<=0?0:o>=1?1:1/r*(1+(r*o|0))};module.exports=o;
},{}],"WdbI":[function(require,module,exports) {
module.exports=require("./Stepped");
},{"./Stepped":"dI1g"}],"8S8r":[function(require,module,exports) {
var e=require("./back"),u=require("./bounce"),t=require("./circular"),n=require("./cubic"),a=require("./elastic"),O=require("./expo"),r=require("./linear"),i=require("./quadratic"),I=require("./quartic"),s=require("./quintic"),c=require("./sine"),o=require("./stepped");module.exports={Power0:r,Power1:i.Out,Power2:n.Out,Power3:I.Out,Power4:s.Out,Linear:r,Quad:i.Out,Cubic:n.Out,Quart:I.Out,Quint:s.Out,Sine:c.Out,Expo:O.Out,Circ:t.Out,Elastic:a.Out,Back:e.Out,Bounce:u.Out,Stepped:o,"Quad.easeIn":i.In,"Cubic.easeIn":n.In,"Quart.easeIn":I.In,"Quint.easeIn":s.In,"Sine.easeIn":c.In,"Expo.easeIn":O.In,"Circ.easeIn":t.In,"Elastic.easeIn":a.In,"Back.easeIn":e.In,"Bounce.easeIn":u.In,"Quad.easeOut":i.Out,"Cubic.easeOut":n.Out,"Quart.easeOut":I.Out,"Quint.easeOut":s.Out,"Sine.easeOut":c.Out,"Expo.easeOut":O.Out,"Circ.easeOut":t.Out,"Elastic.easeOut":a.Out,"Back.easeOut":e.Out,"Bounce.easeOut":u.Out,"Quad.easeInOut":i.InOut,"Cubic.easeInOut":n.InOut,"Quart.easeInOut":I.InOut,"Quint.easeInOut":s.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":O.InOut,"Circ.easeInOut":t.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":u.InOut};
},{"./back":"h8GY","./bounce":"B0WK","./circular":"rbFN","./cubic":"sPY0","./elastic":"Ug0z","./expo":"5849","./linear":"cmiG","./quadratic":"oT3U","./quartic":"Zpf2","./quintic":"x9sO","./sine":"e8nc","./stepped":"WdbI"}],"/yLp":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../../../math/Vector2"),e=require("../../../math/easing/EaseMap"),n=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,s,n,a,r,h){void 0===s&&(s=1e3),void 0===n&&(n=e.Linear),void 0===a&&(a=!1),void 0===r&&(r=null),void 0===h&&(h=this.camera.scene);var o=this.camera;return!a&&this.isRunning?o:(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(o.scrollX,o.scrollY),this.destination.set(t,i),o.getScroll(t,i,this.current),"string"==typeof n&&e.hasOwnProperty(n)?this.ease=e[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=r,this._onUpdateScope=h,this.camera.emit("camerapanstart",this.camera,this,s,t,i),o)},update:function(i,s){if(this.isRunning){this._elapsed+=s;var e=t(this._elapsed/this.duration,0,1);this.progress=e;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(e);n.getScroll(this.destination.x,this.destination.y,this.current);var r=this.source.x+(this.current.x-this.source.x)*a,h=this.source.y+(this.current.y-this.source.y)*a;n.setScroll(r,h),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,e,r,h)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,e,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerapancomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});module.exports=n;
},{"../../../math/Clamp":"mAiE","../../../utils/Class":"f5Xp","../../../math/Vector2":"2OLl","../../../math/easing/EaseMap":"8S8r"}],"kXRk":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../../../math/Vector2"),e=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,i,s,e,h){return void 0===t&&(t=100),void 0===i&&(i=.05),void 0===s&&(s=!1),void 0===e&&(e=null),void 0===h&&(h=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof i?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=e,this._onUpdateScope=h,this.camera.emit("camerashakestart",this.camera,this,t,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,s){if(this.isRunning)if(this._elapsed+=s,this.progress=t(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var e=this.intensity,h=this.camera.width,n=this.camera.height,a=this.camera.zoom;this._offsetX=(Math.random()*e.x*h*2-e.x*h)*a,this._offsetY=(Math.random()*e.y*n*2-e.y*n)*a,this.camera.roundPixels&&(this._offsetX|=0,this._offsetY|=0)}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerashakecomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});module.exports=e;
},{"../../../math/Clamp":"mAiE","../../../utils/Class":"f5Xp","../../../math/Vector2":"2OLl"}],"Y0OB":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../../../math/easing/EaseMap"),e=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,e,a,n,o){void 0===i&&(i=1e3),void 0===e&&(e=s.Linear),void 0===a&&(a=!1),void 0===n&&(n=null),void 0===o&&(o=this.camera.scene);var h=this.camera;return!a&&this.isRunning?h:(this.isRunning=!0,this.duration=i,this.progress=0,this.source=h.zoom,this.destination=t,"string"==typeof e&&s.hasOwnProperty(e)?this.ease=s[e]:"function"==typeof e&&(this.ease=e),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit("camerazoomstart",this.camera,this,i,t),h)},update:function(i,s){this.isRunning&&(this._elapsed+=s,this.progress=t(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerazoomcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=e;
},{"../../../math/Clamp":"mAiE","../../../utils/Class":"f5Xp","../../../math/easing/EaseMap":"8S8r"}],"WvhR":[function(require,module,exports) {
module.exports={Fade:require("./Fade"),Flash:require("./Flash"),Pan:require("./Pan"),Shake:require("./Shake"),Zoom:require("./Zoom")};
},{"./Fade":"nUMY","./Flash":"iakx","./Pan":"/yLp","./Shake":"kXRk","./Zoom":"Y0OB"}],"QBm/":[function(require,module,exports) {
var r=function(r,e,n){return(e-r)*n+r};module.exports=r;
},{}],"qLNO":[function(require,module,exports) {
var r=function(r,e,n){return r<<16|e<<8|n};module.exports=r;
},{}],"g7dB":[function(require,module,exports) {
var r=function(r,e,n,o){return o<<24|r<<16|e<<8|n};module.exports=r;
},{}],"3X4+":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./GetColor"),h=require("./GetColor32"),s=new t({initialize:function(t,i,h,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===s&&(s=255),this.r=0,this.g=0,this.b=0,this.a=255,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,i,h,s)},transparent:function(){return this.red=0,this.green=0,this.blue=0,this.alpha=0,this.update()},setTo:function(t,i,h,s){return void 0===s&&(s=255),this.red=t,this.green=i,this.blue=h,this.alpha=s,this.update()},setGLTo:function(t,i,h,s){return void 0===s&&(s=1),this.redGL=t,this.greenGL=i,this.blueGL=h,this.alphaGL=s,this.update()},setFromRGB:function(t){return this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this.update()},update:function(){return this._color=i(this.r,this.g,this.b),this._color32=h(this.r,this.g,this.b,this.a),this._rgba="rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")",this},clone:function(){return new s(this.r,this.g,this.b,this.a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update()}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update()}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update()}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update()}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update()}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update()}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}}});module.exports=s;
},{"../../utils/Class":"f5Xp","./GetColor":"qLNO","./GetColor32":"g7dB"}],"vSJL":[function(require,module,exports) {
var r=require("./Color"),e=function(e){var a=new r;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,e,a,n){return e+e+a+a+n+n});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){var f=parseInt(n[1],16),t=parseInt(n[2],16),d=parseInt(n[3],16);a.setTo(f,t,d)}return a};module.exports=e;
},{"./Color":"3X4+"}],"wlbx":[function(require,module,exports) {
var r=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:255&r}:{a:255,r:r>>16&255,g:r>>8&255,b:255&r}};module.exports=r;
},{}],"vROm":[function(require,module,exports) {
var r=require("./Color"),e=require("./IntegerToRGB"),o=function(o){var n=e(o);return new r(n.r,n.g,n.b,n.a)};module.exports=o;
},{"./Color":"3X4+","./IntegerToRGB":"wlbx"}],"/vOF":[function(require,module,exports) {
var r=require("./Color"),e=function(e){return new r(e.r,e.g,e.b,e.a)};module.exports=e;
},{"./Color":"3X4+"}],"nWfL":[function(require,module,exports) {
var e=require("./Color"),r=function(r){var s=new e,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(r.toLowerCase());if(a){var o=parseInt(a[1],10),t=parseInt(a[2],10),d=parseInt(a[3],10),n=void 0!==a[4]?parseFloat(a[4]):1;s.setTo(o,t,d,255*n)}return s};module.exports=r;
},{"./Color":"3X4+"}],"pLm8":[function(require,module,exports) {
var r=require("./HexStringToColor"),e=require("./IntegerToColor"),o=require("./ObjectToColor"),t=require("./RGBStringToColor"),u=function(u){switch(typeof u){case"string":return"rgb"===u.substr(0,3).toLowerCase()?t(u):r(u);case"number":return e(u);case"object":return o(u)}};module.exports=u;
},{"./HexStringToColor":"vSJL","./IntegerToColor":"vROm","./ObjectToColor":"/vOF","./RGBStringToColor":"nWfL"}],"aBrD":[function(require,module,exports) {
var t=require("../../geom/rectangle/CenterOn"),i=require("../../math/Clamp"),s=require("../../utils/Class"),e=require("../../math/DegToRad"),h=require("./effects"),o=require("eventemitter3"),r=require("../../math/Linear"),n=require("../../geom/rectangle/Rectangle"),l=require("../../gameobjects/components/TransformMatrix"),u=require("../../display/color/ValueToColor"),a=require("../../math/Vector2"),c=new s({Extends:o,initialize:function(t,i,s,e){o.call(this),this.scene,this.id=0,this.name="",this.x=t,this.y=i,this._width=s,this._height=e,this.roundPixels=!1,this.visible=!0,this.useBounds=!1,this._bounds=new n,this.worldView=new n,this.dirty=!0,this.inputEnabled=!0,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.alpha=1,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.zoomEffect=new h.Zoom(this),this.disableCull=!1,this.culledObjects=[],this.lerp=new a(1,1),this.followOffset=new a,this.midPoint=new a(s/2,e/2),this.originX=.5,this.originY=.5,this.deadzone=null,this._follow=null},setAlpha:function(t){return void 0===t&&(t=1),this.alpha=t,this},setOrigin:function(t,i){return void 0===t&&(t=.5),void 0===i&&(i=t),this.originX=t,this.originY=i,this},setDeadzone:function(i,s){if(void 0===i)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=i,this.deadzone.height=s):this.deadzone=new n(0,0,i,s),this._follow){var e=this.width/2,h=this.height/2,o=this._follow.x-this.followOffset.x,r=this._follow.y-this.followOffset.y;this.midPoint.set(o,r),this.scrollX=o-e,this.scrollY=r-h}t(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},getScroll:function(t,i,s){void 0===s&&(s=new a);var e=.5*this.width,h=.5*this.height;return s.x=t-e,s.y=i-h,this.useBounds&&(s.x=this.clampX(s.x),s.y=this.clampY(s.y)),s},centerOn:function(t,i){var s=.5*this.width,e=.5*this.height;return this.midPoint.set(t,i),this.scrollX=t-s,this.scrollY=i-e,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,i=.5*this.width,s=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-i,this.scrollY=t.centerY-s}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var i=this.matrix.matrix,s=i[0],e=i[1],h=i[2],o=i[3],r=s*o-e*h;if(!r)return t;var n=i[4],l=i[5],u=this.scrollX,a=this.scrollY,c=this.width,d=this.height,f=this.culledObjects,m=t.length;r=1/r,f.length=0;for(var g=0;g<m;++g){var w=t[g];if(w.hasOwnProperty("width")&&!w.parentContainer){var p=w.width,v=w.height,y=w.x-u*w.scrollFactorX-p*w.originX,x=w.y-a*w.scrollFactorY-v*w.originY,_=y*s+x*h+n,X=y*e+x*o+l,b=(y+p)*s+(x+v)*h+n,Y=(y+p)*e+(x+v)*o+l,z=c+p,E=d+v;_>-p&&X>-v&&_<z&&X<E&&b>-p&&Y>-v&&b<z&&Y<E&&f.push(w)}else f.push(w)}return f},fadeIn:function(t,i,s,e,h,o){return this.fadeEffect.start(!1,t,i,s,e,!0,h,o)},fadeOut:function(t,i,s,e,h,o){return this.fadeEffect.start(!0,t,i,s,e,!0,h,o)},fadeFrom:function(t,i,s,e,h,o,r){return this.fadeEffect.start(!1,t,i,s,e,h,o,r)},fade:function(t,i,s,e,h,o,r){return this.fadeEffect.start(!0,t,i,s,e,h,o,r)},flash:function(t,i,s,e,h,o,r){return this.flashEffect.start(t,i,s,e,h,o,r)},shake:function(t,i,s,e,h){return this.shakeEffect.start(t,i,s,e,h)},pan:function(t,i,s,e,h,o,r){return this.panEffect.start(t,i,s,e,h,o,r)},zoomTo:function(t,i,s,e,h,o){return this.zoomEffect.start(t,i,s,e,h,o)},getWorldPoint:function(t,i,s){void 0===s&&(s=new a);var e=this.matrix.matrix,h=e[0],o=e[1],r=e[2],n=e[3],l=e[4],u=e[5],c=h*n-o*r;if(!c)return s.x=t,s.y=i,s;var d=n*(c=1/c),f=-o*c,m=-r*c,g=h*c,w=(r*u-n*l)*c,p=(o*l-h*u)*c,v=Math.cos(this.rotation),y=Math.sin(this.rotation),x=this.zoom,_=this.scrollX,X=this.scrollY,b=t+(_*v-X*y)*x,Y=i+(_*y+X*v)*x;return s.x=b*d+Y*m+w,s.y=b*f+Y*g+p,s},ignore:function(t){var i=this.id;if(Array.isArray(t))for(var s=0;s<t.length;s++)t[s].cameraFilter|=i;else t.cameraFilter|=i;return this},preRender:function(i,s){var e=this.width,h=this.height,o=.5*e,n=.5*h,l=this.zoom*i,u=this.matrix,a=e*this.originX,c=h*this.originY,d=this._follow,f=this.deadzone,m=this.scrollX,g=this.scrollY;if(f&&t(f,this.midPoint.x,this.midPoint.y),d){var w=d.x-this.followOffset.x,p=d.y-this.followOffset.y;f?(w<f.x?m=r(m,m-(f.x-w),this.lerp.x):w>f.right&&(m=r(m,m+(w-f.right),this.lerp.x)),p<f.y?g=r(g,g-(f.y-p),this.lerp.y):p>f.bottom&&(g=r(g,g+(p-f.bottom),this.lerp.y))):(m=r(m,w-a,this.lerp.x),g=r(g,p-c,this.lerp.y))}this.useBounds&&(m=this.clampX(m),g=this.clampY(g)),this.roundPixels&&(a=Math.round(a),c=Math.round(c)),this.scrollX=m,this.scrollY=g;var v=m+o,y=g+n;this.midPoint.set(v,y);var x=e/l,_=h/l;this.worldView.setTo(v-x/2,y-_/2,x,_),u.loadIdentity(),u.scale(s,s),u.translate(this.x+a,this.y+c),u.rotate(this.rotation),u.scale(l,l),u.translate(-a,-c),this.shakeEffect.preRender()},clampX:function(t){var i=this._bounds,s=this.displayWidth,e=i.x+(s-this.width)/2,h=Math.max(e,e+i.width-s);return t<e?t=e:t>h&&(t=h),t},clampY:function(t){var i=this._bounds,s=this.displayHeight,e=i.y+(s-this.height)/2,h=Math.max(e,e+i.height-s);return t<e?t=e:t>h&&(t=h),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=e(t),this},setLerp:function(t,i){return void 0===t&&(t=1),void 0===i&&(i=t),this.lerp.set(t,i),this},setFollowOffset:function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),this.followOffset.set(t,i),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=u(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,i,s,e,h){return this._bounds.setTo(t,i,s,e),this.dirty=!0,this.useBounds=!0,h?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){return this.scene=t,this},setScroll:function(t,i){return void 0===i&&(i=t),this.scrollX=t,this.scrollY=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},setViewport:function(t,i,s,e){return this.x=t,this.y=i,this.width=s,this.height=e,this},setZoom:function(t){return void 0===t&&(t=1),0===t&&(t=.001),this.zoom=t,this},setVisible:function(t){return this.visible=t,this},startFollow:function(t,s,e,h,o,r){void 0===s&&(s=!1),void 0===e&&(e=1),void 0===h&&(h=e),void 0===o&&(o=0),void 0===r&&(r=o),this._follow=t,this.roundPixels=s,e=i(e,0,1),h=i(h,0,1),this.lerp.set(e,h),this.followOffset.set(o,r);var n=this.width/2,l=this.height/2,u=t.x-o,a=t.y-r;return this.midPoint.set(u,a),this.scrollX=u-n,this.scrollY=a-l,this},stopFollow:function(){return this._follow=null,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},resetFX:function(){return this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,i){this.visible&&(this.panEffect.update(t,i),this.zoomEffect.update(t,i),this.shakeEffect.update(t,i),this.flashEffect.update(t,i),this.fadeEffect.update(t,i))},destroy:function(){this.emit("cameradestroy",this),this.removeAllListeners(),this.resetFX(),this.matrix.destroy(),this.culledObjects=[],this._follow=null,this._bounds=null,this.scene=null,this.deadzone=null},width:{get:function(){return this._width},set:function(t){this._width=t,this.dirty=!0}},height:{get:function(){return this._height},set:function(t){this._height=t,this.dirty=!0}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});module.exports=c;
},{"../../geom/rectangle/CenterOn":"F3Wk","../../math/Clamp":"mAiE","../../utils/Class":"f5Xp","../../math/DegToRad":"hyJn","./effects":"WvhR","eventemitter3":"LqgX","../../math/Linear":"QBm/","../../geom/rectangle/Rectangle":"hff6","../../gameobjects/components/TransformMatrix":"PEti","../../display/color/ValueToColor":"pLm8","../../math/Vector2":"2OLl"}],"sYlk":[function(require,module,exports) {
var n={},t={},e={register:function(t,e,r,o){void 0===o&&(o=!1),n[t]={plugin:e,mapping:r,custom:o}},registerCustom:function(n,e,r){t[n]={plugin:e,mapping:r}},hasCore:function(t){return n.hasOwnProperty(t)},hasCustom:function(n){return t.hasOwnProperty(n)},getCore:function(t){return n[t]},getCustom:function(n){return t[n]},getCustomClass:function(n){return t.hasOwnProperty(n)?t[n].plugin:null},remove:function(t){n.hasOwnProperty(t)&&delete n[t]},removeCustom:function(n){t.hasOwnProperty(n)&&delete t[n]}};module.exports=e;
},{}],"eeoG":[function(require,module,exports) {
var s=require("./Camera"),t=require("../../utils/Class"),e=require("../../utils/object/GetFastValue"),i=require("../../plugins/PluginCache"),r=require("../../geom/rectangle/Contains"),a=new t({initialize:function(s){this.scene=s,this.systems=s.sys,this.roundPixels=s.sys.game.config.roundPixels,this.cameras=[],this.main,this.baseScale=1,s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.systems.events.once("destroy",this.destroy,this)},start:function(){this.main||this.boot();var s=this.systems.events;s.on("update",this.update,this),s.once("shutdown",this.shutdown,this)},add:function(t,e,i,r,a,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===r&&(r=this.scene.sys.game.config.height),void 0===a&&(a=!1),void 0===n&&(n="");var o=new s(t,e,i,r);return o.setName(n),o.setScene(this.scene),o.setRoundPixels(this.roundPixels),o.id=this.getNextID(),this.cameras.push(o),a&&(this.main=o),o},addExisting:function(s,t){return void 0===t&&(t=!1),-1===this.cameras.indexOf(s)?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),t&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,t=1,e=0;e<32;e++){for(var i=!1,r=0;r<s.length;r++){var a=s[r];a&&a.id===t&&(i=!0)}if(!i)return t;t<<=1}return 0},getTotal:function(s){void 0===s&&(s=!1);for(var t=0,e=this.cameras,i=0;i<e.length;i++){var r=e[i];(!s||s&&r.visible)&&t++}return t},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var t=this.scene.sys.game.config.width,i=this.scene.sys.game.config.height,r=0;r<s.length;r++){var a=s[r],n=e(a,"x",0),o=e(a,"y",0),h=e(a,"width",t),c=e(a,"height",i),u=this.add(n,o,h,c);u.name=e(a,"name",""),u.zoom=e(a,"zoom",1),u.rotation=e(a,"rotation",0),u.scrollX=e(a,"scrollX",0),u.scrollY=e(a,"scrollY",0),u.roundPixels=e(a,"roundPixels",!1),u.visible=e(a,"visible",!0);var l=e(a,"backgroundColor",!1);l&&u.setBackgroundColor(l);var d=e(a,"bounds",null);if(d){var m=e(d,"x",0),f=e(d,"y",0),v=e(d,"width",t),g=e(d,"height",i);u.setBounds(m,f,v,g)}}return this},getCamera:function(s){for(var t=this.cameras,e=0;e<t.length;e++)if(t[e].name===s)return t[e];return null},getCamerasBelowPointer:function(s){for(var t=this.cameras,e=s.x,i=s.y,a=[],n=0;n<t.length;n++){var o=t[n];o.visible&&o.inputEnabled&&r(o,e,i)&&a.unshift(o)}return a},remove:function(s){Array.isArray(s)||(s=[s]);for(var t=0,e=this.cameras,i=0;i<s.length;i++){var r=e.indexOf(s[i]);-1!==r&&(e.splice(r,1),t++)}return this.main||(this.main=e[0]),t},render:function(s,t,e){for(var i=this.scene,r=this.cameras,a=this.baseScale,n=s.config.resolution,o=0;o<this.cameras.length;o++){var h=r[o];h.visible&&h.alpha>0&&(h.preRender(a,n),s.render(i,t,e,h))}},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,t){for(var e=0;e<this.cameras.length;e++)this.cameras[e].update(s,t)},resize:function(s,t){for(var e=0;e<this.cameras.length;e++)this.cameras[e].setSize(s,t)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var t=this.systems.events;t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});i.register("CameraManager",a,"cameras"),module.exports=a;
},{"./Camera":"aBrD","../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk","../../plugins/PluginCache":"sYlk","../../geom/rectangle/Contains":"uD/l"}],"8HzN":[function(require,module,exports) {
module.exports={Camera:require("./Camera"),CameraManager:require("./CameraManager"),Effects:require("./effects")};
},{"./Camera":"aBrD","./CameraManager":"eeoG","./effects":"WvhR"}],"Mwwo":[function(require,module,exports) {
var t=require("../utils/Class"),i=1e-6,r=new t({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},copy:function(t){var i=this.val,r=t.val;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},fromArray:function(t){var i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,i,r){this.identity();var a=this.val;return a[12]=t,a[13]=i,a[14]=r,this},scaling:function(t,i,r){this.zero();var a=this.val;return a[0]=t,a[5]=i,a[10]=r,a[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,i=t[1],r=t[2],a=t[3],n=t[6],s=t[7],h=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=i,t[6]=t[9],t[7]=t[13],t[8]=r,t[9]=n,t[11]=t[14],t[12]=a,t[13]=s,t[14]=h,this},invert:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15],x=i*h-r*s,m=i*o-a*s,p=i*u-n*s,d=r*o-a*h,w=r*u-n*h,L=a*u-n*o,A=l*y-e*f,q=l*M-v*f,b=l*z-c*f,R=e*M-v*y,g=e*z-c*y,k=v*z-c*M,P=x*k-m*g+p*R+d*b-w*q+L*A;return P?(P=1/P,t[0]=(h*k-o*g+u*R)*P,t[1]=(a*g-r*k-n*R)*P,t[2]=(y*L-M*w+z*d)*P,t[3]=(v*w-e*L-c*d)*P,t[4]=(o*b-s*k-u*q)*P,t[5]=(i*k-a*b+n*q)*P,t[6]=(M*p-f*L-z*m)*P,t[7]=(l*L-v*p+c*m)*P,t[8]=(s*g-h*b+u*A)*P,t[9]=(r*b-i*g-n*A)*P,t[10]=(f*w-y*p+z*x)*P,t[11]=(e*p-l*w-c*x)*P,t[12]=(h*q-s*R-o*A)*P,t[13]=(i*R-r*q+a*A)*P,t[14]=(y*m-f*d-M*x)*P,t[15]=(l*d-e*m+v*x)*P,this):null},adjoint:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15];return t[0]=h*(v*z-c*M)-e*(o*z-u*M)+y*(o*c-u*v),t[1]=-(r*(v*z-c*M)-e*(a*z-n*M)+y*(a*c-n*v)),t[2]=r*(o*z-u*M)-h*(a*z-n*M)+y*(a*u-n*o),t[3]=-(r*(o*c-u*v)-h*(a*c-n*v)+e*(a*u-n*o)),t[4]=-(s*(v*z-c*M)-l*(o*z-u*M)+f*(o*c-u*v)),t[5]=i*(v*z-c*M)-l*(a*z-n*M)+f*(a*c-n*v),t[6]=-(i*(o*z-u*M)-s*(a*z-n*M)+f*(a*u-n*o)),t[7]=i*(o*c-u*v)-s*(a*c-n*v)+l*(a*u-n*o),t[8]=s*(e*z-c*y)-l*(h*z-u*y)+f*(h*c-u*e),t[9]=-(i*(e*z-c*y)-l*(r*z-n*y)+f*(r*c-n*e)),t[10]=i*(h*z-u*y)-s*(r*z-n*y)+f*(r*u-n*h),t[11]=-(i*(h*c-u*e)-s*(r*c-n*e)+l*(r*u-n*h)),t[12]=-(s*(e*M-v*y)-l*(h*M-o*y)+f*(h*v-o*e)),t[13]=i*(e*M-v*y)-l*(r*M-a*y)+f*(r*v-a*e),t[14]=-(i*(h*M-o*y)-s*(r*M-a*y)+f*(r*o-a*h)),t[15]=i*(h*v-o*e)-s*(r*v-a*e)+l*(r*o-a*h),this},determinant:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15];return(i*h-r*s)*(v*z-c*M)-(i*o-a*s)*(e*z-c*y)+(i*u-n*s)*(e*M-v*y)+(r*o-a*h)*(l*z-c*f)-(r*u-n*h)*(l*M-v*f)+(a*u-n*o)*(l*y-e*f)},multiply:function(t){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],h=i[4],o=i[5],u=i[6],l=i[7],e=i[8],v=i[9],c=i[10],f=i[11],y=i[12],M=i[13],z=i[14],x=i[15],m=t.val,p=m[0],d=m[1],w=m[2],L=m[3];return i[0]=p*r+d*h+w*e+L*y,i[1]=p*a+d*o+w*v+L*M,i[2]=p*n+d*u+w*c+L*z,i[3]=p*s+d*l+w*f+L*x,p=m[4],d=m[5],w=m[6],L=m[7],i[4]=p*r+d*h+w*e+L*y,i[5]=p*a+d*o+w*v+L*M,i[6]=p*n+d*u+w*c+L*z,i[7]=p*s+d*l+w*f+L*x,p=m[8],d=m[9],w=m[10],L=m[11],i[8]=p*r+d*h+w*e+L*y,i[9]=p*a+d*o+w*v+L*M,i[10]=p*n+d*u+w*c+L*z,i[11]=p*s+d*l+w*f+L*x,p=m[12],d=m[13],w=m[14],L=m[15],i[12]=p*r+d*h+w*e+L*y,i[13]=p*a+d*o+w*v+L*M,i[14]=p*n+d*u+w*c+L*z,i[15]=p*s+d*l+w*f+L*x,this},multiplyLocal:function(t){var i=[],r=this.val,a=t.val;return i[0]=r[0]*a[0]+r[1]*a[4]+r[2]*a[8]+r[3]*a[12],i[1]=r[0]*a[1]+r[1]*a[5]+r[2]*a[9]+r[3]*a[13],i[2]=r[0]*a[2]+r[1]*a[6]+r[2]*a[10]+r[3]*a[14],i[3]=r[0]*a[3]+r[1]*a[7]+r[2]*a[11]+r[3]*a[15],i[4]=r[4]*a[0]+r[5]*a[4]+r[6]*a[8]+r[7]*a[12],i[5]=r[4]*a[1]+r[5]*a[5]+r[6]*a[9]+r[7]*a[13],i[6]=r[4]*a[2]+r[5]*a[6]+r[6]*a[10]+r[7]*a[14],i[7]=r[4]*a[3]+r[5]*a[7]+r[6]*a[11]+r[7]*a[15],i[8]=r[8]*a[0]+r[9]*a[4]+r[10]*a[8]+r[11]*a[12],i[9]=r[8]*a[1]+r[9]*a[5]+r[10]*a[9]+r[11]*a[13],i[10]=r[8]*a[2]+r[9]*a[6]+r[10]*a[10]+r[11]*a[14],i[11]=r[8]*a[3]+r[9]*a[7]+r[10]*a[11]+r[11]*a[15],i[12]=r[12]*a[0]+r[13]*a[4]+r[14]*a[8]+r[15]*a[12],i[13]=r[12]*a[1]+r[13]*a[5]+r[14]*a[9]+r[15]*a[13],i[14]=r[12]*a[2]+r[13]*a[6]+r[14]*a[10]+r[15]*a[14],i[15]=r[12]*a[3]+r[13]*a[7]+r[14]*a[11]+r[15]*a[15],this.fromArray(i)},translate:function(t){var i=t.x,r=t.y,a=t.z,n=this.val;return n[12]=n[0]*i+n[4]*r+n[8]*a+n[12],n[13]=n[1]*i+n[5]*r+n[9]*a+n[13],n[14]=n[2]*i+n[6]*r+n[10]*a+n[14],n[15]=n[3]*i+n[7]*r+n[11]*a+n[15],this},scale:function(t){var i=t.x,r=t.y,a=t.z,n=this.val;return n[0]=n[0]*i,n[1]=n[1]*i,n[2]=n[2]*i,n[3]=n[3]*i,n[4]=n[4]*r,n[5]=n[5]*r,n[6]=n[6]*r,n[7]=n[7]*r,n[8]=n[8]*a,n[9]=n[9]*a,n[10]=n[10]*a,n[11]=n[11]*a,this},makeRotationAxis:function(t,i){var r=Math.cos(i),a=Math.sin(i),n=1-r,s=t.x,h=t.y,o=t.z,u=n*s,l=n*h;return this.fromArray([u*s+r,u*h-a*o,u*o+a*h,0,u*h+a*o,l*h+r,l*o-a*s,0,u*o-a*h,l*o+a*s,n*o*o+r,0,0,0,0,1]),this},rotate:function(t,r){var a=this.val,n=r.x,s=r.y,h=r.z,o=Math.sqrt(n*n+s*s+h*h);if(Math.abs(o)<i)return null;n*=o=1/o,s*=o,h*=o;var u=Math.sin(t),l=Math.cos(t),e=1-l,v=a[0],c=a[1],f=a[2],y=a[3],M=a[4],z=a[5],x=a[6],m=a[7],p=a[8],d=a[9],w=a[10],L=a[11],A=n*n*e+l,q=s*n*e+h*u,b=h*n*e-s*u,R=n*s*e-h*u,g=s*s*e+l,k=h*s*e+n*u,P=n*h*e+s*u,j=s*h*e-n*u,C=h*h*e+l;return a[0]=v*A+M*q+p*b,a[1]=c*A+z*q+d*b,a[2]=f*A+x*q+w*b,a[3]=y*A+m*q+L*b,a[4]=v*R+M*g+p*k,a[5]=c*R+z*g+d*k,a[6]=f*R+x*g+w*k,a[7]=y*R+m*g+L*k,a[8]=v*P+M*j+p*C,a[9]=c*P+z*j+d*C,a[10]=f*P+x*j+w*C,a[11]=y*P+m*j+L*C,this},rotateX:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[4],s=i[5],h=i[6],o=i[7],u=i[8],l=i[9],e=i[10],v=i[11];return i[4]=n*a+u*r,i[5]=s*a+l*r,i[6]=h*a+e*r,i[7]=o*a+v*r,i[8]=u*a-n*r,i[9]=l*a-s*r,i[10]=e*a-h*r,i[11]=v*a-o*r,this},rotateY:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[0],s=i[1],h=i[2],o=i[3],u=i[8],l=i[9],e=i[10],v=i[11];return i[0]=n*a-u*r,i[1]=s*a-l*r,i[2]=h*a-e*r,i[3]=o*a-v*r,i[8]=n*r+u*a,i[9]=s*r+l*a,i[10]=h*r+e*a,i[11]=o*r+v*a,this},rotateZ:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[0],s=i[1],h=i[2],o=i[3],u=i[4],l=i[5],e=i[6],v=i[7];return i[0]=n*a+u*r,i[1]=s*a+l*r,i[2]=h*a+e*r,i[3]=o*a+v*r,i[4]=u*a-n*r,i[5]=l*a-s*r,i[6]=e*a-h*r,i[7]=v*a-o*r,this},fromRotationTranslation:function(t,i){var r=this.val,a=t.x,n=t.y,s=t.z,h=t.w,o=a+a,u=n+n,l=s+s,e=a*o,v=a*u,c=a*l,f=n*u,y=n*l,M=s*l,z=h*o,x=h*u,m=h*l;return r[0]=1-(f+M),r[1]=v+m,r[2]=c-x,r[3]=0,r[4]=v-m,r[5]=1-(e+M),r[6]=y+z,r[7]=0,r[8]=c+x,r[9]=y-z,r[10]=1-(e+f),r[11]=0,r[12]=i.x,r[13]=i.y,r[14]=i.z,r[15]=1,this},fromQuat:function(t){var i=this.val,r=t.x,a=t.y,n=t.z,s=t.w,h=r+r,o=a+a,u=n+n,l=r*h,e=r*o,v=r*u,c=a*o,f=a*u,y=n*u,M=s*h,z=s*o,x=s*u;return i[0]=1-(c+y),i[1]=e+x,i[2]=v-z,i[3]=0,i[4]=e-x,i[5]=1-(l+y),i[6]=f+M,i[7]=0,i[8]=v+z,i[9]=f-M,i[10]=1-(l+c),i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},frustum:function(t,i,r,a,n,s){var h=this.val,o=1/(i-t),u=1/(a-r),l=1/(n-s);return h[0]=2*n*o,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*n*u,h[6]=0,h[7]=0,h[8]=(i+t)*o,h[9]=(a+r)*u,h[10]=(s+n)*l,h[11]=-1,h[12]=0,h[13]=0,h[14]=s*n*2*l,h[15]=0,this},perspective:function(t,i,r,a){var n=this.val,s=1/Math.tan(t/2),h=1/(r-a);return n[0]=s/i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(a+r)*h,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*a*r*h,n[15]=0,this},perspectiveLH:function(t,i,r,a){var n=this.val;return n[0]=2*r/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*r/i,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-a/(r-a),n[11]=1,n[12]=0,n[13]=0,n[14]=r*a/(r-a),n[15]=0,this},ortho:function(t,i,r,a,n,s){var h=this.val,o=t-i,u=r-a,l=n-s;return o=0===o?o:1/o,u=0===u?u:1/u,l=0===l?l:1/l,h[0]=-2*o,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*u,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*l,h[11]=0,h[12]=(t+i)*o,h[13]=(a+r)*u,h[14]=(s+n)*l,h[15]=1,this},lookAt:function(t,r,a){var n=this.val,s=t.x,h=t.y,o=t.z,u=a.x,l=a.y,e=a.z,v=r.x,c=r.y,f=r.z;if(Math.abs(s-v)<i&&Math.abs(h-c)<i&&Math.abs(o-f)<i)return this.identity();var y=s-v,M=h-c,z=o-f,x=1/Math.sqrt(y*y+M*M+z*z),m=l*(z*=x)-e*(M*=x),p=e*(y*=x)-u*z,d=u*M-l*y;(x=Math.sqrt(m*m+p*p+d*d))?(m*=x=1/x,p*=x,d*=x):(m=0,p=0,d=0);var w=M*d-z*p,L=z*m-y*d,A=y*p-M*m;return(x=Math.sqrt(w*w+L*L+A*A))?(w*=x=1/x,L*=x,A*=x):(w=0,L=0,A=0),n[0]=m,n[1]=w,n[2]=y,n[3]=0,n[4]=p,n[5]=L,n[6]=M,n[7]=0,n[8]=d,n[9]=A,n[10]=z,n[11]=0,n[12]=-(m*s+p*h+d*o),n[13]=-(w*s+L*h+A*o),n[14]=-(y*s+M*h+z*o),n[15]=1,this},yawPitchRoll:function(t,i,r){this.zero(),a.zero(),n.zero();var s=this.val,h=a.val,o=n.val,u=Math.sin(r),l=Math.cos(r);return s[10]=1,s[15]=1,s[0]=l,s[1]=u,s[4]=-u,s[5]=l,u=Math.sin(i),l=Math.cos(i),h[0]=1,h[15]=1,h[5]=l,h[10]=l,h[9]=-u,h[6]=u,u=Math.sin(t),l=Math.cos(t),o[5]=1,o[15]=1,o[0]=l,o[2]=-u,o[8]=u,o[10]=l,this.multiplyLocal(a),this.multiplyLocal(n),this},setWorldMatrix:function(t,i,r,s,h){return this.yawPitchRoll(t.y,t.x,t.z),a.scaling(r.x,r.y,r.z),n.xyz(i.x,i.y,i.z),this.multiplyLocal(a),this.multiplyLocal(n),void 0!==s&&this.multiplyLocal(s),void 0!==h&&this.multiplyLocal(h),this}}),a=new r,n=new r;module.exports=r;
},{"../utils/Class":"f5Xp"}],"fovb":[function(require,module,exports) {
var a=function(a,t){void 0===t&&(t=1);var r=2*Math.random()*Math.PI,o=2*Math.random()-1,h=Math.sqrt(1-o*o)*t;return a.x=Math.cos(r)*h,a.y=Math.sin(r)*h,a.z=o*t,a};module.exports=a;
},{}],"w7gG":[function(require,module,exports) {
var a=function(a,o){return void 0===o&&(o=1),a.x=(2*Math.random()-1)*o,a.y=(2*Math.random()-1)*o,a.z=(2*Math.random()-1)*o,a.w=(2*Math.random()-1)*o,a};module.exports=a;
},{}],"7XYV":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,s){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=i||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new i(this.x,this.y,this.z)},crossVectors:function(t,i){var s=t.x,h=t.y,n=t.z,r=i.x,u=i.y,y=i.z;return this.x=h*y-n*u,this.y=n*r-s*y,this.z=s*u-h*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,i,s){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=i||0,this.z=s||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0;return Math.sqrt(i*i+s*s+h*h)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0;return i*i+s*s+h*h},length:function(){var t=this.x,i=this.y,s=this.z;return Math.sqrt(t*t+i*i+s*s)},lengthSq:function(){var t=this.x,i=this.y,s=this.z;return t*t+i*i+s*s},normalize:function(){var t=this.x,i=this.y,s=this.z,h=t*t+i*i+s*s;return h>0&&(h=1/Math.sqrt(h),this.x=t*h,this.y=i*h,this.z=s*h),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,u=t.z;return this.x=s*u-h*r,this.y=h*n-i*u,this.z=i*r-s*n,this},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,n=this.z;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=n+i*(t.z-n),this},transformMat3:function(t){var i=this.x,s=this.y,h=this.z,n=t.val;return this.x=i*n[0]+s*n[3]+h*n[6],this.y=i*n[1]+s*n[4]+h*n[7],this.z=i*n[2]+s*n[5]+h*n[8],this},transformMat4:function(t){var i=this.x,s=this.y,h=this.z,n=t.val;return this.x=n[0]*i+n[4]*s+n[8]*h+n[12],this.y=n[1]*i+n[5]*s+n[9]*h+n[13],this.z=n[2]*i+n[6]*s+n[10]*h+n[14],this},transformCoordinates:function(t){var i=this.x,s=this.y,h=this.z,n=t.val,r=i*n[0]+s*n[4]+h*n[8]+n[12],u=i*n[1]+s*n[5]+h*n[9]+n[13],y=i*n[2]+s*n[6]+h*n[10]+n[14],z=i*n[3]+s*n[7]+h*n[11]+n[15];return this.x=r/z,this.y=u/z,this.z=y/z,this},transformQuat:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,u=t.z,y=t.w,z=y*i+r*h-u*s,x=y*s+u*i-n*h,e=y*h+n*s-r*i,o=-n*i-r*s-u*h;return this.x=z*y+o*-n+x*-u-e*-r,this.y=x*y+o*-r+e*-n-z*-u,this.z=e*y+o*-u+z*-r-x*-n,this},project:function(t){var i=this.x,s=this.y,h=this.z,n=t.val,r=n[0],u=n[1],y=n[2],z=n[3],x=n[4],e=n[5],o=n[6],c=n[7],a=n[8],f=n[9],v=n[10],l=n[11],d=n[12],p=n[13],m=n[14],q=1/(i*z+s*c+h*l+n[15]);return this.x=(i*r+s*x+h*a+d)*q,this.y=(i*u+s*e+h*f+p)*q,this.z=(i*y+s*o+h*v+m)*q,this},unproject:function(t,i){var s=t.x,h=t.y,n=t.z,r=t.w,u=this.x-s,y=r-this.y-1-h,z=this.z;return this.x=2*u/n-1,this.y=2*y/r-1,this.z=2*z-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});module.exports=i;
},{"../utils/Class":"f5Xp"}],"Q1bX":[function(require,module,exports) {
var t=require("../utils/Class"),n=new t({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new n(this)},set:function(t){return this.copy(t)},copy:function(t){var n=this.val,i=t.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this},fromMat4:function(t){var n=t.val,i=this.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[4],i[4]=n[5],i[5]=n[6],i[6]=n[8],i[7]=n[9],i[8]=n[10],this},fromArray:function(t){var n=this.val;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,n=t[1],i=t[2],r=t[5];return t[1]=t[3],t[2]=t[6],t[3]=n,t[5]=t[7],t[6]=i,t[7]=r,this},invert:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8],l=h*s-u*v,o=-h*a+u*e,c=v*a-s*e,f=n*l+i*o+r*c;return f?(f=1/f,t[0]=l*f,t[1]=(-h*i+r*v)*f,t[2]=(u*i-r*s)*f,t[3]=o*f,t[4]=(h*n-r*e)*f,t[5]=(-u*n+r*a)*f,t[6]=c*f,t[7]=(-v*n+i*e)*f,t[8]=(s*n-i*a)*f,this):null},adjoint:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8];return t[0]=s*h-u*v,t[1]=r*v-i*h,t[2]=i*u-r*s,t[3]=u*e-a*h,t[4]=n*h-r*e,t[5]=r*a-n*u,t[6]=a*v-s*e,t[7]=i*e-n*v,t[8]=n*s-i*a,this},determinant:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8];return n*(h*s-u*v)+i*(-h*a+u*e)+r*(v*a-s*e)},multiply:function(t){var n=this.val,i=n[0],r=n[1],a=n[2],s=n[3],u=n[4],e=n[5],v=n[6],h=n[7],l=n[8],o=t.val,c=o[0],f=o[1],y=o[2],m=o[3],p=o[4],d=o[5],w=o[6],x=o[7],M=o[8];return n[0]=c*i+f*s+y*v,n[1]=c*r+f*u+y*h,n[2]=c*a+f*e+y*l,n[3]=m*i+p*s+d*v,n[4]=m*r+p*u+d*h,n[5]=m*a+p*e+d*l,n[6]=w*i+x*s+M*v,n[7]=w*r+x*u+M*h,n[8]=w*a+x*e+M*l,this},translate:function(t){var n=this.val,i=t.x,r=t.y;return n[6]=i*n[0]+r*n[3]+n[6],n[7]=i*n[1]+r*n[4]+n[7],n[8]=i*n[2]+r*n[5]+n[8],this},rotate:function(t){var n=this.val,i=n[0],r=n[1],a=n[2],s=n[3],u=n[4],e=n[5],v=Math.sin(t),h=Math.cos(t);return n[0]=h*i+v*s,n[1]=h*r+v*u,n[2]=h*a+v*e,n[3]=h*s-v*i,n[4]=h*u-v*r,n[5]=h*e-v*a,this},scale:function(t){var n=this.val,i=t.x,r=t.y;return n[0]=i*n[0],n[1]=i*n[1],n[2]=i*n[2],n[3]=r*n[3],n[4]=r*n[4],n[5]=r*n[5],this},fromQuat:function(t){var n=t.x,i=t.y,r=t.z,a=t.w,s=n+n,u=i+i,e=r+r,v=n*s,h=n*u,l=n*e,o=i*u,c=i*e,f=r*e,y=a*s,m=a*u,p=a*e,d=this.val;return d[0]=1-(o+f),d[3]=h+p,d[6]=l-m,d[1]=h-p,d[4]=1-(v+f),d[7]=c+y,d[2]=l+m,d[5]=c-y,d[8]=1-(v+o),this},normalFromMat4:function(t){var n=t.val,i=this.val,r=n[0],a=n[1],s=n[2],u=n[3],e=n[4],v=n[5],h=n[6],l=n[7],o=n[8],c=n[9],f=n[10],y=n[11],m=n[12],p=n[13],d=n[14],w=n[15],x=r*v-a*e,M=r*h-s*e,z=r*l-u*e,A=a*h-s*v,F=a*l-u*v,j=s*l-u*h,q=o*p-c*m,C=o*d-f*m,Q=o*w-y*m,b=c*d-f*p,g=c*w-y*p,k=f*w-y*d,B=x*k-M*g+z*b+A*Q-F*C+j*q;return B?(B=1/B,i[0]=(v*k-h*g+l*b)*B,i[1]=(h*Q-e*k-l*C)*B,i[2]=(e*g-v*Q+l*q)*B,i[3]=(s*g-a*k-u*b)*B,i[4]=(r*k-s*Q+u*C)*B,i[5]=(a*Q-r*g-u*q)*B,i[6]=(p*j-d*F+w*A)*B,i[7]=(d*z-m*j-w*M)*B,i[8]=(m*F-p*z+w*x)*B,this):null}});module.exports=n;
},{"../utils/Class":"f5Xp"}],"4DQx":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Vector3"),s=require("./Matrix3"),h=1e-6,r=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),e=new i(1,0,0),a=new i(0,1,0),y=new i,o=new s,x=new t({initialize:function(t,i,s,h){"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,i,s,h){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return Math.sqrt(t*t+i*i+s*s+h*h)},lengthSq:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return t*t+i*i+s*s+h*h},normalize:function(){var t=this.x,i=this.y,s=this.z,h=this.w,r=t*t+i*i+s*s+h*h;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=i*r,this.z=s*r,this.w=h*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,r=this.z,n=this.w;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=r+i*(t.z-r),this.w=n+i*(t.w-n),this},rotationTo:function(t,i){var s=t.x*i.x+t.y*i.y+t.z*i.z;return s<-.999999?(y.copy(e).cross(t).length()<h&&y.copy(a).cross(t),y.normalize(),this.setAxisAngle(y,Math.PI)):s>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(y.copy(t).cross(i),this.x=y.x,this.y=y.y,this.z=y.z,this.w=1+s,this.normalize())},setAxes:function(t,i,s){var h=o.val;return h[0]=i.x,h[3]=i.y,h[6]=i.z,h[1]=s.x,h[4]=s.y,h[7]=s.z,h[2]=-t.x,h[5]=-t.y,h[8]=-t.z,this.fromMat3(o).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,i){i*=.5;var s=Math.sin(i);return this.x=s*t.x,this.y=s*t.y,this.z=s*t.z,this.w=Math.cos(i),this},multiply:function(t){var i=this.x,s=this.y,h=this.z,r=this.w,n=t.x,e=t.y,a=t.z,y=t.w;return this.x=i*y+r*n+s*a-h*e,this.y=s*y+r*e+h*n-i*a,this.z=h*y+r*a+i*e-s*n,this.w=r*y-i*n-s*e-h*a,this},slerp:function(t,i){var s=this.x,r=this.y,n=this.z,e=this.w,a=t.x,y=t.y,o=t.z,x=t.w,z=s*a+r*y+n*o+e*x;z<0&&(z=-z,a=-a,y=-y,o=-o,x=-x);var u=1-i,w=i;if(1-z>h){var c=Math.acos(z),f=Math.sin(c);u=Math.sin((1-i)*c)/f,w=Math.sin(i*c)/f}return this.x=u*s+w*a,this.y=u*r+w*y,this.z=u*n+w*o,this.w=u*e+w*x,this},invert:function(){var t=this.x,i=this.y,s=this.z,h=this.w,r=t*t+i*i+s*s+h*h,n=r?1/r:0;return this.x=-t*n,this.y=-i*n,this.z=-s*n,this.w=h*n,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e+r*n,this.y=s*e+h*n,this.z=h*e-s*n,this.w=r*e-i*n,this},rotateY:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e-h*n,this.y=s*e+r*n,this.z=h*e+i*n,this.w=r*e-s*n,this},rotateZ:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e+s*n,this.y=s*e-i*n,this.z=h*e+r*n,this.w=r*e-h*n,this},calculateW:function(){var t=this.x,i=this.y,s=this.z;return this.w=-Math.sqrt(1-t*t-i*i-s*s),this},fromMat3:function(t){var i,s=t.val,h=s[0]+s[4]+s[8];if(h>0)i=Math.sqrt(h+1),this.w=.5*i,i=.5/i,this.x=(s[7]-s[5])*i,this.y=(s[2]-s[6])*i,this.z=(s[3]-s[1])*i;else{var e=0;s[4]>s[0]&&(e=1),s[8]>s[3*e+e]&&(e=2);var a=r[e],y=r[a];i=Math.sqrt(s[3*e+e]-s[3*a+a]-s[3*y+y]+1),n[e]=.5*i,i=.5/i,n[a]=(s[3*a+e]+s[3*e+a])*i,n[y]=(s[3*y+e]+s[3*e+y])*i,this.x=n[0],this.y=n[1],this.z=n[2],this.w=(s[3*y+a]-s[3*a+y])*i}return this}});module.exports=x;
},{"../utils/Class":"f5Xp","./Vector3":"7XYV","./Matrix3":"Q1bX"}],"HcV/":[function(require,module,exports) {
var e=require("../math/Vector3"),r=require("../math/Matrix4"),t=require("../math/Quaternion"),n=new r,a=new t,o=new e,i=function(e,r,t){return a.setAxisAngle(r,t),n.fromRotationTranslation(a,o.set(0,0,0)),e.transformMat4(n)};module.exports=i;
},{"../math/Vector3":"7XYV","../math/Matrix4":"Mwwo","../math/Quaternion":"4DQx"}],"jS4S":[function(require,module,exports) {
var t=require("../utils/Class"),e=new t({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var n=0;n<this.entries.length;n++){var i=this.entries[n];if(i[t]===e)return i}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var n,i=this.entries.slice(),r=i.length;if(e)for(n=0;n<r&&!1!==t.call(e,i[n],n);n++);else for(n=0;n<r&&!1!==t(i[n],n);n++);return this},iterate:function(t,e){var n,i=this.entries.length;if(e)for(n=0;n<i&&!1!==t.call(e,this.entries[n],n);n++);else for(n=0;n<i&&!1!==t(this.entries[n],n);n++);return this},iterateLocal:function(t){var e,n=[];for(e=1;e<arguments.length;e++)n.push(arguments[e]);var i=this.entries.length;for(e=0;e<i;e++){var r=this.entries[e];r[t].apply(r,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var n=new e;return t.entries.forEach(function(t){n.set(t)}),this.entries.forEach(function(t){n.set(t)}),n},intersect:function(t){var n=new e;return this.entries.forEach(function(e){t.contains(e)&&n.set(e)}),n},difference:function(t){var n=new e;return this.entries.forEach(function(e){t.contains(e)||n.set(e)}),n},size:{get:function(){return this.entries.length},set:function(t){return this.entries.length=t}}});module.exports=e;
},{"../utils/Class":"f5Xp"}],"h1JV":[function(require,module,exports) {
var e=require("../GameObject"),r=function(r,i,a,t,c){e.RENDER_MASK!==i.renderFlags||i.cameraFilter>0&&i.cameraFilter&t.id||this.pipeline.batchSprite(i,t,c)};module.exports=r;
},{"../GameObject":"HPsp"}],"FK2r":[function(require,module,exports) {
var e=require("../GameObject"),r=function(r,a,i,m,t){e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&m.id||r.drawImage(a,m,t)};module.exports=r;
},{"../GameObject":"HPsp"}],"yxRi":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./SpriteWebGLRenderer"),r=require("./SpriteCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./SpriteWebGLRenderer":"h1JV","./SpriteCanvasRenderer":"FK2r"}],"X5p1":[function(require,module,exports) {
var i=require("../../utils/Class"),e=require("../components"),t=require("../GameObject"),n=require("./SpriteRender"),r=new i({Extends:t,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScaleMode,e.ScrollFactor,e.Size,e.TextureCrop,e.Tint,e.Transform,e.Visible,n],initialize:function(i,n,r,s,o){t.call(this,i,"Sprite"),this.anims=new e.Animation(this),this.setTexture(s,o),this.setPosition(n,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline")},preUpdate:function(i,e){this.anims.update(i,e)},play:function(i,e,t){return this.anims.play(i,e,t),this},toJSON:function(){return e.ToJSON(this)}});module.exports=r;
},{"../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","./SpriteRender":"yxRi"}],"jZrB":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,s,h){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0)},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,i,s,h){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return Math.sqrt(t*t+i*i+s*s+h*h)},lengthSq:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return t*t+i*i+s*s+h*h},normalize:function(){var t=this.x,i=this.y,s=this.z,h=this.w,n=t*t+i*i+s*s+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=i*n,this.z=s*n,this.w=h*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,n=this.z,r=this.w;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=n+i*(t.z-n),this.w=r+i*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(i*i+s*s+h*h+n*n)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0,n=t.w-this.w||0;return i*i+s*s+h*h+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var i=this.x,s=this.y,h=this.z,n=this.w,r=t.val;return this.x=r[0]*i+r[4]*s+r[8]*h+r[12]*n,this.y=r[1]*i+r[5]*s+r[9]*h+r[13]*n,this.z=r[2]*i+r[6]*s+r[10]*h+r[14]*n,this.w=r[3]*i+r[7]*s+r[11]*h+r[15]*n,this},transformQuat:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,e=t.z,o=t.w,y=o*i+r*h-e*s,u=o*s+e*i-n*h,z=o*h+n*s-r*i,x=-n*i-r*s-e*h;return this.x=y*o+x*-n+u*-e-z*-r,this.y=u*o+x*-r+z*-n-y*-e,this.z=z*o+x*-e+y*-r-u*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});i.prototype.sub=i.prototype.subtract,i.prototype.mul=i.prototype.multiply,i.prototype.div=i.prototype.divide,i.prototype.dist=i.prototype.distance,i.prototype.distSq=i.prototype.distanceSq,i.prototype.len=i.prototype.length,i.prototype.lenSq=i.prototype.lengthSq,module.exports=i;
},{"../utils/Class":"f5Xp"}],"6R7U":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../GameObject"),e=require("../sprite/Sprite"),s=require("../../math/Vector2"),n=require("../../math/Vector4"),h=new i({Extends:t,initialize:function(i,h,c,o,r,a){t.call(this,i,"Sprite3D"),this.gameObject=new e(i,0,0,r,a),this.position=new n(h,c,o),this.size=new s(this.gameObject.width,this.gameObject.height),this.scale=new s(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(i){var t=this.position,e=this.gameObject;i.project(t,e),i.getPointSize(t,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?e.setVisible(!1):(e.visible||e.setVisible(!0),this.adjustScaleX&&(e.scaleX=this.scale.x),this.adjustScaleY&&(e.scaleY=this.scale.y),e.setDepth(-1*e.z))},setVisible:function(i){return this.visible=i,this},visible:{get:function(){return this._visible},set:function(i){this._visible=i,this.gameObject.visible=i}},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},z:{get:function(){return this.position.z},set:function(i){this.position.z=i}}});module.exports=h;
},{"../../utils/Class":"f5Xp","../GameObject":"HPsp","../sprite/Sprite":"X5p1","../../math/Vector2":"2OLl","../../math/Vector4":"jZrB"}],"mS3N":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../math/Matrix4"),e=require("../../math/RandomXYZ"),r=require("../../math/RandomXYZW"),n=require("../../math/RotateVec3"),s=require("../../structs/Set"),o=require("../../gameobjects/sprite3d/Sprite3D"),h=require("../../math/Vector2"),a=require("../../math/Vector3"),u=require("../../math/Vector4"),c=new a,d=new u,p=new a,l=new a,f=new i,v=new t({initialize:function(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,this.name="",this.direction=new a(0,0,-1),this.up=new a(0,1,0),this.position=new a,this.pixelScale=128,this.projection=new i,this.view=new i,this.combined=new i,this.invProjectionView=new i,this.near=1,this.far=100,this.ray={origin:new a,direction:new a},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new s},setPosition:function(t,i,e){return this.position.set(t,i,e),this.update()},setScene:function(t){return this.scene=t,this},setPixelScale:function(t){return this.pixelScale=t,this.update()},add:function(t){return this.children.set(t),this.updateChildren(),t},remove:function(t){return this.displayList.remove(t.gameObject),this.updateList.remove(t.gameObject),this.children.delete(t),this},clear:function(){for(var t=this.getChildren(),i=0;i<t.length;i++)this.remove(t[i]);return this},getChildren:function(){return this.children.entries},create:function(t,i,e,r,n,s){void 0===s&&(s=!0);var h=new o(this.scene,t,i,e,r,n);return this.displayList.add(h.gameObject),this.updateList.add(h.gameObject),h.visible=s,this.children.set(h),this.updateChildren(),h},createMultiple:function(t,i,e,r){void 0===r&&(r=!0);for(var n=[],s=0;s<t;s++){var h=new o(this.scene,0,0,0,i,e);this.displayList.add(h.gameObject),this.updateList.add(h.gameObject),h.visible=r,this.children.set(h),n.push(h)}return n},createRect:function(t,i,e,r){"number"==typeof t&&(t={x:t,y:t,z:t}),"number"==typeof i&&(i={x:i,y:i,z:i});for(var n=t.x*t.y*t.z,s=this.createMultiple(n,e,r),o=0,h=.5-t.z/2;h<t.z/2;h++)for(var a=.5-t.y/2;a<t.y/2;a++)for(var u=.5-t.x/2;u<t.x/2;u++){var c=u*i.x,d=a*i.y,p=h*i.z;s[o].position.set(c,d,p),o++}return this.update(),s},randomSphere:function(t,i){void 0===i&&(i=this.getChildren());for(var r=0;r<i.length;r++)e(i[r].position,t);return this.update()},randomCube:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)r(i[e].position,t);return this.update()},translateChildren:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)i[e].position.add(t);return this.update()},transformChildren:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)i[e].position.transformMat4(t);return this.update()},setViewport:function(t,i){return this.viewportWidth=t,this.viewportHeight=i,this.update()},translate:function(t,i,e){return"object"==typeof t?(this.position.x+=t.x||0,this.position.y+=t.y||0,this.position.z+=t.z||0):(this.position.x+=t||0,this.position.y+=i||0,this.position.z+=e||0),this.update()},lookAt:function(t,i,e){var r=this.direction,n=this.up;return"object"==typeof t?r.copy(t):r.set(t,i,e),r.subtract(this.position).normalize(),c.copy(r).cross(n).normalize(),n.copy(c).cross(r).normalize(),this.update()},rotate:function(t,i){return n(this.direction,i,t),n(this.up,i,t),this.update()},rotateAround:function(t,i,e){return c.copy(t).subtract(this.position),this.translate(c),this.rotate(i,e),this.translate(c.negate()),this.update()},project:function(t,i){void 0===i&&(i=new u);var e=this.viewportWidth,r=this.viewportHeight,n=v.NEAR_RANGE,s=v.FAR_RANGE;return d.set(t.x,t.y,t.z,1),d.transformMat4(this.combined),0===d.w&&(d.w=1),d.x=d.x/d.w,d.y=d.y/d.w,d.z=d.z/d.w,i.x=e/2*d.x+(0+e/2),i.y=r/2*d.y+(0+r/2),i.z=(s-n)/2*d.z+(s+n)/2,(0===i.w||i.w)&&(i.w=1/d.w),i},unproject:function(t,i){void 0===i&&(i=new a);var e=d.set(0,0,this.viewportWidth,this.viewportHeight);return i.copy(t).unproject(e,this.invProjectionView)},getPickRay:function(t,i){var e=this.ray.origin.set(t,i,0),r=this.ray.direction.set(t,i,1),n=d.set(0,0,this.viewportWidth,this.viewportHeight),s=this.invProjectionView;return e.unproject(n,s),r.unproject(n,s),r.subtract(e).normalize(),this.ray},updateChildren:function(){for(var t=this.children.entries,i=0;i<t.length;i++)t[i].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var t=p.set(this.direction).negate(),i=l.set(this.up).cross(t).normalize(),e=c.set(t).cross(i).normalize(),r=f.val;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=0,r[4]=e.x,r[5]=e.y,r[6]=e.z,r[7]=0,r[8]=t.x,r[9]=t.y,r[10]=t.z,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(t,i,e){void 0===e&&(e=new h),this.billboardMatrixDirty&&this.updateBillboardMatrix();var r=c,n=i.x/this.pixelScale/2,s=i.y/this.pixelScale/2;r.set(-n,-s,0).transformMat4(f).add(t),this.project(r,r);var o=r.x,a=r.y;r.set(n,s,0).transformMat4(f).add(t),this.project(r,r);var u=r.x-o,d=r.y-a;return e.set(u,d)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},setX:function(t){return this.position.x=t,this.update()},setY:function(t){return this.position.y=t,this.update()},setZ:function(t){return this.position.z=t,this.update()},x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.update()}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.update()}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t,this.update()}}});v.FAR_RANGE=1,v.NEAR_RANGE=0,module.exports=v;
},{"../../utils/Class":"f5Xp","../../math/Matrix4":"Mwwo","../../math/RandomXYZ":"fovb","../../math/RandomXYZW":"w7gG","../../math/RotateVec3":"HcV/","../../structs/Set":"jS4S","../../gameobjects/sprite3d/Sprite3D":"6R7U","../../math/Vector2":"2OLl","../../math/Vector3":"7XYV","../../math/Vector4":"jZrB"}],"knpL":[function(require,module,exports) {
var i=require("./Camera"),t=require("../../utils/Class"),o=require("../../math/Vector3"),e=new o,s=new t({Extends:i,initialize:function(t,o,e){void 0===o&&(o=0),void 0===e&&(e=0),i.call(this,t),this.viewportWidth=o,this.viewportHeight=e,this._zoom=1,this.near=0,this.update()},setToOrtho:function(i,t,o){void 0===t&&(t=this.viewportWidth),void 0===o&&(o=this.viewportHeight);var e=this.zoom;return this.up.set(0,i?-1:1,0),this.direction.set(0,0,i?1:-1),this.position.set(e*t/2,e*o/2,0),this.viewportWidth=t,this.viewportHeight=o,this.update()},update:function(){var i=this.viewportWidth,t=this.viewportHeight,o=Math.abs(this.near),s=Math.abs(this.far),h=this.zoom;return 0===i||0===t?this:(this.projection.ortho(h*-i/2,h*i/2,h*-t/2,h*t/2,o,s),e.copy(this.position).add(this.direction),this.view.lookAt(this.position,e,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(i){this._zoom=i,this.update()}}});module.exports=s;
},{"./Camera":"mS3N","../../utils/Class":"f5Xp","../../math/Vector3":"7XYV"}],"n815":[function(require,module,exports) {
var i=require("./Camera"),t=require("../../utils/Class"),e=require("../../math/Vector3"),s=new e,h=new t({Extends:i,initialize:function(t,e,s,h){void 0===e&&(e=80),void 0===s&&(s=0),void 0===h&&(h=0),i.call(this,t),this.viewportWidth=s,this.viewportHeight=h,this.fieldOfView=e*Math.PI/180,this.update()},setFOV:function(i){return this.fieldOfView=i*Math.PI/180,this},update:function(){var i=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,i,Math.abs(this.near),Math.abs(this.far)),s.copy(this.position).add(this.direction),this.view.lookAt(this.position,s,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});module.exports=h;
},{"./Camera":"mS3N","../../utils/Class":"f5Xp","../../math/Vector3":"7XYV"}],"/M1k":[function(require,module,exports) {
var s=require("../../utils/Class"),t=require("./OrthographicCamera"),e=require("./PerspectiveCamera"),i=require("../../plugins/PluginCache"),a=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.cameras=[],s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var s=this.systems.events;s.on("update",this.update,this),s.once("shutdown",this.shutdown,this)},add:function(s,t,e){return this.addPerspectiveCamera(s,t,e)},addOrthographicCamera:function(s,e){var i=this.scene.sys.game.config;void 0===s&&(s=i.width),void 0===e&&(e=i.height);var a=new t(this.scene,s,e);return this.cameras.push(a),a},addPerspectiveCamera:function(s,t,i){var a=this.scene.sys.game.config;void 0===s&&(s=80),void 0===t&&(t=a.width),void 0===i&&(i=a.height);var r=new e(this.scene,s,t,i);return this.cameras.push(r),r},getCamera:function(s){for(var t=0;t<this.cameras.length;t++)if(this.cameras[t].name===s)return this.cameras[t];return null},removeCamera:function(s){var t=this.cameras.indexOf(s);-1!==t&&this.cameras.splice(t,1)},removeAll:function(){for(;this.cameras.length>0;){this.cameras.pop().destroy()}return this.main},update:function(s,t){for(var e=0,i=this.cameras.length;e<i;++e)this.cameras[e].update(s,t)},shutdown:function(){var s=this.systems.events;s.off("update",this.update,this),s.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});i.register("CameraManager3D",a,"cameras3d"),module.exports=a;
},{"../../utils/Class":"f5Xp","./OrthographicCamera":"knpL","./PerspectiveCamera":"n815","../../plugins/PluginCache":"sYlk"}],"oI3N":[function(require,module,exports) {
module.exports={Camera:require("./Camera"),CameraManager:require("./CameraManager"),OrthographicCamera:require("./OrthographicCamera"),PerspectiveCamera:require("./PerspectiveCamera")};
},{"./Camera":"mS3N","./CameraManager":"/M1k","./OrthographicCamera":"knpL","./PerspectiveCamera":"n815"}],"TBEu":[function(require,module,exports) {
module.exports={Controls:require("./controls"),Scene2D:require("./2d"),Sprite3D:require("./sprite3d")};
},{"./controls":"Smqu","./2d":"8HzN","./sprite3d":"oI3N"}],"mriq":[function(require,module,exports) {
module.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"};
},{}],"n71Q":[function(require,module,exports) {
var n="",r=function(){var r=function(n){for(var r=["i","webkitI","msI","mozI","oI"],e=0;e<r.length;e++){var t=r[e]+"mageSmoothingEnabled";if(t in n)return t}return null};return{disable:function(e){return""===n&&(n=r(e)),n&&(e[n]=!1),e},enable:function(e){return""===n&&(n=r(e)),n&&(e[n]=!0),e},getPrefix:r,isEnabled:function(r){return null!==n?r[n]:null}}};module.exports=r();
},{}],"RqeD":[function(require,module,exports) {
var n=require("../../const"),t=require("./Smoothing"),e=[],r=!1,a=function(){var a=function(a,i,u,c,v){var f;void 0===i&&(i=1),void 0===u&&(u=1),void 0===c&&(c=n.CANVAS),void 0===v&&(v=!1);var l=o(c);return null===l?(l={parent:a,canvas:document.createElement("canvas"),type:c},c===n.CANVAS&&e.push(l),f=l.canvas):(l.parent=a,f=l.canvas),v&&(l.parent=f),f.width=i,f.height=u,r&&c===n.CANVAS&&t.disable(f.getContext("2d")),f},o=function(t){if(void 0===t&&(t=n.CANVAS),t===n.WEBGL)return null;for(var r=0;r<e.length;r++){var a=e[r];if(!a.parent&&a.type===t)return a}return null},i=function(){var n=0;return e.forEach(function(t){t.parent&&n++}),n};return{create2D:function(t,e,r){return a(t,e,r,n.CANVAS)},create:a,createWebGL:function(t,e,r){return a(t,e,r,n.WEBGL)},disableSmoothing:function(){r=!0},enableSmoothing:function(){r=!1},first:o,free:function(){return e.length-i()},pool:e,remove:function(n){var t=n instanceof HTMLCanvasElement;e.forEach(function(e){(t&&e.canvas===n||!t&&e.parent===n)&&(e.parent=null,e.canvas.width=1,e.canvas.height=1)})},total:i}};module.exports=a();
},{"../../const":"rdvC","./Smoothing":"n71Q"}],"fGhY":[function(require,module,exports) {
var e=require("./palettes/Arne16"),t=require("../display/canvas/CanvasPool"),a=require("../utils/object/GetValue"),l=function(l){var r=a(l,"data",[]),n=a(l,"canvas",null),i=a(l,"palette",e),h=a(l,"pixelWidth",1),o=a(l,"pixelHeight",h),s=a(l,"resizeCanvas",!0),u=a(l,"clearCanvas",!0),v=a(l,"preRender",null),c=a(l,"postRender",null),d=Math.floor(Math.abs(r[0].length*h)),p=Math.floor(Math.abs(r.length*o));n||(n=t.create2D(this,d,p),s=!1,u=!1),s&&(n.width=d,n.height=p);var f=n.getContext("2d");u&&f.clearRect(0,0,d,p),v&&v(n,f);for(var g=0;g<r.length;g++)for(var x=r[g],C=0;C<x.length;C++){var M=x[C];"."!==M&&" "!==M&&(f.fillStyle=i[M],f.fillRect(C*h,g*o,h,o))}return c&&c(n,f),n};module.exports=l;
},{"./palettes/Arne16":"mriq","../display/canvas/CanvasPool":"RqeD","../utils/object/GetValue":"8Li0"}],"yXsB":[function(require,module,exports) {
module.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"};
},{}],"+F9T":[function(require,module,exports) {
module.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"};
},{}],"8XO4":[function(require,module,exports) {
module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"};
},{}],"2eYB":[function(require,module,exports) {
module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"};
},{}],"2nI/":[function(require,module,exports) {
module.exports={ARNE16:require("./Arne16"),C64:require("./C64"),CGA:require("./CGA"),JMP:require("./JMP"),MSX:require("./MSX")};
},{"./Arne16":"mriq","./C64":"yXsB","./CGA":"+F9T","./JMP":"8XO4","./MSX":"2eYB"}],"Oy/y":[function(require,module,exports) {
module.exports={GenerateTexture:require("./GenerateTexture"),Palettes:require("./palettes")};
},{"./GenerateTexture":"fGhY","./palettes":"2nI/"}],"pn/u":[function(require,module,exports) {
function n(n,r){var t=1-n;return t*t*t*r}function r(n,r){var t=1-n;return 3*t*t*n*r}function t(n,r){return 3*(1-n)*n*n*r}function u(n,r){return n*n*n*r}var e=function(e,o,c,f,i){return n(e,o)+r(e,c)+t(e,f)+u(e,i)};module.exports=e;
},{}],"+g+2":[function(require,module,exports) {
var r=require("./Rectangle"),e=function(e,t){if(void 0===t&&(t=new r),0===e.length)return t;for(var a,n,h,i=Number.MAX_VALUE,m=Number.MAX_VALUE,u=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,E=0;E<e.length;E++)a=e[E],Array.isArray(a)?(n=a[0],h=a[1]):(n=a.x,h=a.y),i=Math.min(i,n),m=Math.min(m,h),u=Math.max(u,n),A=Math.max(A,h);return t.x=i,t.y=m,t.width=u-i,t.height=A-m,t};module.exports=e;
},{"./Rectangle":"hff6"}],"EQ4a":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../geom/rectangle/FromPoints"),n=require("../geom/rectangle/Rectangle"),i=require("../math/Vector2"),s=new t({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,i){t||(t=new n),void 0===i&&(i=16);var s=this.getLength();i>s&&(i=s/2);var r=Math.max(1,Math.round(s/i));return e(this.getSpacedPoints(r),t)},getDistancePoints:function(t){var e=this.getLength(),n=Math.max(1,e/t);return this.getSpacedPoints(n)},getEndPoint:function(t){return void 0===t&&(t=new i),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0,this._tmpVec2A),s=0;n.push(0);for(var r=1;r<=t;r++)s+=(e=this.getPoint(r/t,this._tmpVec2B)).distance(i),n.push(s),i.copy(e);return this.cacheArcLengths=n,n},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=this.defaultDivisions);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getRandomPoint:function(t){return void 0===t&&(t=new i),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=this.defaultDivisions);for(var e=[],n=0;n<=t;n++){var i=this.getUtoTmapping(n/t,null,t);e.push(this.getPoint(i))}return e},getStartPoint:function(t){return void 0===t&&(t=new i),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new i);var n=t-1e-4,s=t+1e-4;return n<0&&(n=0),s>1&&(s=1),this.getPoint(n,this._tmpVec2A),this.getPoint(s,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,n){var i,s=this.getLengths(n),r=0,o=s.length;i=e?Math.min(e,s[o-1]):t*s[o-1];for(var h,g=0,a=o-1;g<=a;)if((h=s[r=Math.floor(g+(a-g)/2)]-i)<0)g=r+1;else{if(!(h>0)){a=r;break}a=r-1}if(s[r=a]===i)return r/(o-1);var u=s[r];return(r+(i-u)/(s[r+1]-u))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});module.exports=s;
},{"../utils/Class":"f5Xp","../geom/rectangle/FromPoints":"+g+2","../geom/rectangle/Rectangle":"hff6","../math/Vector2":"2OLl"}],"Sd9c":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/interpolation/CubicBezierInterpolation"),e=require("./Curve"),n=require("../math/Vector2"),r=new t({Extends:e,initialize:function(t,i,r,s){e.call(this,"CubicBezierCurve"),Array.isArray(t)&&(s=new n(t[6],t[7]),r=new n(t[4],t[5]),i=new n(t[2],t[3]),t=new n(t[0],t[1])),this.p0=t,this.p1=i,this.p2=r,this.p3=s},getStartPoint:function(t){return void 0===t&&(t=new n),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new n);var r=this.p0,s=this.p1,o=this.p2,h=this.p3;return e.set(i(t,r.x,s.x,o.x,h.x),i(t,r.y,s.y,o.y,h.y))},draw:function(t,i){void 0===i&&(i=32);var e=this.getPoints(i);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(t){var i=t.points,e=new n(i[0],i[1]),s=new n(i[2],i[3]),o=new n(i[4],i[5]),h=new n(i[6],i[7]);return new r(e,s,o,h)},module.exports=r;
},{"../utils/Class":"f5Xp","../math/interpolation/CubicBezierInterpolation":"pn/u","./Curve":"EQ4a","../math/Vector2":"2OLl"}],"M5ju":[function(require,module,exports) {
var r=require("./const"),e=function(e){return e*r.RAD_TO_DEG};module.exports=e;
},{"./const":"fj5M"}],"AC9M":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Curve"),s=require("../math/DegToRad"),n=require("../utils/object/GetValue"),e=require("../math/RadToDeg"),r=require("../math/Vector2"),o=new t({Extends:i,initialize:function(t,e,o,u,h,a,c,d){if("object"==typeof t){var l=t;t=n(l,"x",0),e=n(l,"y",0),o=n(l,"xRadius",0),u=n(l,"yRadius",o),h=n(l,"startAngle",0),a=n(l,"endAngle",360),c=n(l,"clockwise",!1),d=n(l,"rotation",0)}else void 0===u&&(u=o),void 0===h&&(h=0),void 0===a&&(a=360),void 0===c&&(c=!1),void 0===d&&(d=0);i.call(this,"EllipseCurve"),this.p0=new r(t,e),this._xRadius=o,this._yRadius=u,this._startAngle=s(h),this._endAngle=s(a),this._clockwise=c,this._rotation=s(d)},getStartPoint:function(t){return void 0===t&&(t=new r),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,i){void 0===i&&(i=new r);for(var s=2*Math.PI,n=this._endAngle-this._startAngle,e=Math.abs(n)<Number.EPSILON;n<0;)n+=s;for(;n>s;)n-=s;n<Number.EPSILON&&(n=e?0:s),this._clockwise&&!e&&(n===s?n=-s:n-=s);var o=this._startAngle+t*n,u=this.p0.x+this._xRadius*Math.cos(o),h=this.p0.y+this._yRadius*Math.sin(o);if(0!==this._rotation){var a=Math.cos(this._rotation),c=Math.sin(this._rotation),d=u-this.p0.x,l=h-this.p0.y;u=d*a-l*c+this.p0.x,h=d*c+l*a+this.p0.y}return i.set(u,h)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=2*t,this},setHeight:function(t){return this.yRadius=2*t,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return e(this._startAngle)},set:function(t){this._startAngle=s(t)}},endAngle:{get:function(){return e(this._endAngle)},set:function(t){this._endAngle=s(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=s(t)}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:e(this._startAngle),endAngle:e(this._endAngle),clockwise:this._clockwise,rotation:e(this._rotation)}}});o.fromJSON=function(t){return new o(t)},module.exports=o;
},{"../utils/Class":"f5Xp","./Curve":"EQ4a","../math/DegToRad":"hyJn","../utils/object/GetValue":"8Li0","../math/RadToDeg":"M5ju","../math/Vector2":"2OLl"}],"qgZB":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("../plugins/PluginCache"),i=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.displayList,this.updateList,s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(s,t){i.prototype.hasOwnProperty(s)||(i.prototype[s]=t)},t.register("GameObjectFactory",i,"add"),module.exports=i;
},{"../utils/Class":"f5Xp","../plugins/PluginCache":"sYlk"}],"/ZrL":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./Curve"),n=require("../geom/rectangle/FromPoints"),i=require("../geom/rectangle/Rectangle"),r=require("../math/Vector2"),o=new r,s=new t({Extends:e,initialize:function(t,n){e.call(this,"LineCurve"),Array.isArray(t)&&(n=new r(t[2],t[3]),t=new r(t[0],t[1])),this.p0=t,this.p1=n},getBounds:function(t){return void 0===t&&(t=new i),n([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new r),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new r),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){return o.copy(this.p1).subtract(this.p0).normalize()},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});s.fromJSON=function(t){var e=t.points,n=new r(e[0],e[1]),i=new r(e[2],e[3]);return new s(n,i)},module.exports=s;
},{"../utils/Class":"f5Xp","./Curve":"EQ4a","../geom/rectangle/FromPoints":"+g+2","../geom/rectangle/Rectangle":"hff6","../math/Vector2":"2OLl"}],"ksSv":[function(require,module,exports) {
var t=require("../../utils/Class"),n=require("../../math/Vector2"),e=new t({initialize:function(t,e){this.active=!1,this.p0=new n(t,e)},getPoint:function(t,e){return void 0===e&&(e=new n),e.copy(this.p0)},getPointAt:function(t,n){return this.getPoint(t,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});module.exports=e;
},{"../../utils/Class":"f5Xp","../../math/Vector2":"2OLl"}],"5MHD":[function(require,module,exports) {
function n(n,r){var t=1-n;return t*t*r}function r(n,r){return 2*(1-n)*n*r}function t(n,r){return n*n*r}var u=function(u,e,o,c){return n(u,e)+r(u,o)+t(u,c)};module.exports=u;
},{}],"RA3Q":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Curve"),e=require("../math/interpolation/QuadraticBezierInterpolation"),n=require("../math/Vector2"),r=new t({Extends:i,initialize:function(t,e,r){i.call(this,"QuadraticBezier"),Array.isArray(t)&&(r=new n(t[4],t[5]),e=new n(t[2],t[3]),t=new n(t[0],t[1])),this.p0=t,this.p1=e,this.p2=r},getStartPoint:function(t){return void 0===t&&(t=new n),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,i){void 0===i&&(i=new n);var r=this.p0,o=this.p1,s=this.p2;return i.set(e(t,r.x,o.x,s.x),e(t,r.y,o.y,s.y))},draw:function(t,i){void 0===i&&(i=32);var e=this.getPoints(i);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(t){var i=t.points,e=new n(i[0],i[1]),o=new n(i[2],i[3]),s=new n(i[4],i[5]);return new r(e,o,s)},module.exports=r;
},{"../utils/Class":"f5Xp","./Curve":"EQ4a","../math/interpolation/QuadraticBezierInterpolation":"5MHD","../math/Vector2":"2OLl"}],"gNAz":[function(require,module,exports) {
var r=function(r,e,n,o,t){var u=.5*(o-e),a=.5*(t-n),v=r*r;return(2*n-2*o+u+a)*(r*v)+(-3*n+3*o-2*u-a)*v+u*r+n};module.exports=r;
},{}],"j286":[function(require,module,exports) {
var t=require("../math/CatmullRom"),n=require("../utils/Class"),i=require("./Curve"),e=require("../math/Vector2"),r=new n({Extends:i,initialize:function(t){void 0===t&&(t=[]),i.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var n=0;n<t.length;n++){var i=new e;"number"==typeof t[n]?(i.x=t[n],i.y=t[n+1],n++):Array.isArray(t[n])?(i.x=t[n][0],i.y=t[n][1]):(i.x=t[n].x,i.y=t[n].y),this.points.push(i)}return this},addPoint:function(t,n){var i=new e(t,n);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new e),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(n,i){void 0===i&&(i=new e);var r=this.points,o=(r.length-1)*n,s=Math.floor(o),u=o-s,h=r[0===s?s:s-1],p=r[s],a=r[s>r.length-2?r.length-1:s+1],l=r[s>r.length-3?r.length-1:s+2];return i.set(t(u,h.x,p.x,a.x,l.x),t(u,h.y,p.y,a.y,l.y))},toJSON:function(){for(var t=[],n=0;n<this.points.length;n++)t.push(this.points[n].x),t.push(this.points[n].y);return{type:this.type,points:t}}});r.fromJSON=function(t){return new r(t.points)},module.exports=r;
},{"../math/CatmullRom":"gNAz","../utils/Class":"f5Xp","./Curve":"EQ4a","../math/Vector2":"2OLl"}],"EwJJ":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../CubicBezierCurve"),i=require("../EllipseCurve"),n=require("../../gameobjects/GameObjectFactory"),r=require("../LineCurve"),s=require("./MoveTo"),h=require("../QuadraticBezierCurve"),u=require("../../geom/rectangle/Rectangle"),o=require("../SplineCurve"),c=require("../../math/Vector2"),a=new t({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new r(e,t)),this},cubicBezierTo:function(t,i,n,r,s,h){var u,o,a,v=this.getEndPoint();return t instanceof c?(u=t,o=i,a=n):(u=new c(n,r),o=new c(s,h),a=new c(t,i)),this.add(new e(v,u,o,a))},quadraticBezierTo:function(t,e,i,n){var r,s,u=this.getEndPoint();return t instanceof c?(r=t,s=e):(r=new c(i,n),s=new c(t,e)),this.add(new h(u,r,s))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var n=this.curves[i];n.active&&n.draw(t,e)}return t},ellipseTo:function(t,e,n,r,s,h){var u=new i(0,0,t,e,n,r,s,h),o=this.getEndPoint(this._tmpVec2A),c=u.getStartPoint(this._tmpVec2B);return o.subtract(c),u.x=o.x,u.y=o.y,this.add(u)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var n=0;n<t.curves.length;n++){var s=t.curves[n];switch(s.type){case"LineCurve":this.add(r.fromJSON(s));break;case"EllipseCurve":this.add(i.fromJSON(s));break;case"SplineCurve":this.add(o.fromJSON(s));break;case"CubicBezierCurve":this.add(e.fromJSON(s));break;case"QuadraticBezierCurve":this.add(h.fromJSON(s))}}return this},getBounds:function(t,e){void 0===t&&(t=new u),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new u,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var h=this.curves[s];h.active&&(h.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),n=Math.max(n,i.right),r=Math.max(r,i.bottom))}return t.right=n,t.bottom=r,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return void 0===t&&(t=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new c);for(var i=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,h=this.curves[r],u=h.getLength(),o=0===u?0:1-s/u;return h.getPointAt(o,e)}r++}return null},getPoints:function(t){void 0===t&&(t=12);for(var e,i=[],n=0;n<this.curves.length;n++){var r=this.curves[n];if(r.active)for(var s=r.getResolution(t),h=r.getPoints(s),u=0;u<h.length;u++){var o=h[u];e&&e.equals(o)||(i.push(o),e=o)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(t){return void 0===t&&(t=new c),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new c),t.copy(this.startPoint)},lineTo:function(t,e){t instanceof c?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new r([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new o(t))},moveTo:function(t,e){return this.add(new s(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});n.register("path",function(t,e){return new a(t,e)}),module.exports=a;
},{"../../utils/Class":"f5Xp","../CubicBezierCurve":"Sd9c","../EllipseCurve":"AC9M","../../gameobjects/GameObjectFactory":"qgZB","../LineCurve":"/ZrL","./MoveTo":"ksSv","../QuadraticBezierCurve":"RA3Q","../../geom/rectangle/Rectangle":"hff6","../SplineCurve":"j286","../../math/Vector2":"2OLl"}],"cmvR":[function(require,module,exports) {
module.exports={Path:require("./path/Path"),CubicBezier:require("./CubicBezierCurve"),Curve:require("./Curve"),Ellipse:require("./EllipseCurve"),Line:require("./LineCurve"),QuadraticBezier:require("./QuadraticBezierCurve"),Spline:require("./SplineCurve")};
},{"./path/Path":"EwJJ","./CubicBezierCurve":"Sd9c","./Curve":"EQ4a","./EllipseCurve":"AC9M","./LineCurve":"/ZrL","./QuadraticBezierCurve":"RA3Q","./SplineCurve":"j286"}],"FK/V":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("./DataManager"),e=require("../plugins/PluginCache"),i=new s({Extends:t,initialize:function(s){t.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.events=this.systems.events,this.events.once("destroy",this.destroy,this)},start:function(){this.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){t.prototype.destroy.call(this),this.events.off("start",this.start,this),this.scene=null,this.systems=null}});e.register("DataManagerPlugin",i,"data"),module.exports=i;
},{"../utils/Class":"f5Xp","./DataManager":"Mp8L","../plugins/PluginCache":"sYlk"}],"TFUO":[function(require,module,exports) {
module.exports={DataManager:require("./DataManager"),DataManagerPlugin:require("./DataManagerPlugin")};
},{"./DataManager":"Mp8L","./DataManagerPlugin":"FK/V"}],"Ihnw":[function(require,module,exports) {
module.exports={BottomCenter:require("./BottomCenter"),BottomLeft:require("./BottomLeft"),BottomRight:require("./BottomRight"),Center:require("./Center"),LeftCenter:require("./LeftCenter"),QuickSet:require("./QuickSet"),RightCenter:require("./RightCenter"),TopCenter:require("./TopCenter"),TopLeft:require("./TopLeft"),TopRight:require("./TopRight")};
},{"./BottomCenter":"kH3f","./BottomLeft":"q+e+","./BottomRight":"Lcfy","./Center":"MV6B","./LeftCenter":"OCSu","./QuickSet":"zaln","./RightCenter":"9iwj","./TopCenter":"Zm7V","./TopLeft":"MPQC","./TopRight":"UpgE"}],"hN3C":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),r=require("../../bounds/GetCenterX"),o=require("../../bounds/SetCenterX"),t=require("../../bounds/SetTop"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),o(u,r(n)+d),t(u,e(n)+i),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetCenterX":"3LpQ","../../bounds/SetCenterX":"IZ6F","../../bounds/SetTop":"y+MG"}],"gkb8":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),r=require("../../bounds/SetLeft"),t=require("../../bounds/SetTop"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),r(u,o(d)-i),t(u,e(d)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetLeft":"AciX","../../bounds/SetLeft":"HuNb","../../bounds/SetTop":"y+MG"}],"jxyM":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),r=require("../../bounds/SetRight"),t=require("../../bounds/SetTop"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetRight":"i/pG","../../bounds/SetRight":"oKdg","../../bounds/SetTop":"y+MG"}],"hq2N":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)-d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetLeft":"AciX","../../bounds/SetBottom":"rbwq","../../bounds/SetRight":"oKdg"}],"LxWc":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetLeft"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetRight"),n=function(n,o,i,d){return void 0===i&&(i=0),void 0===d&&(d=0),u(n,r(o)-i),t(n,e(o)+d),n};module.exports=n;
},{"../../bounds/GetCenterY":"Ffbu","../../bounds/GetLeft":"AciX","../../bounds/SetCenterY":"1OVT","../../bounds/SetRight":"oKdg"}],"tsvH":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetRight"),u=require("../../bounds/SetTop"),t=function(t,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(t,e(i)-d),u(t,r(i)-n),t};module.exports=t;
},{"../../bounds/GetLeft":"AciX","../../bounds/GetTop":"dR5h","../../bounds/SetRight":"oKdg","../../bounds/SetTop":"y+MG"}],"XJSv":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetLeft"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"HWeD","../../bounds/GetRight":"i/pG","../../bounds/SetBottom":"rbwq","../../bounds/SetLeft":"HuNb"}],"IUuK":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetRight"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetLeft"),n=function(n,o,i,d){return void 0===i&&(i=0),void 0===d&&(d=0),u(n,r(o)+i),t(n,e(o)+d),n};module.exports=n;
},{"../../bounds/GetCenterY":"Ffbu","../../bounds/GetRight":"i/pG","../../bounds/SetCenterY":"1OVT","../../bounds/SetLeft":"HuNb"}],"nZPb":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetLeft"),u=require("../../bounds/SetTop"),t=function(t,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(t,e(i)+d),u(t,r(i)-n),t};module.exports=t;
},{"../../bounds/GetRight":"i/pG","../../bounds/GetTop":"dR5h","../../bounds/SetLeft":"HuNb","../../bounds/SetTop":"y+MG"}],"h6Ba":[function(require,module,exports) {
var e=require("../../bounds/GetCenterX"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetBottom"),t=require("../../bounds/SetCenterX"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),t(u,e(n)+d),o(u,r(n)-i),u};module.exports=u;
},{"../../bounds/GetCenterX":"3LpQ","../../bounds/GetTop":"dR5h","../../bounds/SetBottom":"rbwq","../../bounds/SetCenterX":"IZ6F"}],"A8xA":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),o=require("../../bounds/GetTop"),r=require("../../bounds/SetBottom"),t=require("../../bounds/SetLeft"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),t(u,e(d)-i),r(u,o(d)-n),u};module.exports=u;
},{"../../bounds/GetLeft":"AciX","../../bounds/GetTop":"dR5h","../../bounds/SetBottom":"rbwq","../../bounds/SetLeft":"HuNb"}],"etCP":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),o=require("../../bounds/GetTop"),r=require("../../bounds/SetBottom"),t=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),t(u,e(i)+d),r(u,o(i)-n),u};module.exports=u;
},{"../../bounds/GetRight":"i/pG","../../bounds/GetTop":"dR5h","../../bounds/SetBottom":"rbwq","../../bounds/SetRight":"oKdg"}],"VY6e":[function(require,module,exports) {
module.exports={BottomCenter:require("./BottomCenter"),BottomLeft:require("./BottomLeft"),BottomRight:require("./BottomRight"),LeftBottom:require("./LeftBottom"),LeftCenter:require("./LeftCenter"),LeftTop:require("./LeftTop"),RightBottom:require("./RightBottom"),RightCenter:require("./RightCenter"),RightTop:require("./RightTop"),TopCenter:require("./TopCenter"),TopLeft:require("./TopLeft"),TopRight:require("./TopRight")};
},{"./BottomCenter":"hN3C","./BottomLeft":"gkb8","./BottomRight":"jxyM","./LeftBottom":"hq2N","./LeftCenter":"LxWc","./LeftTop":"tsvH","./RightBottom":"XJSv","./RightCenter":"IUuK","./RightTop":"nZPb","./TopCenter":"h6Ba","./TopLeft":"A8xA","./TopRight":"etCP"}],"QsnT":[function(require,module,exports) {
var e=require("./const"),r=require("../../utils/object/Extend"),i={In:require("./in"),To:require("./to")};i=r(!1,i,e),module.exports=i;
},{"./const":"pb2z","../../utils/object/Extend":"Wu2m","./in":"Ihnw","./to":"VY6e"}],"GtPU":[function(require,module,exports) {
var r=function(r){return r.width*r.originX};module.exports=r;
},{}],"JhDT":[function(require,module,exports) {
var r=function(r){return r.height*r.originY};module.exports=r;
},{}],"enKw":[function(require,module,exports) {
module.exports={CenterOn:require("./CenterOn"),GetBottom:require("./GetBottom"),GetCenterX:require("./GetCenterX"),GetCenterY:require("./GetCenterY"),GetLeft:require("./GetLeft"),GetOffsetX:require("./GetOffsetX"),GetOffsetY:require("./GetOffsetY"),GetRight:require("./GetRight"),GetTop:require("./GetTop"),SetBottom:require("./SetBottom"),SetCenterX:require("./SetCenterX"),SetCenterY:require("./SetCenterY"),SetLeft:require("./SetLeft"),SetRight:require("./SetRight"),SetTop:require("./SetTop")};
},{"./CenterOn":"E/Jk","./GetBottom":"HWeD","./GetCenterX":"3LpQ","./GetCenterY":"Ffbu","./GetLeft":"AciX","./GetOffsetX":"GtPU","./GetOffsetY":"JhDT","./GetRight":"i/pG","./GetTop":"dR5h","./SetBottom":"rbwq","./SetCenterX":"IZ6F","./SetCenterY":"1OVT","./SetLeft":"HuNb","./SetRight":"oKdg","./SetTop":"y+MG"}],"ud0E":[function(require,module,exports) {
var e={setCrisp:function(e){return["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"].forEach(function(t){e.style["image-rendering"]=t}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};module.exports=e;
},{}],"Noza":[function(require,module,exports) {
var o=function(o,t){return void 0===t&&(t="none"),o.style.msTouchAction=t,o.style["ms-touch-action"]=t,o.style["touch-action"]=t,o};module.exports=o;
},{}],"0Jh4":[function(require,module,exports) {
var t=function(t,e){void 0===e&&(e="none");return["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(o){t.style[o+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};module.exports=t;
},{}],"e5bB":[function(require,module,exports) {
module.exports={Interpolation:require("./CanvasInterpolation"),Pool:require("./CanvasPool"),Smoothing:require("./Smoothing"),TouchAction:require("./TouchAction"),UserSelect:require("./UserSelect")};
},{"./CanvasInterpolation":"ud0E","./CanvasPool":"RqeD","./Smoothing":"n71Q","./TouchAction":"Noza","./UserSelect":"0Jh4"}],"UpGC":[function(require,module,exports) {
var r=function(r){var a={r:r>>16&255,g:r>>8&255,b:255&r,a:255};return r>16777215&&(a.a=r>>>24),a};module.exports=r;
},{}],"ptdL":[function(require,module,exports) {
var r=function(r){var t=r.toString(16);return 1===t.length?"0"+t:t};module.exports=r;
},{}],"fz+0":[function(require,module,exports) {
var r=function(r,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+6*(e-r)*n:n<.5?e:n<2/3?r+(e-r)*(2/3-n)*6:r};module.exports=r;
},{}],"o1uR":[function(require,module,exports) {
var e=require("./Color"),r=require("./HueToComponent"),o=function(o,n,u){var t=u,i=u,a=u;if(0!==n){var v=u<.5?u*(1+n):u+n-u*n,f=2*u-v;t=r(f,v,o+1/3),i=r(f,v,o),a=r(f,v,o-1/3)}return(new e).setGLTo(t,i,a,1)};module.exports=o;
},{"./Color":"3X4+","./HueToComponent":"fz+0"}],"+05Q":[function(require,module,exports) {
var o=require("./GetColor"),r=function(r,l,t){void 0===l&&(l=1),void 0===t&&(t=1);var a=Math.floor(6*r),b=6*r-a,e=Math.floor(t*(1-l)*255),f=Math.floor(t*(1-b*l)*255),g=Math.floor(t*(1-(1-b)*l)*255),h={r:t=Math.floor(t*=255),g:t,b:t,color:0},M=a%6;return 0===M?(h.g=g,h.b=e):1===M?(h.r=f,h.b=e):2===M?(h.r=e,h.b=g):3===M?(h.r=e,h.g=f):4===M?(h.r=g,h.g=e):5===M&&(h.g=e,h.b=f),h.color=o(h.r,h.g,h.b),h};module.exports=r;
},{"./GetColor":"qLNO"}],"pDqU":[function(require,module,exports) {
var r=require("./HSVToRGB"),o=function(o,e){void 0===o&&(o=1),void 0===e&&(e=1);for(var u=[],i=0;i<=359;i++)u.push(r(i/359,o,e));return u};module.exports=o;
},{"./HSVToRGB":"+05Q"}],"26+P":[function(require,module,exports) {
var r=require("../../math/Linear"),o=function(o,i,t,n,e,u,v,d){void 0===v&&(v=100),void 0===d&&(d=0);var a=d/v;return{r:r(o,n,a),g:r(i,e,a),b:r(t,u,a)}},i=function(r,i,t,n){return void 0===t&&(t=100),void 0===n&&(n=0),o(r.r,r.g,r.b,i.r,i.g,i.b,t,n)},t=function(r,i,t,n,e,u){return void 0===e&&(e=100),void 0===u&&(u=0),o(r.r,r.g,r.b,i,t,n,e,u)};module.exports={RGBWithRGB:o,ColorWithRGB:t,ColorWithColor:i};
},{"../../math/Linear":"QBm/"}],"xL6l":[function(require,module,exports) {
var o=function(o,r){return Math.floor(Math.random()*(r-o+1)+o)};module.exports=o;
},{}],"20f9":[function(require,module,exports) {
var e=require("../../math/Between"),r=require("./Color"),o=function(o,i){return void 0===o&&(o=0),void 0===i&&(i=255),new r(e(o,i),e(o,i),e(o,i))};module.exports=o;
},{"../../math/Between":"xL6l","./Color":"3X4+"}],"0nnQ":[function(require,module,exports) {
var a=function(a,r,t){a/=255,r/=255,t/=255;var n=Math.min(a,r,t),e=Math.max(a,r,t),h=e-n,m=0;return e!==n&&(e===a?m=(r-t)/h+(r<t?6:0):e===r?m=(t-a)/h+2:e===t&&(m=(a-r)/h+4),m/=6),{h:m,s:0===e?0:h/e,v:e}};module.exports=a;
},{}],"tAl9":[function(require,module,exports) {
var o=require("./ComponentToHex"),e=function(e,r,i,n,t){return void 0===n&&(n=255),void 0===t&&(t="#"),"#"===t?"#"+((1<<24)+(e<<16)+(r<<8)+i).toString(16).slice(1):"0x"+o(n)+o(e)+o(r)+o(i)};module.exports=e;
},{"./ComponentToHex":"ptdL"}],"1lIL":[function(require,module,exports) {
var o=require("./Color");o.ColorToRGBA=require("./ColorToRGBA"),o.ComponentToHex=require("./ComponentToHex"),o.GetColor=require("./GetColor"),o.GetColor32=require("./GetColor32"),o.HexStringToColor=require("./HexStringToColor"),o.HSLToColor=require("./HSLToColor"),o.HSVColorWheel=require("./HSVColorWheel"),o.HSVToRGB=require("./HSVToRGB"),o.HueToComponent=require("./HueToComponent"),o.IntegerToColor=require("./IntegerToColor"),o.IntegerToRGB=require("./IntegerToRGB"),o.Interpolate=require("./Interpolate"),o.ObjectToColor=require("./ObjectToColor"),o.RandomRGB=require("./RandomRGB"),o.RGBStringToColor=require("./RGBStringToColor"),o.RGBToHSV=require("./RGBToHSV"),o.RGBToString=require("./RGBToString"),o.ValueToColor=require("./ValueToColor"),module.exports=o;
},{"./Color":"3X4+","./ColorToRGBA":"UpGC","./ComponentToHex":"ptdL","./GetColor":"qLNO","./GetColor32":"g7dB","./HexStringToColor":"vSJL","./HSLToColor":"o1uR","./HSVColorWheel":"pDqU","./HSVToRGB":"+05Q","./HueToComponent":"fz+0","./IntegerToColor":"vROm","./IntegerToRGB":"wlbx","./Interpolate":"26+P","./ObjectToColor":"/vOF","./RandomRGB":"20f9","./RGBStringToColor":"nWfL","./RGBToHSV":"0nnQ","./RGBToString":"tAl9","./ValueToColor":"pLm8"}],"CPTx":[function(require,module,exports) {
module.exports={BitmapMask:require("./BitmapMask"),GeometryMask:require("./GeometryMask")};
},{"./BitmapMask":"wV3E","./GeometryMask":"4fR2"}],"+qi3":[function(require,module,exports) {
module.exports={Align:require("./align"),Bounds:require("./bounds"),Canvas:require("./canvas"),Color:require("./color"),Masks:require("./mask")};
},{"./align":"QsnT","./bounds":"enKw","./canvas":"e5bB","./color":"1lIL","./mask":"CPTx"}],"cgN6":[function(require,module,exports) {
var e=function(e,t,n){var o;if(void 0===n&&(n=!0),t)"string"==typeof t?o=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(o=t);else if(e.parentElement)return e;return o||(o=document.body),n&&o.style&&(o.style.overflow="hidden"),o.appendChild(e),e};module.exports=e;
},{}],"PPDM":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"3ABI":[function(require,module,exports) {
var process = require("process");
var o=require("process"),e={android:!1,chromeOS:!1,cocoonJS:!1,cocoonJSApp:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){var i=navigator.userAgent;/Windows/.test(i)?e.windows=!0:/Mac OS/.test(i)?e.macOS=!0:/Android/.test(i)?e.android=!0:/Linux/.test(i)?e.linux=!0:/iP[ao]d|iPhone/i.test(i)?(e.iOS=!0,navigator.appVersion.match(/OS (\d+)/),e.iOSVersion=parseInt(RegExp.$1,10)):/Kindle/.test(i)||/\bKF[A-Z][A-Z]+/.test(i)||/Silk.*Mobile Safari/.test(i)?e.kindle=!0:/CrOS/.test(i)&&(e.chromeOS=!0),(/Windows Phone/i.test(i)||/IEMobile/i.test(i))&&(e.android=!1,e.iOS=!1,e.macOS=!1,e.windows=!0,e.windowsPhone=!0);var n=/Silk/.test(i);if((e.windows||e.macOS||e.linux&&!n||e.chromeOS)&&(e.desktop=!0),(e.windowsPhone||/Windows NT/i.test(i)&&/Touch/i.test(i))&&(e.desktop=!1),navigator.standalone&&(e.webApp=!0),void 0!==window.cordova&&(e.cordova=!0),o&&o.versions&&o.versions.node&&(e.node=!0),e.node&&"object"==typeof o.versions&&(e.nodeWebkit=!!o.versions["node-webkit"],e.electron=!!o.versions.electron),navigator.isCocoonJS){e.cocoonJS=!0;try{e.cocoonJSApp="undefined"!=typeof CocoonJS}catch(o){e.cocoonJSApp=!1}}return void 0!==window.ejecta&&(e.ejecta=!0),/Crosswalk/.test(i)&&(e.crosswalk=!0),e.iPhone=-1!==i.toLowerCase().indexOf("iphone"),e.iPad=-1!==i.toLowerCase().indexOf("ipad"),e.pixelRatio=window.devicePixelRatio||1,e}module.exports=i();
},{"process":"PPDM"}],"HjkB":[function(require,module,exports) {
var e=require("../device/OS"),t=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var d=function(){document.removeEventListener("deviceready",d,!0),document.removeEventListener("DOMContentLoaded",d,!0),window.removeEventListener("load",d,!0),t()};document.body?e.cordova&&!e.cocoonJS?document.addEventListener("deviceready",d,!1):(document.addEventListener("DOMContentLoaded",d,!0),window.addEventListener("load",d,!0)):window.setTimeout(d,20)}else t()};module.exports=t;
},{"../device/OS":"3ABI"}],"hzPF":[function(require,module,exports) {
var e=function(e){var r="";try{if(window.DOMParser)r=(new DOMParser).parseFromString(e,"text/xml");else(r=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(e){r=null}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length?r:null};module.exports=e;
},{}],"YPJh":[function(require,module,exports) {
var e=function(e){e.parentNode&&e.parentNode.removeChild(e)};module.exports=e;
},{}],"ZRVG":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../utils/NOOP"),s=new t({initialize:function(){this.isRunning=!1,this.callback=i,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0;var t=this;this.step=function i(s){t.lastTime=t.tick,t.tick=s,t.callback(s),t.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var s=Date.now(),e=Math.max(16+t.lastTime-s,0);t.lastTime=t.tick,t.tick=s,t.callback(s),t.timeOutID=window.setTimeout(i,e)}},start:function(t,i){this.isRunning||(this.callback=t,this.isSetTimeOut=i,this.isRunning=!0,this.timeOutID=i?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=i}});module.exports=s;
},{"../utils/Class":"f5Xp","../utils/NOOP":"u3ni"}],"o3Q5":[function(require,module,exports) {
module.exports={AddToDOM:require("./AddToDOM"),DOMContentLoaded:require("./DOMContentLoaded"),ParseXML:require("./ParseXML"),RemoveFromDOM:require("./RemoveFromDOM"),RequestAnimationFrame:require("./RequestAnimationFrame")};
},{"./AddToDOM":"cgN6","./DOMContentLoaded":"HjkB","./ParseXML":"hzPF","./RemoveFromDOM":"YPJh","./RequestAnimationFrame":"ZRVG"}],"+sBu":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("eventemitter3"),i=require("../plugins/PluginCache"),n=new e({Extends:t,initialize:function(){t.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});i.register("EventEmitter",n,"events"),module.exports=n;
},{"../utils/Class":"f5Xp","eventemitter3":"LqgX","../plugins/PluginCache":"sYlk"}],"ruG7":[function(require,module,exports) {
module.exports={EventEmitter:require("./EventEmitter")};
},{"./EventEmitter":"+sBu"}],"PehW":[function(require,module,exports) {
var e={Global:["anims","cache","plugins","registry","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["CameraManager3D","Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};module.exports=e;
},{}],"wgDX":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("../const"),i=require("../utils/object/GetFastValue"),s=require("../utils/object/GetValue"),a=require("../utils/object/IsPlainObject"),r=require("../math/const"),n=require("../utils/NOOP"),l=require("../plugins/DefaultPlugins"),o=require("../display/color/ValueToColor"),u=new e({initialize:function(e){void 0===e&&(e={});this.width=s(e,"width",1024),this.height=s(e,"height",768),this.zoom=s(e,"zoom",1),this.resolution=s(e,"resolution",1),this.renderType=s(e,"type",t.AUTO),this.parent=s(e,"parent",null),this.canvas=s(e,"canvas",null),this.context=s(e,"context",null),this.canvasStyle=s(e,"canvasStyle",null),this.sceneConfig=s(e,"scene",null),this.seed=s(e,"seed",[(Date.now()*Math.random()).toString()]),r.RND.init(this.seed),this.gameTitle=s(e,"title",""),this.gameURL=s(e,"url","https://phaser.io"),this.gameVersion=s(e,"version",""),this.autoFocus=s(e,"autoFocus",!0),this.inputKeyboard=s(e,"input.keyboard",!0),this.inputKeyboardEventTarget=s(e,"input.keyboard.target",window),this.inputMouse=s(e,"input.mouse",!0),this.inputMouseEventTarget=s(e,"input.mouse.target",null),this.inputMouseCapture=s(e,"input.mouse.capture",!0),this.inputTouch=s(e,"input.touch",!0),this.inputTouchEventTarget=s(e,"input.touch.target",null),this.inputTouchCapture=s(e,"input.touch.capture",!0),this.inputActivePointers=s(e,"input.activePointers",1),this.inputGamepad=s(e,"input.gamepad",!1),this.inputGamepadEventTarget=s(e,"input.gamepad.target",window),this.disableContextMenu=s(e,"disableContextMenu",!1),this.audio=s(e,"audio"),this.hideBanner=!1===s(e,"banner",null),this.hidePhaser=s(e,"banner.hidePhaser",!1),this.bannerTextColor=s(e,"banner.text","#ffffff"),this.bannerBackgroundColor=s(e,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(e,"fps",null);var u=s(e,"render",e);this.autoResize=s(u,"autoResize",!1),this.antialias=s(u,"antialias",!0),this.roundPixels=s(u,"roundPixels",!1),this.pixelArt=s(u,"pixelArt",!1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=s(u,"transparent",!1),this.clearBeforeRender=s(u,"clearBeforeRender",!0),this.premultipliedAlpha=s(u,"premultipliedAlpha",!0),this.preserveDrawingBuffer=s(u,"preserveDrawingBuffer",!1),this.failIfMajorPerformanceCaveat=s(u,"failIfMajorPerformanceCaveat",!1),this.powerPreference=s(u,"powerPreference","default"),this.batchSize=s(u,"batchSize",2e3);var h=s(e,"backgroundColor",0);this.backgroundColor=o(h),0===h&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=s(e,"callbacks.preBoot",n),this.postBoot=s(e,"callbacks.postBoot",n),this.physics=s(e,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(e,"loader.baseURL",""),this.loaderPath=s(e,"loader.path",""),this.loaderMaxParallelDownloads=s(e,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=s(e,"loader.crossOrigin",void 0),this.loaderResponseType=s(e,"loader.responseType",""),this.loaderAsync=s(e,"loader.async",!0),this.loaderUser=s(e,"loader.user",""),this.loaderPassword=s(e,"loader.password",""),this.loaderTimeout=s(e,"loader.timeout",0),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=s(e,"plugins",null),d=l.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:a(A)&&(this.installGlobalPlugins=i(A,"global",[]),this.installScenePlugins=i(A,"scene",[]),Array.isArray(A.default)?d=A.default:Array.isArray(A.defaultMerge)&&(d=d.concat(A.defaultMerge)))),this.defaultPlugins=d;var p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(e,"images.default",p+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(e,"images.missing",p+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==")}});module.exports=u;
},{"../utils/Class":"f5Xp","../const":"rdvC","../utils/object/GetFastValue":"SgIk","../utils/object/GetValue":"8Li0","../utils/object/IsPlainObject":"ac6z","../math/const":"fj5M","../utils/NOOP":"u3ni","../plugins/DefaultPlugins":"PehW","../display/color/ValueToColor":"pLm8"}],"ynD1":[function(require,module,exports) {
var e=require("./OS"),r={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function i(){var i=navigator.userAgent;return/Edge\/\d+/.test(i)?r.edge=!0:/Chrome\/(\d+)/.test(i)&&!e.windowsPhone?(r.chrome=!0,r.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(i)?(r.firefox=!0,r.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(i)&&e.iOS?r.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(i)?(r.ie=!0,r.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(i)?r.opera=!0:/Safari/.test(i)&&!e.windowsPhone?r.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(r.ie=!0,r.trident=!0,r.tridentVersion=parseInt(RegExp.$1,10),r.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(r.silk=!0),r}module.exports=i();
},{"./OS":"3ABI"}],"oOAg":[function(require,module,exports) {
var e=require("./OS"),t=require("./Browser"),i=require("../display/canvas/CanvasPool"),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var e=new ArrayBuffer(4),t=new Uint8Array(e),i=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}function a(){r.canvas=!!window.CanvasRenderingContext2D||e.cocoonJS;try{r.localStorage=!!localStorage.getItem}catch(e){r.localStorage=!1}r.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),r.fileSystem=!!window.requestFileSystem;var a=!1;return r.webGL=function(){if(window.WebGLRenderingContext)try{var t=i.createWebGL(this);e.cocoonJS&&(t.screencanvas=!1);var r=t.getContext("webgl")||t.getContext("experimental-webgl"),n=i.create2D(this),o=n.getContext("2d").createImageData(1,1);return a=o.data instanceof Uint8ClampedArray,i.remove(t),i.remove(n),!!r}catch(e){return!1}return!1}(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,t.firefox&&t.firefoxVersion<21&&(r.getUserMedia=!1),!e.iOS&&(t.ie||t.firefox||t.chrome)&&(r.canvasBitBltShift=!0),(t.safari||t.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(r.littleEndian=n()),r.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==r.littleEndian&&a,r}module.exports=a();
},{"./OS":"3ABI","./Browser":"ynD1","../display/canvas/CanvasPool":"RqeD"}],"zQvO":[function(require,module,exports) {
var t=!1,e=function(e,a,r){var i=this.currentContext,n=r.canvasData;t&&(e|=0,a|=0),i.drawImage(r.source.image,n.x,n.y,n.width,n.height,e,a,n.width,n.height)};module.exports=function(a){return t=a,e};
},{}],"sVnE":[function(require,module,exports) {
var a=function(a,e,o){void 0===e&&(e="image/png"),void 0===o&&(o=.92);var r=a.toDataURL(e,o),n=new Image;return n.src=r,n};module.exports=a;
},{}],"b6uU":[function(require,module,exports) {
var l=require("../../../gameobjects/components/TransformMatrix"),r=new l,a=new l,e=function(l,e,i){var o=this.currentContext,t=e.alpha*l.alpha;if(0!==t){o.globalAlpha=t,this.currentBlendMode!==l.blendMode&&(this.currentBlendMode=l.blendMode,o.globalCompositeOperation=this.blendModes[l.blendMode]);var s=r,c=a;c.applyITRS(l.x-e.scrollX*l.scrollFactorX,l.y-e.scrollY*l.scrollFactorY,l.rotation,l.scaleX,l.scaleY);var p,n=l.frame,d=n.canvasData,f=d.x,y=d.y,h=n.width,m=n.height,u=-l.displayOriginX+n.x,X=-l.displayOriginY+n.y,Y=l.flipX?-1:1,b=l.flipY?-1:1;if(l.isCropped){var g=l._crop;g.flipX===l.flipX&&g.flipY===l.flipY||n.updateCropUVs(g,l.flipX,l.flipY),h=g.cw,m=g.ch,f=g.cx,y=g.cy,u=-l.displayOriginX+g.x,X=-l.displayOriginY+g.y,-1===Y&&(u>=0?u=-(u+h):u<0&&(u=Math.abs(u)-h)),-1===b&&(X>=0?X=-(X+m):X<0&&(X=Math.abs(X)-m))}s.copyFrom(e.matrix),i?(s.multiplyWithOffset(i,-e.scrollX*l.scrollFactorX,-e.scrollY*l.scrollFactorY),c.e=l.x,c.f=l.y,p=s.multiply(c)):p=c.multiply(s),o.save(),o.transform(p.a,p.b,p.c,p.d,p.e,p.f),o.scale(Y,b),o.drawImage(n.source.image,f,y,h,m,u,X,h,m),o.restore()}};module.exports=e;
},{"../../../gameobjects/components/TransformMatrix":"PEti"}],"p7qX":[function(require,module,exports) {
var a=require("../display/canvas/CanvasPool"),e={supportInverseAlpha:!1,supportNewBlendModes:!1};function t(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",A=new Image;return A.onload=function(){var n=new Image;n.onload=function(){var t=a.create(n,6,1).getContext("2d");if(t.globalCompositeOperation="multiply",t.drawImage(A,0,0),t.drawImage(n,2,0),!t.getImageData(2,0,1,1))return!1;var r=t.getImageData(2,0,1,1).data;a.remove(n),e.supportNewBlendModes=255===r[0]&&0===r[1]&&0===r[2]},n.src=t+"/wCKxvRF"+r},A.src=t+"AP804Oa6"+r,!1}function r(){var e=a.create(this,2,1).getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var r=e.getImageData(1,0,1,1);return r.data[0]===t.data[0]&&r.data[1]===t.data[1]&&r.data[2]===t.data[2]&&r.data[3]===t.data[3]}function A(){return void 0!==document&&(e.supportNewBlendModes=t(),e.supportInverseAlpha=r()),e}module.exports=A();
},{"../display/canvas/CanvasPool":"RqeD"}],"yFc1":[function(require,module,exports) {
var e=require("../../BlendModes"),r=require("../../../device/CanvasFeatures"),o=function(){var o=[],u=r.supportNewBlendModes;return o[e.NORMAL]="source-over",o[e.ADD]="lighter",o[e.MULTIPLY]=u?"multiply":"source-over",o[e.SCREEN]=u?"screen":"source-over",o[e.OVERLAY]=u?"overlay":"source-over",o[e.DARKEN]=u?"darken":"source-over",o[e.LIGHTEN]=u?"lighten":"source-over",o[e.COLOR_DODGE]=u?"color-dodge":"source-over",o[e.COLOR_BURN]=u?"color-burn":"source-over",o[e.HARD_LIGHT]=u?"hard-light":"source-over",o[e.SOFT_LIGHT]=u?"soft-light":"source-over",o[e.DIFFERENCE]=u?"difference":"source-over",o[e.EXCLUSION]=u?"exclusion":"source-over",o[e.HUE]=u?"hue":"source-over",o[e.SATURATION]=u?"saturation":"source-over",o[e.COLOR]=u?"color":"source-over",o[e.LUMINOSITY]=u?"luminosity":"source-over",o};module.exports=o;
},{"../../BlendModes":"GTnZ","../../../device/CanvasFeatures":"p7qX"}],"myvs":[function(require,module,exports) {
var t=require("./utils/BlitImage"),e=require("../snapshot/CanvasSnapshot"),i=require("../../utils/Class"),s=require("../../const"),n=require("./utils/DrawImage"),a=require("./utils/GetBlendModes"),o=require("../ScaleModes"),h=require("../../display/canvas/Smoothing"),r=new i({initialize:function(e){this.game=e,this.type=s.CANVAS,this.drawCount=0,this.width=e.config.width,this.height=e.config.height,this.config={clearBeforeRender:e.config.clearBeforeRender,backgroundColor:e.config.backgroundColor,resolution:e.config.resolution,autoResize:e.config.autoResize,antialias:e.config.antialias,roundPixels:e.config.roundPixels},this.scaleMode=e.config.antialias?o.LINEAR:o.NEAREST,this.gameCanvas=e.canvas,this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d"),this.currentContext=this.gameContext,this.drawImage=n,this.blitImage=t(this.config.roundPixels),this.blendModes=a(),this.currentAlpha=1,this.currentBlendMode=0,this.currentScaleMode=0,this.snapshotCallback=null,this.snapshotType=null,this.snapshotEncoder=null,this.init()},init:function(){this.resize(this.width,this.height)},resize:function(t,e){var i=this.config.resolution;this.width=t*i,this.height=e*i,this.gameCanvas.width=this.width,this.gameCanvas.height=this.height,this.config.autoResize&&(this.gameCanvas.style.width=this.width/i+"px",this.gameCanvas.style.height=this.height/i+"px"),this.scaleMode===o.NEAREST&&h.disable(this.gameContext)},onContextLost:function(){},onContextRestored:function(){},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentBlendMode!==t&&(this.currentContext.globalCompositeOperation=t,this.currentBlendMode=t),this.currentBlendMode},setAlpha:function(t){return this.currentAlpha!==t&&(this.currentContext.globalAlpha=t,this.currentAlpha=t),this.currentAlpha},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,s=this.height;e.clearBeforeRender&&t.clearRect(0,0,i,s),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,s)),this.drawCount=0},render:function(t,e,i,s){var n=t.sys.context,a=0!==s.x||0!==s.y||s.width!==n.canvas.width||s.height!==n.canvas.height,o=e.list,h=this.config.resolution;this.currentContext=n,s.transparent||(n.fillStyle=s.backgroundColor.rgba,n.fillRect(s.x,s.y,s.width,s.height)),n.globalAlpha=s.alpha,this.currentAlpha=s.alpha,0!==this.currentBlendMode&&(n.globalCompositeOperation="source-over",this.currentBlendMode=0),this.currentScaleMode=0,this.drawCount+=o.length,a&&(n.save(),n.beginPath(),n.rect(s.x*h,s.y*h,s.width*h,s.height*h),n.clip());var r=s.matrix.matrix;n.setTransform(r[0],r[1],r[2],r[3],r[4],r[5]);for(var l=0;l<o.length;l++){var c=o[l];c.mask&&c.mask.preRenderCanvas(this,c,s),c.renderCanvas(this,c,i,s),c.mask&&c.mask.postRenderCanvas(this,c,s)}n.setTransform(1,0,0,1,0,0),n.globalCompositeOperation="source-over",n.globalAlpha=1,s.flashEffect.postRenderCanvas(n),s.fadeEffect.postRenderCanvas(n),s.dirty=!1,a&&n.restore()},postRender:function(){var t=this.gameContext;t.globalAlpha=1,t.globalCompositeOperation="source-over",this.currentAlpha=1,this.currentBlendMode=0,this.snapshotCallback&&(this.snapshotCallback(e(this.gameCanvas,this.snapshotType,this.snapshotEncoder)),this.snapshotCallback=null)},snapshot:function(t,e,i){this.snapshotCallback=t,this.snapshotType=e,this.snapshotEncoder=i},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});module.exports=r;
},{"./utils/BlitImage":"zQvO","../snapshot/CanvasSnapshot":"sVnE","../../utils/Class":"f5Xp","../../const":"rdvC","./utils/DrawImage":"b6uU","./utils/GetBlendModes":"yFc1","../ScaleModes":"KOhd","../../display/canvas/Smoothing":"n71Q"}],"yiju":[function(require,module,exports) {
var r=function(r,e){return r>0&&0==(r&r-1)&&e>0&&0==(e&e-1)};module.exports=r;
},{}],"sV1O":[function(require,module,exports) {
var e=function(e,n){if(!(n>=e.length)){for(var r=e.length-1,t=e[n],l=n;l<r;l++)e[l]=e[l+1];return e.length=r,t}};module.exports=e;
},{}],"WOZp":[function(require,module,exports) {
module.exports={getTintFromFloats:function(t,n,e,o){return((255&(255*o|0))<<24|(255&(255*t|0))<<16|(255&(255*n|0))<<8|255&(255*e|0))>>>0},getTintAppendFloatAlpha:function(t,n){return((255&(255*n|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,n){return((255&(255*n|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},getComponentCount:function(t,n){for(var e=0,o=0;o<t.length;++o){var r=t[o];r.type===n.FLOAT?e+=r.size:e+=1}return e}};
},{}],"nULY":[function(require,module,exports) {
var e=function(e,t,a){t||(t="image/png"),a||(a=.92);var r=e.getContext("experimental-webgl"),i=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,i);var g,d=document.createElement("canvas"),h=d.getContext("2d");d.width=r.drawingBufferWidth,d.height=r.drawingBufferHeight;for(var n=(g=h.getImageData(0,0,d.width,d.height)).data,f=0;f<d.height;f+=1)for(var w=0;w<d.width;w+=1){var u=4*((d.height-f)*d.width+w),o=4*(f*d.width+w);n[o+0]=i[u+0],n[o+1]=i[u+1],n[o+2]=i[u+2],n[o+3]=i[u+3]}h.putImageData(g,0,0);var m=d.toDataURL(t,a),v=new Image;return v.src=m,v};module.exports=e;
},{}],"+JgJ":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n");
},{}],"+pT4":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n");
},{}],"4SzL":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("./Utils"),r=new t({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=t.game.config.resolution,this.width=t.game.config.width*this.resolution,this.height=t.game.config.height*this.resolution,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=e.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,e,r,i,s){return this.attributes.push({name:t,size:e,type:this.renderer.glFormats[r],normalized:i,offset:s}),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,r){return this.width=t*r,this.height=e*r,this},bind:function(){var t=this.gl,e=this.vertexBuffer,r=this.attributes,i=this.program,s=this.renderer,n=this.vertexSize;s.setProgram(i),s.setVertexBuffer(e);for(var h=0;h<r.length;++h){var o=r[h],a=t.getAttribLocation(i,o.name);a>=0?(t.enableVertexAttribArray(a),t.vertexAttribPointer(a,o.size,o.type,o.normalized,n,o.offset)):t.disableVertexAttribArray(a)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,r=this.topology,i=this.vertexSize;if(0!==e)return t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*i)),t.drawArrays(r,0,e),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,r){return this.renderer.setFloat2(this.program,t,e,r),this},setFloat3:function(t,e,r,i){return this.renderer.setFloat3(this.program,t,e,r,i),this},setFloat4:function(t,e,r,i,s){return this.renderer.setFloat4(this.program,t,e,r,i,s),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,r){return this.renderer.setInt2(this.program,t,e,r),this},setInt3:function(t,e,r,i){return this.renderer.setInt3(this.program,t,e,r,i),this},setInt4:function(t,e,r,i,s){return this.renderer.setInt4(this.program,t,e,r,i,s),this},setMatrix2:function(t,e,r){return this.renderer.setMatrix2(this.program,t,e,r),this},setMatrix3:function(t,e,r){return this.renderer.setMatrix3(this.program,t,e,r),this},setMatrix4:function(t,e,r){return this.renderer.setMatrix4(this.program,t,e,r),this}});module.exports=r;
},{"../../utils/Class":"f5Xp","./Utils":"WOZp"}],"W8II":[function(require,module,exports) {
var e=require("../../../utils/Class"),r=require("../shaders/BitmapMask-frag.js"),t=require("../shaders/BitmapMask-vert.js"),i=require("../WebGLPipeline"),a=new e({Extends:i,initialize:function(e){i.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:t,fragShader:e.fragShader?e.fragShader:r,vertexCapacity:e.vertexCapacity?e.vertexCapacity:3,vertexSize:e.vertexSize?e.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){i.prototype.onBind.call(this);var e=this.renderer,r=this.program;return this.resolutionDirty&&(e.setFloat2(r,"uResolution",this.width,this.height),e.setInt1(r,"uMainSampler",0),e.setInt1(r,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(e,r,t){return i.prototype.resize.call(this,e,r,t),this.resolutionDirty=!0,this},beginMask:function(e,r,t){var i=e.bitmapMask,a=this.renderer,s=this.gl,n=i.visible;i&&s&&(a.setFramebuffer(e.maskFramebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),i.visible=!0,i.renderWebGL(a,i,0,t),i.visible=n,a.flush(),a.setFramebuffer(e.mainFramebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT))},endMask:function(e){var r=e.bitmapMask,t=this.renderer,i=this.gl;r&&(t.setFramebuffer(null),t.setPipeline(this),t.setTexture2D(e.maskTexture,1),t.setTexture2D(e.mainTexture,0),t.setInt1(this.program,"uInvertMaskAlpha",e.invertAlpha),i.drawArrays(this.topology,0,3))}});module.exports=a;
},{"../../../utils/Class":"f5Xp","../shaders/BitmapMask-frag.js":"+JgJ","../shaders/BitmapMask-vert.js":"+pT4","../WebGLPipeline":"4SzL"}],"+Mpf":[function(require,module,exports) {
module.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18};
},{}],"5IE5":[function(require,module,exports) {
"use strict";function n(n,t,x){x=x||2;var i,u,v,o,y,l,p,a=t&&t.length,h=a?t[0]*x:n.length,s=e(n,0,h,x,!0),c=[];if(!s)return c;if(a&&(s=f(n,t,s,x)),n.length>80*x){i=v=n[0],u=o=n[1];for(var Z=x;Z<h;Z+=x)(y=n[Z])<i&&(i=y),(l=n[Z+1])<u&&(u=l),y>v&&(v=y),l>o&&(o=l);p=Math.max(v-i,o-u)}return r(s,c,x,i,u,p),c}function e(n,e,t,r,x){var i,u;if(x===A(n,e,t,r)>0)for(i=e;i<t;i+=r)u=k(i,n[i],n[i+1],u);else for(i=t-r;i>=e;i-=r)u=k(i,n[i],n[i+1],u);return u&&d(u,u.next)&&(j(u),u=u.next),u}function t(n,e){if(!n)return n;e||(e=n);var t,r=n;do{if(t=!1,r.steiner||!d(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(j(r),(r=e=r.prev)===r.next)return null;t=!0}}while(t||r!==e);return e}function r(n,e,f,o,y,l,a){if(n){!a&&l&&p(n,o,y,l);for(var h,s,c=n;n.prev!==n.next;)if(h=n.prev,s=n.next,l?i(n,o,y,l):x(n))e.push(h.i/f),e.push(n.i/f),e.push(s.i/f),j(n),n=s.next,c=s.next;else if((n=s)===c){a?1===a?r(n=u(n,e,f),e,f,o,y,l,2):2===a&&v(n,e,f,o,y,l):r(t(n),e,f,o,y,l,1);break}}}function x(n){var e=n.prev,t=n,r=n.next;if(g(e,t,r)>=0)return!1;for(var x=n.next.next;x!==n.prev;){if(c(e.x,e.y,t.x,t.y,r.x,r.y,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(n,e,t,r){var x=n.prev,i=n,u=n.next;if(g(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,o=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,y=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,l=h(v,f,e,t,r),p=h(o,y,e,t,r),a=n.nextZ;a&&a.z<=p;){if(a!==n.prev&&a!==n.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&g(a.prev,a,a.next)>=0)return!1;a=a.nextZ}for(a=n.prevZ;a&&a.z>=l;){if(a!==n.prev&&a!==n.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&g(a.prev,a,a.next)>=0)return!1;a=a.prevZ}return!0}function u(n,e,t){var r=n;do{var x=r.prev,i=r.next.next;!d(x,i)&&w(x,r,r.next,i)&&b(x,i)&&b(i,x)&&(e.push(x.i/t),e.push(r.i/t),e.push(i.i/t),j(r),j(r.next),r=n=i),r=r.next}while(r!==n);return r}function v(n,e,x,i,u,v){var f=n;do{for(var o=f.next.next;o!==f.prev;){if(f.i!==o.i&&Z(f,o)){var y=m(f,o);return f=t(f,f.next),y=t(y,y.next),r(f,e,x,i,u,v),void r(y,e,x,i,u,v)}o=o.next}f=f.next}while(f!==n)}function f(n,r,x,i){var u,v,f,l=[];for(u=0,v=r.length;u<v;u++)(f=e(n,r[u]*i,u<v-1?r[u+1]*i:n.length,i,!1))===f.next&&(f.steiner=!0),l.push(s(f));for(l.sort(o),u=0;u<l.length;u++)y(l[u],x),x=t(x,x.next);return x}function o(n,e){return n.x-e.x}function y(n,e){if(e=l(n,e)){var r=m(e,n);t(r,r.next)}}function l(n,e){var t,r=e,x=n.x,i=n.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!t)return null;if(x===u)return t.prev;var f,o=t,y=t.x,l=t.y,p=1/0;for(r=t.next;r!==o;)x>=r.x&&r.x>=y&&x!==r.x&&c(i<l?x:u,i,y,l,i<l?u:x,i,r.x,r.y)&&((f=Math.abs(i-r.y)/(x-r.x))<p||f===p&&r.x>t.x)&&b(r,n)&&(t=r,p=f),r=r.next;return t}function p(n,e,t,r){var x=n;do{null===x.z&&(x.z=h(x.x,x.y,e,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==n);x.prevZ.nextZ=null,x.prevZ=null,a(x)}function a(n){var e,t,r,x,i,u,v,f,o=1;do{for(t=n,n=null,i=null,u=0;t;){for(u++,r=t,v=0,e=0;e<o&&(v++,r=r.nextZ);e++);for(f=o;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:n=x,x.prevZ=i,i=x;t=r}i.nextZ=null,o*=2}while(u>1);return n}function h(n,e,t,r,x){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-t)/x)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/x)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function s(n){var e=n,t=n;do{e.x<t.x&&(t=e),e=e.next}while(e!==n);return t}function c(n,e,t,r,x,i,u,v){return(x-u)*(e-v)-(n-u)*(i-v)>=0&&(n-u)*(r-v)-(t-u)*(e-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function Z(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!z(n,e)&&b(n,e)&&b(e,n)&&M(n,e)}function g(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function d(n,e){return n.x===e.x&&n.y===e.y}function w(n,e,t,r){return!!(d(n,e)&&d(t,r)||d(n,r)&&d(t,e))||g(n,e,t)>0!=g(n,e,r)>0&&g(t,r,n)>0!=g(t,r,e)>0}function z(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&w(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function b(n,e){return g(n.prev,n,n.next)<0?g(n,e,n.next)>=0&&g(n,n.prev,e)>=0:g(n,e,n.prev)<0||g(n,n.next,e)<0}function M(n,e){var t=n,r=!1,x=(n.x+e.x)/2,i=(n.y+e.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==n);return r}function m(n,e){var t=new q(n.i,n.x,n.y),r=new q(e.i,e.x,e.y),x=n.next,i=e.prev;return n.next=e,e.prev=n,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function k(n,e,t,r){var x=new q(n,e,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function j(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function q(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(n,e,t,r){for(var x=0,i=e,u=t-r;i<t;i+=r)x+=(n[u]-n[i])*(n[i+1]+n[u+1]),u=i;return x}module.exports=n,n.deviation=function(n,e,t,r){var x=e&&e.length,i=x?e[0]*t:n.length,u=Math.abs(A(n,0,i,t));if(x)for(var v=0,f=e.length;v<f;v++){var o=e[v]*t,y=v<f-1?e[v+1]*t:n.length;u-=Math.abs(A(n,o,y,t))}var l=0;for(v=0;v<r.length;v+=3){var p=r[v]*t,a=r[v+1]*t,h=r[v+2]*t;l+=Math.abs((n[p]-n[h])*(n[a+1]-n[p+1])-(n[p]-n[a])*(n[h+1]-n[p+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},n.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,x=0;x<n.length;x++){for(var i=0;i<n[x].length;i++)for(var u=0;u<e;u++)t.vertices.push(n[x][i][u]);x>0&&(r+=n[x-1].length,t.holes.push(r))}return t};
},{}],"wO0s":[function(require,module,exports) {
var t={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,i,r){var e=this.modelMatrix;return e[0]=e[0]*t,e[1]=e[1]*t,e[2]=e[2]*t,e[3]=e[3]*t,e[4]=e[4]*i,e[5]=e[5]*i,e[6]=e[6]*i,e[7]=e[7]*i,e[8]=e[8]*r,e[9]=e[9]*r,e[10]=e[10]*r,e[11]=e[11]*r,this.modelMatrixDirty=!0,this},modelTranslate:function(t,i,r){var e=this.modelMatrix;return e[12]=e[0]*t+e[4]*i+e[8]*r+e[12],e[13]=e[1]*t+e[5]*i+e[9]*r+e[13],e[14]=e[2]*t+e[6]*i+e[10]*r+e[14],e[15]=e[3]*t+e[7]*i+e[11]*r+e[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[4],o=i[5],n=i[6],s=i[7],h=i[8],M=i[9],x=i[10],v=i[11];return i[4]=a*e+h*r,i[5]=o*e+M*r,i[6]=n*e+x*r,i[7]=s*e+v*r,i[8]=h*e-a*r,i[9]=M*e-o*r,i[10]=x*e-n*r,i[11]=v*e-s*r,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[8],M=i[9],x=i[10],v=i[11];return i[0]=a*e-h*r,i[1]=o*e-M*r,i[2]=n*e-x*r,i[3]=s*e-v*r,i[8]=a*r+h*e,i[9]=o*r+M*e,i[10]=n*r+x*e,i[11]=s*r+v*e,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[4],M=i[5],x=i[6],v=i[7];return i[0]=a*e+h*r,i[1]=o*e+M*r,i[2]=n*e+x*r,i[3]=s*e+v*r,i[4]=h*e-a*r,i[5]=M*e-o*r,i[6]=x*e-n*r,i[7]=v*e-s*r,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,i,r){var e=this.viewMatrix;return e[0]=e[0]*t,e[1]=e[1]*t,e[2]=e[2]*t,e[3]=e[3]*t,e[4]=e[4]*i,e[5]=e[5]*i,e[6]=e[6]*i,e[7]=e[7]*i,e[8]=e[8]*r,e[9]=e[9]*r,e[10]=e[10]*r,e[11]=e[11]*r,this.viewMatrixDirty=!0,this},viewTranslate:function(t,i,r){var e=this.viewMatrix;return e[12]=e[0]*t+e[4]*i+e[8]*r+e[12],e[13]=e[1]*t+e[5]*i+e[9]*r+e[13],e[14]=e[2]*t+e[6]*i+e[10]*r+e[14],e[15]=e[3]*t+e[7]*i+e[11]*r+e[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[4],o=i[5],n=i[6],s=i[7],h=i[8],M=i[9],x=i[10],v=i[11];return i[4]=a*e+h*r,i[5]=o*e+M*r,i[6]=n*e+x*r,i[7]=s*e+v*r,i[8]=h*e-a*r,i[9]=M*e-o*r,i[10]=x*e-n*r,i[11]=v*e-s*r,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[8],M=i[9],x=i[10],v=i[11];return i[0]=a*e-h*r,i[1]=o*e-M*r,i[2]=n*e-x*r,i[3]=s*e-v*r,i[8]=a*r+h*e,i[9]=o*r+M*e,i[10]=n*r+x*e,i[11]=s*r+v*e,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[4],M=i[5],x=i[6],v=i[7];return i[0]=a*e+h*r,i[1]=o*e+M*r,i[2]=n*e+x*r,i[3]=s*e+v*r,i[4]=h*e-a*r,i[5]=M*e-o*r,i[6]=x*e-n*r,i[7]=v*e-s*r,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var i=this.viewMatrix;return i[0]=t[0],i[1]=t[1],i[2]=0,i[3]=0,i[4]=t[2],i[5]=t[3],i[6]=0,i[7]=0,i[8]=t[4],i[9]=t[5],i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var i=this.viewMatrix;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,i,r,e,a,o){var n=this.projectionMatrix,s=1/(t-i),h=1/(r-e),M=1/(a-o);return n[0]=-2*s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*M,n[11]=0,n[12]=(t+i)*s,n[13]=(e+r)*h,n[14]=(o+a)*M,n[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,i,r,e){var a=this.projectionMatrix,o=1/Math.tan(t/2),n=1/(r-e);return a[0]=o/i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+r)*n,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*r*n,a[15]=0,this.projectionMatrixDirty=!0,this}};module.exports=t;
},{}],"YdaP":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_FLAT_TINT_FS","","precision mediump float;","","varying vec4 outTint;","","void main() {","    gl_FragColor = vec4(outTint.rgb * outTint.a, outTint.a);","}",""].join("\n");
},{}],"5ch4":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_FLAT_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec4 inTint;","","varying vec4 outTint;","","void main () {","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","    outTint = inTint;","}",""].join("\n");
},{}],"KhMA":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../../../gameobjects/graphics/Commands"),i=require("../../../geom/polygon/Earcut"),r=require("./components/ModelViewProjection"),a=require("../shaders/FlatTint-frag.js"),h=require("../shaders/FlatTint-vert.js"),n=require("../Utils"),s=require("../WebGLPipeline"),o=function(e,t,i,r,a){this.x=e,this.y=t,this.width=i,this.rgb=r,this.alpha=a},l=function(e,t,i,r,a){this.points=[],this.pointsLength=1,this.points[0]=new o(e,t,i,r,a)},p=new Float32Array([1,0,0,1,0,0]),c=new Float32Array(6e3),u=0,v=[],x=new e({Extends:s,Mixins:[r],initialize:function(e){s.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:h,fragShader:e.fragShader?e.fragShader:a,vertexCapacity:e.vertexCapcity?e.vertexCapacity:12e3,vertexSize:e.vertexSize?e.vertexSize:2*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTint",size:4,type:e.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:2*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.tempTriangle=[{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1}],this.polygonCache=[],this.mvpInit()},onBind:function(){return s.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(e,t,i){return s.prototype.resize.call(this,e,t,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},batchFillRect:function(e,t,i,r,a,h,s,o,l,p,c,u,v,x,g,d,b,w){this.renderer.setPipeline(this),this.vertexCount+6>this.vertexCapacity&&this.flush();var C=this.vertexViewF32,T=this.vertexViewU32,f=this.vertexCount*this.vertexComponentCount,E=h+o,y=s+l,A=w[0],F=w[1],S=w[2],m=w[3],L=u*A+v*S,k=u*F+v*m,P=x*A+g*S,_=x*F+g*m,R=d*A+b*S+w[4],V=d*F+b*m+w[5],I=h*L+s*P+R,N=h*k+s*_+V,O=h*L+y*P+R,U=h*k+y*_+V,z=E*L+y*P+R,M=E*k+y*_+V,q=E*L+s*P+R,B=E*k+s*_+V,Y=n.getTintAppendFloatAlphaAndSwap(p,c);C[f+0]=I,C[f+1]=N,T[f+2]=Y,C[f+3]=O,C[f+4]=U,T[f+5]=Y,C[f+6]=z,C[f+7]=M,T[f+8]=Y,C[f+9]=I,C[f+10]=N,T[f+11]=Y,C[f+12]=z,C[f+13]=M,T[f+14]=Y,C[f+15]=q,C[f+16]=B,T[f+17]=Y,this.vertexCount+=6},batchFillTriangle:function(e,t,i,r,a,h,s,o,l,p,c,u,v,x,g,d,b,w,C,T){this.renderer.setPipeline(this),this.vertexCount+3>this.vertexCapacity&&this.flush();var f=this.vertexViewF32,E=this.vertexViewU32,y=this.vertexCount*this.vertexComponentCount,A=T[0],F=T[1],S=T[2],m=T[3],L=x*A+g*S,k=x*F+g*m,P=d*A+b*S,_=d*F+b*m,R=w*A+C*S+T[4],V=w*F+C*m+T[5],I=h*L+s*P+R,N=h*k+s*_+V,O=o*L+l*P+R,U=o*k+l*_+V,z=p*L+c*P+R,M=p*k+c*_+V,q=n.getTintAppendFloatAlphaAndSwap(u,v);f[y+0]=I,f[y+1]=N,E[y+2]=q,f[y+3]=O,f[y+4]=U,E[y+5]=q,f[y+6]=z,f[y+7]=M,E[y+8]=q,this.vertexCount+=3},batchStrokeTriangle:function(e,t,i,r,a,h,n,s,o,l,p,c,u,v,x,g,d,b,w,C,T){var f=this.tempTriangle;f[0].x=h,f[0].y=n,f[0].width=c,f[0].rgb=u,f[0].alpha=v,f[1].x=s,f[1].y=o,f[1].width=c,f[1].rgb=u,f[1].alpha=v,f[2].x=l,f[2].y=p,f[2].width=c,f[2].rgb=u,f[2].alpha=v,f[3].x=h,f[3].y=n,f[3].width=c,f[3].rgb=u,f[3].alpha=v,this.batchStrokePath(e,t,i,r,a,f,c,u,v,x,g,d,b,w,C,!1,T)},batchFillPath:function(e,t,r,a,h,s,o,l,p,c,u,v,x,g,d){this.renderer.setPipeline(this);for(var b,w,C,T,f,E,y,A,F,S,m,L,k,P,_,R,V,I=s.length,N=this.polygonCache,O=this.vertexViewF32,U=this.vertexViewU32,z=0,M=d[0],q=d[1],B=d[2],Y=d[3],G=p*M+c*B,j=p*q+c*Y,X=u*M+v*B,D=u*q+v*Y,H=x*M+g*B+d[4],K=x*q+g*Y+d[5],W=n.getTintAppendFloatAlphaAndSwap(o,l),J=0;J<I;++J)w=s[J],N.push(w.x,w.y);I=(b=i(N)).length;for(var Q=0;Q<I;Q+=3)C=2*b[Q+0],T=2*b[Q+1],f=2*b[Q+2],this.vertexCount+3>this.vertexCapacity&&this.flush(),z=this.vertexCount*this.vertexComponentCount,L=(E=N[C+0])*G+(y=N[C+1])*X+H,k=E*j+y*D+K,P=(A=N[T+0])*G+(F=N[T+1])*X+H,_=A*j+F*D+K,R=(S=N[f+0])*G+(m=N[f+1])*X+H,V=S*j+m*D+K,O[z+0]=L,O[z+1]=k,U[z+2]=W,O[z+3]=P,O[z+4]=_,U[z+5]=W,O[z+6]=R,O[z+7]=V,U[z+8]=W,this.vertexCount+=3;N.length=0},batchStrokePath:function(e,t,i,r,a,h,s,o,l,p,c,u,v,x,g,d,b){var w,C;this.renderer.setPipeline(this);for(var T,f,E,y,A=h.length,F=this.polygonCache,S=this.vertexViewF32,m=this.vertexViewU32,L=n.getTintAppendFloatAlphaAndSwap,k=0;k+1<A;k+=1)w=h[k],C=h[k+1],y=this.batchLine(e,t,i,r,a,w.x,w.y,C.x,C.y,w.width/2,C.width/2,w.rgb,C.rgb,l,p,c,u,v,x,g,b),F.push(y);for(var P=1,_=F.length;P<_;++P)this.vertexCount+6>this.vertexCapacity&&this.flush(),T=F[P-1]||F[_-1],f=F[P],S[(E=this.vertexCount*this.vertexComponentCount)+0]=T[6],S[E+1]=T[7],m[E+2]=L(T[8],l),S[E+3]=T[0],S[E+4]=T[1],m[E+5]=L(T[2],l),S[E+6]=f[9],S[E+7]=f[10],m[E+8]=L(f[11],l),S[E+9]=T[0],S[E+10]=T[1],m[E+11]=L(T[2],l),S[E+12]=T[6],S[E+13]=T[7],m[E+14]=L(T[8],l),S[E+15]=f[3],S[E+16]=f[4],m[E+17]=L(f[5],l),this.vertexCount+=6;F.length=0},batchLine:function(e,t,i,r,a,h,s,o,l,p,c,u,v,x,g,d,b,w,C,T,f){this.renderer.setPipeline(this),this.vertexCount+6>this.vertexCapacity&&this.flush();var E=f[0],y=f[1],A=f[2],F=f[3],S=g*E+d*A,m=g*y+d*F,L=b*E+w*A,k=b*y+w*F,P=C*E+T*A+f[4],_=C*y+T*F+f[5],R=this.vertexViewF32,V=this.vertexViewU32,I=o-h,N=l-s,O=Math.sqrt(I*I+N*N),U=p*(l-s)/O,z=p*(h-o)/O,M=c*(l-s)/O,q=c*(h-o)/O,B=o-M,Y=l-q,G=h-U,j=s-z,X=o+M,D=l+q,H=h+U,K=s+z,W=B*S+Y*L+P,J=B*m+Y*k+_,Q=G*S+j*L+P,Z=G*m+j*k+_,$=X*S+D*L+P,ee=X*m+D*k+_,te=H*S+K*L+P,ie=H*m+K*k+_,re=n.getTintAppendFloatAlphaAndSwap,ae=re(u,x),he=re(v,x),ne=this.vertexCount*this.vertexComponentCount;return R[ne+0]=W,R[ne+1]=J,V[ne+2]=he,R[ne+3]=Q,R[ne+4]=Z,V[ne+5]=ae,R[ne+6]=$,R[ne+7]=ee,V[ne+8]=he,R[ne+9]=Q,R[ne+10]=Z,V[ne+11]=ae,R[ne+12]=te,R[ne+13]=ie,V[ne+14]=ae,R[ne+15]=$,R[ne+16]=ee,V[ne+17]=he,this.vertexCount+=6,[W,J,v,Q,Z,u,$,ee,v,te,ie,u]},batchGraphics:function(e,i,r){if(!(e.commandBuffer.length<=0)){var a=null;r&&(a=r.matrix),this.renderer.setPipeline(this);var h,n,s,x,g,d,b,w,C=i.scrollX*e.scrollFactorX,T=i.scrollY*e.scrollFactorY,f=e.x,E=e.y,y=e.scaleX,A=e.scaleY,F=e.rotation,S=e.commandBuffer,m=i.alpha*e.alpha,L=1,k=1,P=0,_=0,R=1,V=i.matrix.matrix,I=null,N=0,O=0,U=0,z=0,M=0,q=0,B=0,Y=0,G=0,j=null,X=Math.sin,D=Math.cos,H=X(F),K=D(F),W=K*y,J=H*y,Q=-H*A,Z=K*A,$=f,ee=E,te=V[0],ie=V[1],re=V[2],ae=V[3],he=V[4],ne=V[5];if(a){var se=a[0],oe=a[1],le=a[2],pe=a[3],ce=a[4],ue=a[5],ve=-C,xe=-T,ge=se*te+oe*re,de=se*ie+oe*ae,be=le*te+pe*re,we=le*ie+pe*ae;h=W*ge+J*be,n=W*de+J*we,s=Q*ge+Z*be,x=Q*de+Z*we,g=$*ge+ee*be+(ce*te+ue*re+(ve*te+xe*re+he)),d=$*de+ee*we+(ce*ie+ue*ae+(ve*ie+xe*ae+ne))}else h=W*te+J*re,n=W*ie+J*ae,s=Q*te+Z*re,x=Q*ie+Z*ae,g=($-=C)*te+(ee-=T)*re+he,d=$*ie+ee*ae+ne;v.length=0;for(var Ce=0,Te=S.length;Ce<Te;++Ce)switch(ae=S[Ce]){case t.ARC:for(N=0,M=S[Ce+1],q=S[Ce+2],B=S[Ce+3],Y=S[Ce+4],G=S[Ce+5],null===I&&(I=new l(M+D(Y)*B,q+X(Y)*B,R,P,L*m),v.push(I),N+=.01);N<1;)O=M+D(z=G*N+Y)*B,U=q+X(z)*B,I.points.push(new o(O,U,R,P,L*m)),N+=.01;O=M+D(z=G+Y)*B,U=q+X(z)*B,I.points.push(new o(O,U,R,P,L*m)),Ce+=6;break;case t.LINE_STYLE:R=S[Ce+1],P=S[Ce+2],L=S[Ce+3],Ce+=3;break;case t.FILL_STYLE:_=S[Ce+1],k=S[Ce+2],Ce+=2;break;case t.BEGIN_PATH:v.length=0,I=null;break;case t.CLOSE_PATH:I&&I.points.length&&I.points.push(I.points[0]);break;case t.FILL_PATH:for(b=0,w=v.length;b<w;++b)this.batchFillPath(f,E,y,A,F,v[b].points,_,k*m,h,n,s,x,g,d,p);break;case t.STROKE_PATH:for(b=0,w=v.length;b<w;++b)j=v[b],this.batchStrokePath(f,E,y,A,F,j.points,R,P,L*m,h,n,s,x,g,d,j===this._lastPath,p);break;case t.FILL_RECT:this.batchFillRect(f,E,y,A,F,S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],_,k*m,h,n,s,x,g,d,p),Ce+=4;break;case t.FILL_TRIANGLE:this.batchFillTriangle(f,E,y,A,F,S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],S[Ce+5],S[Ce+6],_,k*m,h,n,s,x,g,d,p),Ce+=6;break;case t.STROKE_TRIANGLE:this.batchStrokeTriangle(f,E,y,A,F,S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],S[Ce+5],S[Ce+6],R,P,L*m,h,n,s,x,g,d,p),Ce+=6;break;case t.LINE_TO:null!==I?I.points.push(new o(S[Ce+1],S[Ce+2],R,P,L*m)):(I=new l(S[Ce+1],S[Ce+2],R,P,L*m),v.push(I)),Ce+=2;break;case t.MOVE_TO:I=new l(S[Ce+1],S[Ce+2],R,P,L*m),v.push(I),Ce+=2;break;case t.LINE_FX_TO:null!==I?I.points.push(new o(S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],S[Ce+5]*m)):(I=new l(S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],S[Ce+5]*m),v.push(I)),Ce+=5;break;case t.MOVE_FX_TO:I=new l(S[Ce+1],S[Ce+2],S[Ce+3],S[Ce+4],S[Ce+5]*m),v.push(I),Ce+=5;break;case t.SAVE:c[u+0]=p[0],c[u+1]=p[1],c[u+2]=p[2],c[u+3]=p[3],c[u+4]=p[4],c[u+5]=p[5],u+=6;break;case t.RESTORE:u-=6,p[0]=c[u+0],p[1]=c[u+1],p[2]=c[u+2],p[3]=c[u+3],p[4]=c[u+4],p[5]=c[u+5];break;case t.TRANSLATE:M=S[Ce+1],q=S[Ce+2],p[4]=p[0]*M+p[2]*q+p[4],p[5]=p[1]*M+p[3]*q+p[5],Ce+=2;break;case t.SCALE:M=S[Ce+1],q=S[Ce+2],p[0]*=M,p[1]*=M,p[2]*=q,p[3]*=q,Ce+=2;break;case t.ROTATE:M=X(q=S[Ce+1]),q=D(q),W=p[0],J=p[1],Q=p[2],Z=p[3],p[0]=q*W+M*Q,p[1]=q*J+M*Z,p[2]=-M*W+q*Q,p[3]=-M*J+q*Z,Ce+=1;break;default:console.error("Phaser: Invalid Graphics Command ID "+ae)}}}});module.exports=x;
},{"../../../utils/Class":"f5Xp","../../../gameobjects/graphics/Commands":"+Mpf","../../../geom/polygon/Earcut":"5IE5","./components/ModelViewProjection":"wO0s","../shaders/FlatTint-frag.js":"YdaP","../shaders/FlatTint-vert.js":"5ch4","../Utils":"WOZp","../WebGLPipeline":"4SzL"}],"Pd4+":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join("\n");
},{}],"0CZr":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texel = texture2D(uMainSampler, outTexCoord);","","    if (outTintEffect == 1.0)","    {","        texel.rgb = mix(texel.rgb, outTint.rgb, texel.a);","    }","    else","    {","        texel *= vec4(outTint.rgb * outTint.a, outTint.a);","    }","","    gl_FragColor = texel;","}",""].join("\n");
},{}],"h7jf":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join("\n");
},{}],"sHAr":[function(require,module,exports) {
var t=require("../../../utils/Class"),e=require("../../../utils/object/GetFastValue"),r=require("./components/ModelViewProjection"),i=require("../../../gameobjects/components/TransformMatrix"),s=require("../shaders/TextureTint-frag.js"),a=require("../shaders/TextureTint-vert.js"),h=require("../Utils"),l=require("../WebGLPipeline"),n=new t({Extends:l,Mixins:[r],initialize:function(t){var r=t.renderer.config;l.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:e(t,"topology",t.renderer.gl.TRIANGLES),vertShader:e(t,"vertShader",a),fragShader:e(t,"fragShader",s),vertexCapacity:e(t,"vertexCapacity",6*r.batchSize),vertexSize:e(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=r.batchSize,this.batches=[],this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this._tempMatrix4=new i,this.mvpInit()},setTexture2D:function(t,e){if(!t)return this;var r=this.batches;0===r.length&&this.pushBatch();var i=r[r.length-1];return e>0?(i.textures[e-1]&&i.textures[e-1]!==t&&this.pushBatch(),r[r.length-1].textures[e-1]=t):(null!==i.texture&&i.texture!==t&&this.pushBatch(),r[r.length-1].texture=t),this},pushBatch:function(){var t={first:this.vertexCount,texture:null,textures:[]};this.batches.push(t)},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t,e,r,i=this.gl,s=this.renderer,a=this.vertexCount,h=this.topology,l=this.vertexSize,n=this.batches,u=0,o=null;if(0===n.length||0===a)return this.flushLocked=!1,this;i.bufferSubData(i.ARRAY_BUFFER,0,this.bytes.subarray(0,a*l));for(var p=0;p<n.length-1;++p){if(o=n[p],t=n[p+1],o.textures.length>0){for(e=0;e<o.textures.length;++e)(r=o.textures[e])&&s.setTexture2D(r,1+e);i.activeTexture(i.TEXTURE0)}u=t.first-o.first,null===o.texture||u<=0||(s.setTexture2D(o.texture,0),i.drawArrays(h,o.first,u))}if((o=n[n.length-1]).textures.length>0){for(e=0;e<o.textures.length;++e)(r=o.textures[e])&&s.setTexture2D(r,1+e);i.activeTexture(i.TEXTURE0)}return u=a-o.first,o.texture&&u>0&&(s.setTexture2D(o.texture,0),i.drawArrays(h,o.first,u)),this.vertexCount=0,n.length=0,this.pushBatch(),this.flushLocked=!1,this},onBind:function(){return l.prototype.onBind.call(this),this.mvpUpdate(),0===this.batches.length&&this.pushBatch(),this},resize:function(t,e,r){return l.prototype.resize.call(this,t,e,r),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},batchSprite:function(t,e,r){this.renderer.setPipeline(this);var i=this._tempMatrix1,s=this._tempMatrix2,a=this._tempMatrix3,l=t.frame,n=l.glTexture,u=l.u0,o=l.v0,p=l.u1,c=l.v1,x=l.x,f=l.y,d=l.width,v=l.height,T=-t.displayOriginX+x,g=-t.displayOriginY+f;if(t.isCropped){var y=t._crop;y.flipX===t.flipX&&y.flipY===t.flipY||l.updateCropUVs(y,t.flipX,t.flipY),u=y.u0,o=y.v0,p=y.u1,c=y.v1,d=y.width,v=y.height,x=y.x,f=y.y,T=-t.displayOriginX+x,g=-t.displayOriginY+f}t.flipX&&(T+=d,d*=-1),t.flipY&&(g+=v,v*=-1);var m=T+d,E=g+v;s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),i.copyFrom(e.matrix),r?(i.multiplyWithOffset(r,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),s.e=t.x,s.f=t.y,i.multiply(s,a)):(s.e-=e.scrollX*t.scrollFactorX,s.f-=e.scrollY*t.scrollFactorY,i.multiply(s,a));var _=T*a.a+g*a.c+a.e,b=T*a.b+g*a.d+a.f,F=T*a.a+E*a.c+a.e,A=T*a.b+E*a.d+a.f,M=m*a.a+E*a.c+a.e,S=m*a.b+E*a.d+a.f,Y=m*a.a+g*a.c+a.e,w=m*a.b+g*a.d+a.f,B=h.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),C=h.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),L=h.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),R=h.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR);e.roundPixels&&(_|=0,b|=0,F|=0,A|=0,M|=0,S|=0,Y|=0,w|=0),this.setTexture2D(n,0);var z=t._isTinted&&t.tintFill;this.batchVertices(_,b,F,A,M,S,Y,w,u,o,p,c,B,C,L,R,z)},batchVertices:function(t,e,r,i,s,a,h,l,n,u,o,p,c,x,f,d,v){var T=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),T=!0);var g=this.vertexViewF32,y=this.vertexViewU32,m=this.vertexCount*this.vertexComponentCount-1;return g[++m]=t,g[++m]=e,g[++m]=n,g[++m]=u,g[++m]=v,y[++m]=c,g[++m]=r,g[++m]=i,g[++m]=n,g[++m]=p,g[++m]=v,y[++m]=f,g[++m]=s,g[++m]=a,g[++m]=o,g[++m]=p,g[++m]=v,y[++m]=d,g[++m]=t,g[++m]=e,g[++m]=n,g[++m]=u,g[++m]=v,y[++m]=c,g[++m]=s,g[++m]=a,g[++m]=o,g[++m]=p,g[++m]=v,y[++m]=d,g[++m]=h,g[++m]=l,g[++m]=o,g[++m]=u,g[++m]=v,y[++m]=x,this.vertexCount+=6,this.vertexCapacity-this.vertexCount<6&&(this.flush(),T=!0),T},batchTexture:function(t,e,r,i,s,a,h,l,n,u,o,p,c,x,f,d,v,T,g,y,m,E,_,b,F,A,M,S,Y,w){this.renderer.setPipeline(this,t);var B=this._tempMatrix1,C=this._tempMatrix2,L=this._tempMatrix3,R=h,z=l,P=-d,X=-v;p&&(R*=-1,P+=h),(c^=e.isRenderTexture?1:0)&&(z*=-1,X+=l),Y.roundPixels&&(P|=0,X|=0);var D=P+R,U=X+z;C.applyITRS(s,a,o,n,u),B.copyFrom(Y.matrix),w?(B.multiplyWithOffset(w,-Y.scrollX*x,-Y.scrollY*f),C.e=s,C.f=a,B.multiply(C,L)):(C.e-=Y.scrollX*x,C.f-=Y.scrollY*f,B.multiply(C,L));var V=P*L.a+X*L.c+L.e,O=P*L.b+X*L.d+L.f,q=P*L.a+U*L.c+L.e,N=P*L.b+U*L.d+L.f,j=D*L.a+U*L.c+L.e,I=D*L.b+U*L.d+L.f,k=D*L.a+X*L.c+L.e,G=D*L.b+X*L.d+L.f;Y.roundPixels&&(V|=0,O|=0,q|=0,N|=0,j|=0,I|=0,k|=0,G|=0);var W=T/r+M,Q=g/i+S,H=(T+y)/r+M,J=(g+m)/i+S;this.setTexture2D(e,0),this.batchVertices(V,O,q,N,j,I,k,G,W,Q,H,J,E,_,b,F,A)},drawTextureFrame:function(t,e,r,i,s,a,l){this.renderer.setPipeline(this),this.vertexCount+6>this.vertexCapacity&&this.flush();var n=this._tempMatrix1.copyFromArray(a),u=this._tempMatrix2,o=e+t.width,p=r+t.height;l?n.multiply(l,u):u=n;var c=e*u.a+r*u.c+u.e,x=e*u.b+r*u.d+u.f,f=e*u.a+p*u.c+u.e,d=e*u.b+p*u.d+u.f,v=o*u.a+p*u.c+u.e,T=o*u.b+p*u.d+u.f,g=o*u.a+r*u.c+u.e,y=o*u.b+r*u.d+u.f;this.renderer.config.roundPixels&&(c|=0,x|=0,f|=0,d|=0,v|=0,T|=0,g|=0,y|=0),this.setTexture2D(t.glTexture,0),i=h.getTintAppendFloatAlpha(i,s),this.batchVertices(c,x,f,d,v,T,g,y,t.u0,t.v0,t.u1,t.v1,i,i,i,i,0)||this.flush()}});module.exports=n;
},{"../../../utils/Class":"f5Xp","../../../utils/object/GetFastValue":"SgIk","./components/ModelViewProjection":"wO0s","../../../gameobjects/components/TransformMatrix":"PEti","../shaders/TextureTint-frag.js":"0CZr","../shaders/TextureTint-vert.js":"h7jf","../Utils":"WOZp","../WebGLPipeline":"4SzL"}],"p8ms":[function(require,module,exports) {
var t=require("../../../utils/Class"),e=require("../shaders/ForwardDiffuse-frag.js"),r=require("./TextureTintPipeline"),i=10,a=new t({Extends:r,initialize:function(t){t.fragShader=e.replace("%LIGHT_COUNT%",i.toString()),r.call(this,t),this.defaultNormalMap},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){r.prototype.onBind.call(this);var e=this.renderer,i=this.program;return this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){this.active=!1;var r=t.sys.lights;if(!r||r.lights.length<=0||!r.active)return this;var a=r.cull(e),s=Math.min(a.length,i);if(0===s)return this;this.active=!0;var o,l=this.renderer,n=this.program,u=e.matrix,h={x:0,y:0},c=l.height;for(o=0;o<i;++o)l.setFloat1(n,"uLights["+o+"].radius",0);for(l.setFloat4(n,"uCamera",e.x,e.y,e.rotation,e.zoom),l.setFloat3(n,"uAmbientLightColor",r.ambientColor.r,r.ambientColor.g,r.ambientColor.b),o=0;o<s;++o){var d=a[o],m="uLights["+o+"].";u.transformPoint(d.x,d.y,h),l.setFloat2(n,m+"position",h.x-e.scrollX*d.scrollFactorX*e.zoom,c-(h.y-e.scrollY*d.scrollFactorY*e.zoom)),l.setFloat3(n,m+"color",d.r,d.g,d.b),l.setFloat1(n,m+"intensity",d.intensity),l.setFloat1(n,m+"radius",d.radius)}return this},batchTexture:function(t,e,r,i,a,s,o,l,n,u,h,c,d,m,f,p,x,g,v,T,b,y,F,M,S,N,C,P,I,_){if(this.active){var D;this.renderer.setPipeline(this),t.texture?D=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(D=t.tileset.image.dataSource[0]),D||(D=this.defaultNormalMap),this.setTexture2D(D.glTexture,1);var L=this._tempMatrix1,z=this._tempMatrix2,R=this._tempMatrix3,U=o,X=l,Y=-p,q=-x;c&&(U*=-1,Y+=o),(d^=e.isRenderTexture?1:0)&&(X*=-1,q+=l),I.roundPixels&&(Y|=0,q|=0);var w=Y+U,O=q+X;z.applyITRS(a,s,h,n,u),L.copyFrom(I.matrix),_?(L.multiplyWithOffset(_,-I.scrollX*m,-I.scrollY*f),z.e=a,z.f=s,L.multiply(z,R)):(z.e-=I.scrollX*m,z.f-=I.scrollY*f,L.multiply(z,R));var A=Y*R.a+q*R.c+R.e,B=Y*R.b+q*R.d+R.f,E=Y*R.a+O*R.c+R.e,G=Y*R.b+O*R.d+R.f,H=w*R.a+O*R.c+R.e,j=w*R.b+O*R.d+R.f,V=w*R.a+q*R.c+R.e,W=w*R.b+q*R.d+R.f;I.roundPixels&&(A|=0,B|=0,E|=0,G|=0,H|=0,j|=0,V|=0,W|=0);var k=g/r+C,J=v/i+P,K=(g+T)/r+C,Q=(v+b)/i+P;this.setTexture2D(e,0),this.batchVertices(A,B,E,G,H,j,V,W,k,J,K,Q,y,F,M,S,N)}},setNormalMap:function(t){var e;this.active&&t&&(t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline))},batchSprite:function(t,e,i){if(this.active){var a=t.texture.dataSource[t.frame.sourceIndex];a&&(this.renderer.setPipeline(this),this.setTexture2D(a.glTexture,1),r.prototype.batchSprite.call(this,t,e,i))}}});a.LIGHT_COUNT=i,module.exports=a;
},{"../../../utils/Class":"f5Xp","../shaders/ForwardDiffuse-frag.js":"Pd4+","./TextureTintPipeline":"sHAr"}],"joaS":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../const"),i=require("../../math/pow2/IsSizePowerOfTwo"),r=require("../../utils/array/SpliceOne"),s=require("./Utils"),n=require("../snapshot/WebGLSnapshot"),h=require("./pipelines/BitmapMaskPipeline"),o=require("./pipelines/FlatTintPipeline"),a=require("./pipelines/ForwardDiffuseLightPipeline"),u=require("./pipelines/TextureTintPipeline"),l=new e({initialize:function(e){var i=this,r=e.config,s={alpha:r.transparent,depth:!1,antialias:r.antialias,premultipliedAlpha:r.premultipliedAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,failIfMajorPerformanceCaveat:r.failIfMajorPerformanceCaveat,powerPreference:r.powerPreference};this.config={clearBeforeRender:r.clearBeforeRender,antialias:r.antialias,backgroundColor:r.backgroundColor,contextCreation:s,resolution:r.resolution,autoResize:r.autoResize,roundPixels:r.roundPixels,maxTextures:r.maxTextures,maxTextureSize:r.maxTextureSize,batchSize:r.batchSize},this.game=e,this.type=t.WEBGL,this.width=e.config.width,this.height=e.config.height,this.canvas=e.canvas,this.lostContextCallbacks=[],this.restoredContextCallbacks=[],this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={callback:null,type:null,encoder:null},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=new Uint32Array([0,0,this.width,this.height]),this.currentScissorIdx=0,this.scissorStack=new Uint32Array(4e3),this.canvas.addEventListener("webglcontextlost",function(e){i.contextLost=!0,e.preventDefault();for(var t=0;t<i.lostContextCallbacks.length;++t){var r=i.lostContextCallbacks[t];r[0].call(r[1],i)}},!1),this.canvas.addEventListener("webglcontextrestored",function(){i.contextLost=!1,i.init(i.config);for(var e=0;e<i.restoredContextCallbacks.length;++e){var t=i.restoredContextCallbacks[e];t[0].call(t[1],i)}},!1),this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.init(this.config)},init:function(e){var i,r=this.canvas,s=e.backgroundColor;if(!(i=this.game.config.context?this.game.config.context:r.getContext("webgl",e.contextCreation)||r.getContext("experimental-webgl",e.contextCreation))||i.isContextLost())throw this.contextLost=!0,new Error("This browser does not support WebGL. Try using the Canvas pipeline.");this.gl=i,this.game.context=i;for(var n=0;n<=16;n++)this.blendModes.push({func:[i.ONE,i.ONE_MINUS_SRC_ALPHA],equation:i.FUNC_ADD});this.blendModes[1].func=[i.ONE,i.DST_ALPHA],this.blendModes[2].func=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[i.ONE,i.ONE_MINUS_SRC_COLOR],this.glFormats[0]=i.BYTE,this.glFormats[1]=i.SHORT,this.glFormats[2]=i.UNSIGNED_BYTE,this.glFormats[3]=i.UNSIGNED_SHORT,this.glFormats[4]=i.FLOAT;var l=i.getSupportedExtensions();e.maxTextures||(e.maxTextures=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE));var c="WEBGL_compressed_texture_",f="WEBKIT_"+c;this.compression.ETC1=i.getExtension(c+"etc1")||i.getExtension(f+"etc1"),this.compression.PVRTC=i.getExtension(c+"pvrtc")||i.getExtension(f+"pvrtc"),this.compression.S3TC=i.getExtension(c+"s3tc")||i.getExtension(f+"s3tc"),this.supportedExtensions=l,i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.enable(i.BLEND),i.clearColor(s.redGL,s.greenGL,s.blueGL,1);for(var d=0;d<this.currentTextures.length;++d)this.currentTextures[d]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new u({game:this.game,renderer:this})),this.addPipeline("FlatTintPipeline",new o({game:this.game,renderer:this})),this.addPipeline("BitmapMaskPipeline",new h({game:this.game,renderer:this})),this.addPipeline("Light2D",new a({game:this.game,renderer:this})),this.setBlendMode(t.BlendModes.NORMAL),this.resize(this.width,this.height),this.game.events.once("ready",this.boot,this),this},boot:function(){for(var e in this.pipelines)this.pipelines[e].boot()},resize:function(e,t){var i=this.gl,r=this.pipelines,s=this.config.resolution;for(var n in this.width=Math.floor(e*s),this.height=Math.floor(t*s),this.canvas.width=this.width,this.canvas.height=this.height,this.config.autoResize&&(this.canvas.style.width=this.width/s+"px",this.canvas.style.height=this.height/s+"px"),i.viewport(0,0,this.width,this.height),r)r[n].resize(e,t,s);return this.currentScissor.set([0,0,this.width,this.height]),this.drawingBufferHeight=i.drawingBufferHeight,this},onContextRestored:function(e,t){return this.restoredContextCallbacks.push([e,t]),this},onContextLost:function(e,t){return this.lostContextCallbacks.push([e,t]),this},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(e){return e in this.pipelines},getPipeline:function(e){return this.hasPipeline(e)?this.pipelines[e]:null},removePipeline:function(e){return delete this.pipelines[e],this},addPipeline:function(e,t){return this.hasPipeline(e)?console.warn("Pipeline",e," already exists."):this.pipelines[e]=t,t.name=e,this.pipelines[e].resize(this.width,this.height,this.config.resolution),t},setScissor:function(e,t,i,r){var s=this.gl,n=this.currentScissor,h=0===e&&0===t&&i===this.width&&r===this.height&&i>=0&&r>=0;return n[0]===e&&n[1]===t&&n[2]===i&&n[3]===r||this.flush(),n[0]=e,n[1]=t,n[2]=i,n[3]=r,this.currentScissorEnabled=h,h?(s.disable(s.SCISSOR_TEST),this):(s.enable(s.SCISSOR_TEST),s.scissor(e,this.drawingBufferHeight-t-r,i,r),this)},pushScissor:function(e,t,i,r){var s=this.scissorStack,n=this.currentScissorIdx,h=this.currentScissor;return s[n+0]=h[0],s[n+1]=h[1],s[n+2]=h[2],s[n+3]=h[3],this.currentScissorIdx+=4,this.setScissor(e,t,i,r),this},popScissor:function(){var e=this.scissorStack,t=this.currentScissorIdx-4,i=e[t+0],r=e[t+1],s=e[t+2],n=e[t+3];return this.currentScissorIdx=t,this.setScissor(i,r,s,n),this},setPipeline:function(e,t){return this.currentPipeline===e&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=e,this.currentPipeline.bind()),this.currentPipeline.onBind(t),this.currentPipeline},setBlendMode:function(e){var i=this.gl,r=this.blendModes[e];return e!==t.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e&&(this.flush(),i.enable(i.BLEND),i.blendEquation(r.equation),r.func.length>2?i.blendFuncSeparate(r.func[0],r.func[1],r.func[2],r.func[3]):i.blendFunc(r.func[0],r.func[1]),this.currentBlendMode=e),this},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>16&&this.blendModes[e]&&this.blendModes.splice(e,1),this},setTexture2D:function(e,t){var i=this.gl;return e!==this.currentTextures[t]&&(this.flush(),this.currentActiveTextureUnit!==t&&(i.activeTexture(i.TEXTURE0+t),this.currentActiveTextureUnit=t),i.bindTexture(i.TEXTURE_2D,e),this.currentTextures[t]=e),this},setFramebuffer:function(e){var t=this.gl;return e!==this.currentFramebuffer&&(this.flush(),t.bindFramebuffer(t.FRAMEBUFFER,e),this.currentFramebuffer=e),this},setProgram:function(e){var t=this.gl;return e!==this.currentProgram&&(this.flush(),t.useProgram(e),this.currentProgram=e),this},setVertexBuffer:function(e){var t=this.gl;return e!==this.currentVertexBuffer&&(this.flush(),t.bindBuffer(t.ARRAY_BUFFER,e),this.currentVertexBuffer=e),this},setIndexBuffer:function(e){var t=this.gl;return e!==this.currentIndexBuffer&&(this.flush(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.currentIndexBuffer=e),this},createTextureFromSource:function(e,r,s,n){var h=this.gl,o=h.NEAREST,a=h.CLAMP_TO_EDGE;return r=e?e.width:r,s=e?e.height:s,i(r,s)&&(a=h.REPEAT),n===t.ScaleModes.LINEAR&&this.config.antialias&&(o=h.LINEAR),e||"number"!=typeof r||"number"!=typeof s?this.createTexture2D(0,o,o,a,a,h.RGBA,e):this.createTexture2D(0,o,o,a,a,h.RGBA,null,r,s)},createTexture2D:function(e,t,i,r,s,n,h,o,a,u){var l=this.gl,c=l.createTexture();return u=null==u||u,this.setTexture2D(c,0),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,t),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,i),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,s),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,r),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),null==h?l.texImage2D(l.TEXTURE_2D,e,n,o,a,0,n,l.UNSIGNED_BYTE,null):(l.texImage2D(l.TEXTURE_2D,e,n,n,l.UNSIGNED_BYTE,h),o=h.width,a=h.height),this.setTexture2D(null,0),c.isAlphaPremultiplied=u,c.isRenderTexture=!1,c.width=o,c.height=a,this.nativeTextures.push(c),c},createFramebuffer:function(e,t,i,r){var s,n=this.gl,h=n.createFramebuffer();if(this.setFramebuffer(h),r){var o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0),(s=n.checkFramebufferStatus(n.FRAMEBUFFER))!==n.FRAMEBUFFER_COMPLETE){throw new Error("Framebuffer incomplete. Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[s])}return h.renderTexture=i,this.setFramebuffer(null),h},createProgram:function(e,t){var i=this.gl,r=i.createProgram(),s=i.createShader(i.VERTEX_SHADER),n=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(s,e),i.shaderSource(n,t),i.compileShader(s),i.compileShader(n),!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(s));if(!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(n));if(i.attachShader(r,s),i.attachShader(r,n),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw new Error("Failed to link program:\n"+i.getProgramInfoLog(r));return r},createVertexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setVertexBuffer(r),i.bufferData(i.ARRAY_BUFFER,e,t),this.setVertexBuffer(null),r},createIndexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setIndexBuffer(r),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,t),this.setIndexBuffer(null),r},deleteTexture:function(e){var t=this.nativeTextures.indexOf(e);return-1!==t&&r(this.nativeTextures,t),this.gl.deleteTexture(e),this},deleteFramebuffer:function(e){return this.gl.deleteFramebuffer(e),this},deleteProgram:function(e){return this.gl.deleteProgram(e),this},deleteBuffer:function(e){return this.gl.deleteBuffer(e),this},preRenderCamera:function(e){var t=this.config.resolution,i=Math.floor(e.x*t),r=Math.floor(e.y*t),n=Math.floor(e.width*t),h=Math.floor(e.height*t);if(this.pushScissor(i,r,n,h),e.backgroundColor.alphaGL>0){var o=e.backgroundColor,a=this.pipelines.FlatTintPipeline;a.batchFillRect(0,0,1,1,0,e.x,e.y,e.width,e.height,s.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL,1,0,0,1,0,0,[1,0,0,1,0,0]),a.flush()}},postRenderCamera:function(e){var t=this.pipelines.FlatTintPipeline,i=e.flashEffect.postRenderWebGL(t,s.getTintFromFloats);(e.fadeEffect.postRenderWebGL(t,s.getTintFromFloats)||i)&&t.flush(),e.dirty=!1,this.popScissor()},preRender:function(){if(!this.contextLost){var e=this.gl,t=this.config.backgroundColor,i=this.pipelines;for(var r in e.clearColor(t.redGL,t.greenGL,t.blueGL,t.alphaGL),this.config.clearBeforeRender&&e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),i)i[r].onPreRender()}},render:function(e,i,r,s){if(!this.contextLost){var n=i.list,h=n.length,o=this.pipelines;for(var a in o)o[a].onRender(e,s);this.preRenderCamera(s);for(var u=0;u<h;++u){var l=n[u];l.willRender()&&(l.blendMode!==this.currentBlendMode&&this.setBlendMode(l.blendMode),l.mask&&l.mask.preRenderWebGL(this,l,s),l.renderWebGL(this,l,r,s),l.mask&&l.mask.postRenderWebGL(this,l))}this.flush(),this.setBlendMode(t.BlendModes.NORMAL),this.postRenderCamera(s)}},postRender:function(){if(!this.contextLost){this.snapshotState.callback&&(this.snapshotState.callback(n(this.canvas,this.snapshotState.type,this.snapshotState.encoder)),this.snapshotState.callback=null);var e=this.pipelines;for(var t in e)e[t].onPostRender()}},snapshot:function(e,t,i){return this.snapshotState.callback=e,this.snapshotState.type=t,this.snapshotState.encoder=i,this},canvasToTexture:function(e,t){var r=this.gl;if(t)this.setTexture2D(t,0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=e.width,t.height=e.height,this.setTexture2D(null,0);else{var s=r.CLAMP_TO_EDGE;i(e.width,e.height)&&(s=r.REPEAT),t=this.createTexture2D(0,r.NEAREST,r.NEAREST,s,s,r.RGBA,e,e.width,e.height,!0)}return t},setTextureFilter:function(e,t){var i=this.gl,r=[i.LINEAR,i.NEAREST][t];return this.setTexture2D(e,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r),this.setTexture2D(null,0),this},setFloat1:function(e,t,i){return this.setProgram(e),this.gl.uniform1f(this.gl.getUniformLocation(e,t),i),this},setFloat2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2f(this.gl.getUniformLocation(e,t),i,r),this},setFloat3:function(e,t,i,r,s){return this.setProgram(e),this.gl.uniform3f(this.gl.getUniformLocation(e,t),i,r,s),this},setFloat4:function(e,t,i,r,s,n){return this.setProgram(e),this.gl.uniform4f(this.gl.getUniformLocation(e,t),i,r,s,n),this},setInt1:function(e,t,i){return this.setProgram(e),this.gl.uniform1i(this.gl.getUniformLocation(e,t),i),this},setInt2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2i(this.gl.getUniformLocation(e,t),i,r),this},setInt3:function(e,t,i,r,s){return this.setProgram(e),this.gl.uniform3i(this.gl.getUniformLocation(e,t),i,r,s),this},setInt4:function(e,t,i,r,s,n){return this.setProgram(e),this.gl.uniform4i(this.gl.getUniformLocation(e,t),i,r,s,n),this},setMatrix2:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix3:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix4:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(e,t),i,r),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var e in this.pipelines)this.pipelines[e].destroy(),delete this.pipelines[e];for(var t=0;t<this.nativeTextures.length;++t)this.deleteTexture(this.nativeTextures[t]),delete this.nativeTextures[t];delete this.gl,delete this.game,this.contextLost=!0,this.extensions={},this.nativeTextures.length=0}});module.exports=l;
},{"../../utils/Class":"f5Xp","../../const":"rdvC","../../math/pow2/IsSizePowerOfTwo":"yiju","../../utils/array/SpliceOne":"sV1O","./Utils":"WOZp","../snapshot/WebGLSnapshot":"nULY","./pipelines/BitmapMaskPipeline":"W8II","./pipelines/FlatTintPipeline":"KhMA","./pipelines/ForwardDiffuseLightPipeline":"p8ms","./pipelines/TextureTintPipeline":"sHAr"}],"AjQr":[function(require,module,exports) {
var e=require("../display/canvas/CanvasInterpolation"),r=require("../display/canvas/CanvasPool"),n=require("../const"),a=require("../device/Features"),t=function(t){var s,i,o=t.config;if(o.renderType!==n.HEADLESS)if(o.renderType===n.CANVAS||o.renderType!==n.CANVAS&&!a.webGL){if(!a.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");o.renderType=n.CANVAS}else o.renderType=n.WEBGL;(o.antialias||r.disableSmoothing(),o.canvas?t.canvas=o.canvas:t.canvas=r.create(t,o.width,o.height,o.renderType),o.canvasStyle&&(t.canvas.style=o.canvasStyle),o.antialias||e.setCrisp(t.canvas),1!==o.zoom&&(t.canvas.style.width=(o.width*o.zoom).toString()+"px",t.canvas.style.height=(o.height*o.zoom).toString()+"px"),o.renderType!==n.HEADLESS)&&(s=require("../renderer/canvas/CanvasRenderer"),i=require("../renderer/webgl/WebGLRenderer"),o.renderType===n.WEBGL?(t.renderer=new i(t),t.context=null):(t.renderer=new s(t),t.context=t.renderer.gameContext))};module.exports=t;
},{"../display/canvas/CanvasInterpolation":"ud0E","../display/canvas/CanvasPool":"RqeD","../const":"rdvC","../device/Features":"oOAg","../renderer/canvas/CanvasRenderer":"myvs","../renderer/webgl/WebGLRenderer":"joaS"}],"xsbv":[function(require,module,exports) {
var o=require("../const"),e=function(e){var a=e.config;if(!a.hideBanner){var r="WebGL";a.renderType===o.CANVAS?r="Canvas":a.renderType===o.HEADLESS&&(r="Headless");var n,c=a.audio,i=e.device.audio;if(n=!i.webAudio||c&&c.disableWebAudio?c&&c.noAudio||!i.webAudio&&!i.audioData?"No Audio":"HTML5 Audio":"Web Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var d,s="",u=[s];if(Array.isArray(a.bannerBackgroundColor))a.bannerBackgroundColor.forEach(function(o){s=s.concat("%c "),u.push("background: "+o),d=o}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+d;else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: #fff"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / "))),a.hidePhaser||(s=s.concat("Phaser v"+o.VERSION+" ("+r+" | "+n+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};module.exports=e;
},{"../const":"rdvC"}],"qLJa":[function(require,module,exports) {
var e=require("./OS"),n=require("./Browser"),o={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function t(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(o.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(o.mspointer=!0),navigator.getGamepads&&(o.gamepads=!0),e.cocoonJS||("onwheel"in window||n.ie&&"WheelEvent"in window?o.wheelEvent="wheel":"onmousewheel"in window?o.wheelEvent="mousewheel":n.firefox&&"MouseScrollEvent"in window&&(o.wheelEvent="DOMMouseScroll")),o}module.exports=t();
},{"./OS":"3ABI","./Browser":"ynD1"}],"ggYs":[function(require,module,exports) {
var a=require("./Browser"),e={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){e.audioData=!!window.Audio,e.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var o=document.createElement("audio"),c=!!o.canPlayType;try{if(c&&(o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(e.ogg=!0),(o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||o.canPlayType("audio/opus;").replace(/^no$/,""))&&(e.opus=!0),o.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(e.mp3=!0),o.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(e.wav=!0),(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/aac;").replace(/^no$/,""))&&(e.m4a=!0),o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(e.webm=!0),""!==o.canPlayType('audio/mp4;codecs="ec-3"')))if(a.edge)e.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),i=parseInt(RegExp.$2,10);(10===d&&i>=11||d>10)&&(e.dolby=!0)}}catch(a){}return e}module.exports=o();
},{"./Browser":"ynD1"}],"CUwU":[function(require,module,exports) {
var e={h264Video:!1,hlsVideo:!1,mp4Video:!1,oggVideo:!1,vp9Video:!1,webmVideo:!1};function o(){var o=document.createElement("video"),c=!!o.canPlayType;try{c&&(o.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(e.oggVideo=!0),o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(e.h264Video=!0,e.mp4Video=!0),o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(e.webmVideo=!0),o.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(e.vp9Video=!0),o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(e.hlsVideo=!0))}catch(e){}return e}module.exports=o();
},{}],"HGO+":[function(require,module,exports) {
var e={available:!1,cancel:"",keyboard:!1,request:""};function l(){var l,n=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],r=document.createElement("div");for(l=0;l<n.length;l++)if(r[n[l]]){e.available=!0,e.request=n[l];break}var u=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(e.available)for(l=0;l<u.length;l++)if(document[u[l]]){e.cancel=u[l];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(e.keyboard=!0),e}module.exports=l();
},{}],"RNfY":[function(require,module,exports) {
module.exports={os:require("./OS"),browser:require("./Browser"),features:require("./Features"),input:require("./Input"),audio:require("./Audio"),video:require("./Video"),fullscreen:require("./Fullscreen"),canvasFeatures:require("./CanvasFeatures")};
},{"./OS":"3ABI","./Browser":"ynD1","./Features":"oOAg","./Input":"qLJa","./Audio":"ggYs","./Video":"CUwU","./Fullscreen":"HGO+","./CanvasFeatures":"p7qX"}],"f4j1":[function(require,module,exports) {
var O={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6};module.exports=O;
},{}],"n0x+":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../device/Features"),n=new e({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,e.events.once("boot",this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.capture=e.inputMouseCapture,this.target||(this.target=this.manager.game.canvas),e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(t.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},pointerLockChange:function(e){var t=this.target;this.locked=document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t,this.manager.queue.push(e)},releasePointerLock:function(){t.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},onMouseMove:function(e){!e.defaultPrevented&&this.enabled&&(this.manager.queueMouseMove(e),this.capture&&e.preventDefault())},onMouseDown:function(e){!e.defaultPrevented&&this.enabled&&(this.manager.queueMouseDown(e),this.capture&&e.preventDefault())},onMouseUp:function(e){!e.defaultPrevented&&this.enabled&&(this.manager.queueMouseUp(e),this.capture&&e.preventDefault())},startListeners:function(){var e=this.target,n={passive:!0},o={passive:!1};this.capture?(e.addEventListener("mousemove",this.onMouseMove.bind(this),o),e.addEventListener("mousedown",this.onMouseDown.bind(this),o),e.addEventListener("mouseup",this.onMouseUp.bind(this),o)):(e.addEventListener("mousemove",this.onMouseMove.bind(this),n),e.addEventListener("mousedown",this.onMouseDown.bind(this),n),e.addEventListener("mouseup",this.onMouseUp.bind(this),n)),t.pointerLock&&(this.pointerLockChange=this.pointerLockChange.bind(this),document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),t.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.manager=null}});module.exports=n;
},{"../../utils/Class":"f5Xp","../../device/Features":"oOAg"}],"8x5I":[function(require,module,exports) {
var e=require("../SmoothStep"),r=function(r,o,t){return o+(t-o)*e(r,0,1)};module.exports=r;
},{"../SmoothStep":"YtqF"}],"equp":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/interpolation/SmoothStepInterpolation"),s=require("../math/Vector2"),n=new t({initialize:function(t,i){this.manager=t,this.id=i,this.event,this.camera=null,this.buttons=0,this.position=new s,this.prevPosition=new s,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.dragState=0,this.isDown=!1,this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.wasTouch=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===i},positionToCamera:function(t,i){return t.getWorldPoint(this.x,this.y,i)},reset:function(){this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.movementX=0,this.movementY=0},up:function(t,i){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=i),this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!1},down:function(t,i){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=i),this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!1},move:function(t){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.manager.mouse.locked&&(this.movementX+=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY+=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.justMoved=!0,this.dirty=!0,this.wasTouch=!1},touchstart:function(t,i){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=i,this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!0},touchmove:function(t){this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.justMoved=!0,this.dirty=!0,this.wasTouch=!0},touchend:function(t,i){this.buttons=0,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=i,this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return 1&this.buttons},rightButtonDown:function(){return 2&this.buttons},middleButtonDown:function(){return 4&this.buttons},backButtonDown:function(){return 8&this.buttons},forwardButtonDown:function(){return 16&this.buttons},getInterpolatedPosition:function(t,s){void 0===t&&(t=10),void 0===s&&(s=[]);for(var n=this.prevPosition.x,o=this.prevPosition.y,h=this.position.x,e=this.position.y,r=0;r<t;r++){var u=1/t*r;s[r]={x:i(u,n,h),y:i(u,o,e)}}return s},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}}});module.exports=n;
},{"../utils/Class":"f5Xp","../math/interpolation/SmoothStepInterpolation":"8x5I","../math/Vector2":"2OLl"}],"z/V3":[function(require,module,exports) {
var t=require("../../utils/Class"),e=new t({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,t.events.once("boot",this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),this.enabled&&this.startListeners()},onTouchStart:function(t){!t.defaultPrevented&&this.enabled&&(this.manager.queueTouchStart(t),this.capture&&t.preventDefault())},onTouchMove:function(t){!t.defaultPrevented&&this.enabled&&(this.manager.queueTouchMove(t),this.capture&&t.preventDefault())},onTouchEnd:function(t){!t.defaultPrevented&&this.enabled&&(this.manager.queueTouchEnd(t),this.capture&&t.preventDefault())},startListeners:function(){var t=this.target,e={passive:!0},n={passive:!1};this.capture?(t.addEventListener("touchstart",this.onTouchStart.bind(this),n),t.addEventListener("touchmove",this.onTouchMove.bind(this),n),t.addEventListener("touchend",this.onTouchEnd.bind(this),n)):(t.addEventListener("touchstart",this.onTouchStart.bind(this),e),t.addEventListener("touchmove",this.onTouchMove.bind(this),e),t.addEventListener("touchend",this.onTouchEnd.bind(this),e))},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd)},destroy:function(){this.stopListeners(),this.target=null,this.manager=null}});module.exports=e;
},{"../../utils/Class":"f5Xp"}],"58iN":[function(require,module,exports) {
var r=require("./Vector2"),e=function(e,o,t,n,a,i,u,c){void 0===c&&(c=new r);var s=Math.sin(-a),v=Math.cos(-a),d=v*i,h=-s*i,x=s*u,M=v*u,f=d*M-h*x,l=M/f,m=-h/f,p=-x/f,q=d/f,w=(x*n-M*t)/f,y=-(d*n-h*t)/f;return c.x=e*l+o*p+w,c.y=e*m+o*q+y,c};module.exports=e;
},{"./Vector2":"2OLl"}],"NxIj":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("./const"),e=require("eventemitter3"),i=require("./mouse/MouseManager"),o=require("./Pointer"),n=require("../geom/rectangle/Rectangle"),a=require("./touch/TouchManager"),h=require("../gameobjects/components/TransformMatrix"),r=require("../math/TransformXY"),u=new t({initialize:function(t,s){this.game=t,this.canvas,this.config=s,this.enabled=!0,this.events=new e,this.queue=[],this.domCallbacks={up:[],down:[],move:[],upOnce:[],downOnce:[],moveOnce:[]},this._hasUpCallback=!1,this._hasDownCallback=!1,this._hasMoveCallback=!1,this._customCursor="",this._setCursor=0,this.defaultCursor="",this.mouse=s.inputMouse?new i(this):null,this.touch=s.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=s.inputActivePointers,s.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var r=0;r<=this.pointersTotal;r++)this.pointers.push(new o(this,r));this.mousePointer=s.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.dirty=!1,this.scale={x:1,y:1},this.globalTopOnly=!0,this.ignoreEvents=!1,this.bounds=new n,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,t.events.once("boot",this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.updateBounds(),this.events.emit("boot"),this.game.events.on("prestep",this.update,this),this.game.events.on("poststep",this.postUpdate,this),this.game.events.once("destroy",this.destroy,this)},updateBounds:function(){var t=this.bounds,s=this.canvas.getBoundingClientRect();t.x=s.left+window.pageXOffset-document.documentElement.clientLeft,t.y=s.top+window.pageYOffset-document.documentElement.clientTop,t.width=s.width,t.height=s.height},resize:function(){this.updateBounds();var t=this.game.config.width,s=this.game.config.height,e=this.bounds.width,i=this.bounds.height;this.scale.x=t/e,this.scale.y=s/i},update:function(t){var e;this._setCursor=0,this.events.emit("update"),this.ignoreEvents=!1,this.dirty=!1;var i=this.queue.length,o=this.pointers;for(e=0;e<this.pointersTotal;e++)o[e].reset();if(this.enabled&&0!==i){this.dirty=!0,this.updateBounds(),this.scale.x=this.game.config.width/this.bounds.width,this.scale.y=this.game.config.height/this.bounds.height;var n=this.queue.splice(0,i),a=this.mousePointer;for(e=0;e<i;e+=2){var h=n[e],r=n[e+1];switch(h){case s.MOUSE_DOWN:a.down(r,t);break;case s.MOUSE_MOVE:a.move(r,t);break;case s.MOUSE_UP:a.up(r,t);break;case s.TOUCH_START:this.startPointer(r,t);break;case s.TOUCH_MOVE:this.updatePointer(r,t);break;case s.TOUCH_END:this.stopPointer(r,t);break;case s.POINTER_LOCK_CHANGE:this.events.emit("pointerlockchange",r,this.mouse.locked)}}}},postUpdate:function(){1===this._setCursor?this.canvas.style.cursor=this._customCursor:2===this._setCursor&&(this.canvas.style.cursor=this.defaultCursor)},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this._setCursor=1,this._customCursor=t.cursor)},resetCursor:function(t){t.cursor&&(this._setCursor=2)},startPointer:function(t,s){for(var e=this.pointers,i=0;i<t.changedTouches.length;i++)for(var o=t.changedTouches[i],n=1;n<this.pointersTotal;n++){var a=e[n];if(!a.active){a.touchstart(o,s),this.activePointer=a;break}}},updatePointer:function(t,s){for(var e=this.pointers,i=0;i<t.changedTouches.length;i++)for(var o=t.changedTouches[i],n=1;n<this.pointersTotal;n++){var a=e[n];if(a.active&&a.identifier===o.identifier){a.touchmove(o,s),this.activePointer=a;break}}},stopPointer:function(t,s){for(var e=this.pointers,i=0;i<t.changedTouches.length;i++)for(var o=t.changedTouches[i],n=1;n<this.pointersTotal;n++){var a=e[n];if(a.active&&a.identifier===o.identifier){a.touchend(o,s);break}}},addPointer:function(t){void 0===t&&(t=1);var s=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var e=0;e<t;e++){var i=this.pointers.length,n=new o(this,i);this.pointers.push(n),this.pointersTotal++,s.push(n)}return s},processDomCallbacks:function(t,s,e){var i=0;for(i=0;i<t.length;i++)t[i](e);for(i=0;i<s.length;i++)s[i](e);return t=[],s.length>0},queueTouchStart:function(t){if(this.queue.push(s.TOUCH_START,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueTouchMove:function(t){if(this.queue.push(s.TOUCH_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueTouchEnd:function(t){if(this.queue.push(s.TOUCH_END,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},queueMouseDown:function(t){if(this.queue.push(s.MOUSE_DOWN,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueMouseMove:function(t){if(this.queue.push(s.MOUSE_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueMouseUp:function(t){if(this.queue.push(s.MOUSE_UP,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},addUpCallback:function(t,s){return void 0===s&&(s=!0),s?this.domCallbacks.upOnce.push(t):this.domCallbacks.up.push(t),this._hasUpCallback=!0,this},addDownCallback:function(t,s){return void 0===s&&(s=!0),s?this.domCallbacks.downOnce.push(t):this.domCallbacks.down.push(t),this._hasDownCallback=!0,this},addMoveCallback:function(t,s){return void 0===s&&(s=!1),s?this.domCallbacks.moveOnce.push(t):this.domCallbacks.move.push(t),this._hasMoveCallback=!0,this},inputCandidate:function(t){var s=t.input;if(!s||!s.enabled||!t.willRender())return!1;var e=!0,i=t.parentContainer;if(i)do{if(!i.visible){e=!1;break}i=i.parentContainer}while(i);return e},hitTest:function(t,s,e,i){void 0===i&&(i=this._tempHitTest);var o=this._tempPoint,n=e.width,a=e.height;i.length=0;var h=t.x,u=t.y;if(!(h>=e.x&&u>=e.y&&h<=e.x+n&&u<=e.y+a))return i;e.getWorldPoint(h,u,o),t.worldX=o.x,t.worldY=o.y;for(var c={x:0,y:0},l=this.game.config.resolution,d=this._tempMatrix,p=0;p<s.length;p++){var f=s[p];if(this.inputCandidate(f)){var v=o.x*l+e.scrollX*f.scrollFactorX-e.scrollX,m=o.y*l+e.scrollY*f.scrollFactorY-e.scrollY;f.parentContainer?(f.getWorldTransformMatrix(d),r(v,m,d.tx,d.ty,d.rotation,d.scaleX,d.scaleY,c)):r(v,m,f.x,f.y,f.rotation,f.scaleX,f.scaleY,c),this.pointWithinHitArea(f,c.x,c.y)&&i.push(f)}}return i},pointWithinHitArea:function(t,s,e){s+=t.displayOriginX,e+=t.displayOriginY;var i=t.input;return!(!i||!i.hitAreaCallback(i.hitArea,s,e,t))&&(i.localX=s,i.localY=e,!0)},pointWithinInteractiveObject:function(t,s,e){return!!t.hitArea&&(s+=t.gameObject.displayOriginX,e+=t.gameObject.displayOriginY,t.localX=s,t.localY=e,t.hitAreaCallback(t.hitArea,s,e,t))},transformPointer:function(t,s,e){t.prevPosition.x=t.x,t.prevPosition.y=t.y,t.x=(s-this.bounds.left)*this.scale.x,t.y=(e-this.bounds.top)*this.scale.y},transformX:function(t){return(t-this.bounds.left)*this.scale.x},transformY:function(t){return(t-this.bounds.top)*this.scale.y},getOffsetX:function(){return this.bounds.left},getOffsetY:function(){return this.bounds.top},getScaleX:function(){return this.game.config.width/this.bounds.width},getScaleY:function(){return this.game.config.height/this.bounds.height},destroy:function(){this.events.removeAllListeners(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.domCallbacks={},this.pointers=[],this.queue=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});module.exports=u;
},{"../utils/Class":"f5Xp","./const":"f4j1","eventemitter3":"LqgX","./mouse/MouseManager":"n0x+","./Pointer":"equp","../geom/rectangle/Rectangle":"hff6","./touch/TouchManager":"z/V3","../gameobjects/components/TransformMatrix":"PEti","../math/TransformXY":"58iN"}],"fw5t":[function(require,module,exports) {
var n={},o={install:function(o){for(var r in n)o[r]=n[r]},register:function(o,r){n[o]=r},destroy:function(){n={}}};module.exports=o;
},{}],"FDVK":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("../plugins/PluginCache"),i=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.displayList,this.updateList,s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(s,t){i.prototype.hasOwnProperty(s)||(i.prototype[s]=t)},t.register("GameObjectCreator",i,"make"),module.exports=i;
},{"../utils/Class":"f5Xp","../plugins/PluginCache":"sYlk"}],"Kg63":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,l,n,a){var i;if(void 0===a&&(a=e),!Array.isArray(l))return-1!==(i=e.indexOf(l))?(r(e,i),n&&n.call(a,l),l):null;for(var o=l.length-1;o>=0;){var u=l[o];-1!==(i=e.indexOf(u))?(r(e,i),n&&n.call(a,u)):l.pop(),o--}return l};module.exports=e;
},{"./SpliceOne":"sV1O"}],"QaVA":[function(require,module,exports) {
var e=require("../utils/Class"),n=require("eventemitter3"),t=require("../loader/FileTypesManager"),i=require("../gameobjects/GameObjectCreator"),s=require("../gameobjects/GameObjectFactory"),r=require("../utils/object/GetFastValue"),l=require("./PluginCache"),u=require("../utils/array/Remove"),o=new e({Extends:n,initialize:function(e){n.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once("boot",this.boot,this)},boot:function(){var e,n,t,i,s,l,u=this.game.config,o=u.installGlobalPlugins;for(o=o.concat(this._pendingGlobal),e=0;e<o.length;e++)n=o[e],t=r(n,"key",null),i=r(n,"plugin",null),s=r(n,"start",!1),l=r(n,"mapping",null),t&&i&&this.install(t,i,s,l);for(o=(o=u.installScenePlugins).concat(this._pendingScene),e=0;e<o.length;e++)n=o[e],t=r(n,"key",null),i=r(n,"plugin",null),l=r(n,"mapping",null),t&&i&&this.installScenePlugin(t,i,l);this._pendingGlobal=[],this._pendingScene=[],this.game.events.once("destroy",this.destroy,this)},addToScene:function(e,n,t){var i,s,r,u=this.game,o=e.scene,a=e.settings.map,g=e.settings.isBooted;for(i=0;i<n.length;i++)u[s=n[i]]&&(e[s]=u[s],a.hasOwnProperty(s)&&(o[a[s]]=e[s]));for(var c=0;c<t.length;c++)for(r=t[c],i=0;i<r.length;i++)if(s=r[i],l.hasCore(s)){var h=l.getCore(s),p=new h.plugin(o,this);e[h.mapping]=p,h.custom?o[h.mapping]=p:a.hasOwnProperty(h.mapping)&&(o[a[h.mapping]]=p),g&&p.boot()}for(r=this.plugins,i=0;i<r.length;i++){var f=r[i];f.mapping&&(o[f.mapping]=f.plugin)}},getDefaultScenePlugins:function(){var e=this.game.config.defaultPlugins;return e=e.concat(this.scenePlugins)},installScenePlugin:function(e,n,t,i){if("function"==typeof n){if(l.hasCore(e))console.warn("Scene Plugin key in use: "+e);else if(l.register(e,n,t,!0),this.scenePlugins.push(e),i){var s=new n(i,this);i.sys[e]=s,t&&""!==t&&(i[t]=s),s.boot()}}else console.warn("Invalid Scene Plugin: "+e)},install:function(e,n,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),"function"==typeof n)if(l.hasCustom(e))console.warn("Plugin key in use: "+e);else if(null!==i&&(t=!0),this.game.isBooted){if(l.registerCustom(e,n,i),t)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:n,start:t,mapping:i});else console.warn("Invalid Plugin: "+e)},getIndex:function(e){for(var n=this.plugins,t=0;t<n.length;t++){if(n[t].key===e)return t}return-1},getEntry:function(e){var n=this.getIndex(e);if(-1!==n)return this.plugins[n]},isActive:function(e){var n=this.getEntry(e);return n&&n.active},start:function(e,n){void 0===n&&(n=e);var t=this.getEntry(n);return t&&!t.active?(t.active=!0,t.plugin.start()):t||(t=this.createEntry(e,n)),t?t.plugin:null},createEntry:function(e,n){var t=l.getCustom(e);if(t){var i=new t.plugin(this);t={key:n,plugin:i,active:!0,mapping:t.mapping},this.plugins.push(t),i.init(),i.start()}return t},stop:function(e){var n=this.getEntry(e);return n&&n.active&&(n.active=!1,n.plugin.stop()),this},get:function(e,n){void 0===n&&(n=!0);var t=this.getEntry(e);if(t)return t.plugin;var i=this.getClass(e);return i&&n?(t=this.createEntry(e,e))?t.plugin:null:i||null},getClass:function(e){return l.getCustomClass(e)},removeGlobalPlugin:function(e){var n=this.getEntry(e);n&&u(this.plugins,n),l.removeCustom(e)},removeScenePlugin:function(e){u(this.scenePlugins,e),l.remove(e)},registerGameObject:function(e,n,t){return n&&s.register(e,n),t&&i.register(e,t),this},registerFileType:function(e,n,i){t.register(e,n),i&&i.sys.load&&(i.sys.load[e]=n)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();this.game=null,this.plugins=[],this.scenePlugins=[]}});module.exports=o;
},{"../utils/Class":"f5Xp","eventemitter3":"LqgX","../loader/FileTypesManager":"fw5t","../gameobjects/GameObjectCreator":"FDVK","../gameobjects/GameObjectFactory":"qgZB","../utils/object/GetFastValue":"SgIk","./PluginCache":"sYlk","../utils/array/Remove":"Kg63"}],"/p0Q":[function(require,module,exports) {
var N={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};module.exports=N;
},{}],"pAFR":[function(require,module,exports) {
var e=function(e){return e&&e[0].toUpperCase()+e.slice(1)};module.exports=e;
},{}],"Vj4M":[function(require,module,exports) {
var s=require("../utils/object/GetFastValue"),e=require("../utils/string/UppercaseFirst"),i=function(i){var r=i.game.config.defaultPhysicsSystem,t=s(i.settings,"physics",!1);if(r||t){var u=[];if(r&&u.push(e(r+"Physics")),t)for(var a in t)a=e(a.concat("Physics")),-1===u.indexOf(a)&&u.push(a);return u}};module.exports=i;
},{"../utils/object/GetFastValue":"SgIk","../utils/string/UppercaseFirst":"pAFR"}],"wV8z":[function(require,module,exports) {
var e=require("../utils/object/GetFastValue"),r=function(r){var t=r.plugins.getDefaultScenePlugins(),u=e(r.settings,"plugins",!1);return Array.isArray(u)?u:t||[]};module.exports=r;
},{"../utils/object/GetFastValue":"SgIk"}],"+lbl":[function(require,module,exports) {
var r=function(r){var a={};for(var e in r)Array.isArray(r[e])?a[e]=r[e].slice(0):a[e]=r[e];return a};module.exports=r;
},{}],"1u+y":[function(require,module,exports) {
var r=require("./Clone"),e=function(e,n){var o=r(e);for(var a in n)o.hasOwnProperty(a)||(o[a]=n[a]);return o};module.exports=e;
},{"./Clone":"+lbl"}],"UBw/":[function(require,module,exports) {
var e={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",sound:"sound",textures:"textures",events:"events",cameras:"cameras",cameras3d:"cameras3d",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};module.exports=e;
},{}],"R2rI":[function(require,module,exports) {
var e=require("./const"),i=require("../utils/object/GetValue"),t=require("../utils/object/Merge"),a=require("./InjectionMap"),r={create:function(r){return"string"==typeof r?r={key:r}:void 0===r&&(r={}),{status:e.PENDING,key:i(r,"key",""),active:i(r,"active",!1),visible:i(r,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:i(r,"pack",!1),cameras:i(r,"cameras",null),map:i(r,"map",t(a,i(r,"mapAdd",{}))),physics:i(r,"physics",{}),loader:i(r,"loader",{}),plugins:i(r,"plugins",!1),input:i(r,"input",{})}}};module.exports=r;
},{"./const":"/p0Q","../utils/object/GetValue":"8Li0","../utils/object/Merge":"1u+y","./InjectionMap":"UBw/"}],"/tfp":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("./const"),i=require("../plugins/DefaultPlugins"),e=require("./GetPhysicsPlugins"),n=require("./GetScenePlugins"),h=require("../utils/NOOP"),r=require("./Settings"),a=new t({initialize:function(t,s){this.scene=t,this.game,this.config=s,this.settings=r.create(s),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(t){this.settings.status=s.INIT,this.sceneUpdate=h,this.game=t,this.canvas=t.canvas,this.context=t.context;var r=t.plugins;this.plugins=r,r.addToScene(this,i.Global,[i.CoreScene,n(this),e(this)]),this.events.emit("boot",this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,s){this.events.emit("preupdate",t,s),this.events.emit("update",t,s),this.sceneUpdate.call(this.scene,t,s),this.events.emit("postupdate",t,s)},render:function(t){var s=this.displayList;s.depthSort(),this.cameras.render(t,s),this.events.emit("render",t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=s.PAUSED,this.settings.active=!1,this.events.emit("pause",this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=s.RUNNING,this.settings.active=!0,this.events.emit("resume",this,t)),this},sleep:function(t){return this.settings.status=s.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit("sleep",this,t),this},wake:function(t){var i=this.settings;return i.status=s.RUNNING,i.active=!0,i.visible=!0,this.events.emit("wake",this,t),i.isTransition&&this.events.emit("transitionwake",i.transitionFrom,i.transitionDuration),this},isSleeping:function(){return this.settings.status===s.SLEEPING},isActive:function(){return this.settings.status===s.RUNNING},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,s){return t?this.resume(s):this.pause(s)},start:function(t){t&&(this.settings.data=t),this.settings.status=s.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit("start",this),this.events.emit("ready",this,t)},resize:function(t,s){this.events.emit("resize",t,s)},shutdown:function(t){this.events.off("transitioninit"),this.events.off("transitionstart"),this.events.off("transitioncomplete"),this.events.off("transitionout"),this.settings.status=s.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit("shutdown",this,t)},destroy:function(){this.settings.status=s.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit("destroy",this),this.events.removeAllListeners();for(var t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],i=0;i<t.length;i++)this[t[i]]=null}});module.exports=a;
},{"../utils/Class":"f5Xp","./const":"/p0Q","../plugins/DefaultPlugins":"PehW","./GetPhysicsPlugins":"Vj4M","./GetScenePlugins":"wV8z","../utils/NOOP":"u3ni","./Settings":"R2rI"}],"hvEm":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("./Systems"),i=new s({initialize:function(s){this.sys=new t(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.cameras3d,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.impact,this.matter},update:function(){}});module.exports=i;
},{"../utils/Class":"f5Xp","./Systems":"/tfp"}],"wBsC":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("./const"),s=require("../utils/object/GetValue"),i=require("../utils/NOOP"),n=require("./Scene"),r=require("./Systems"),a=new e({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,t){Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++)this._pending.push({key:"default",scene:t[s],autoStart:0===s,data:{}})}e.events.once("ready",this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,t,s,i;for(e=0;e<this._pending.length;e++){var r;s=(t=this._pending[e]).key,(i=t.scene)instanceof n?r=this.createSceneFromInstance(s,i):"object"==typeof i?r=this.createSceneFromObject(s,i):"function"==typeof i&&(r=this.createSceneFromFunction(s,i)),s=r.sys.settings.key,this.keys[s]=r,this.scenes.push(r),this._data[s]&&(r.sys.settings.data=this._data[s].data,this._data[s].autoStart&&(t.autoStart=!0)),(t.autoStart||r.sys.settings.active)&&this._start.push(s)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e=this._pending.length,t=this._queue.length;if(0!==e||0!==t){var s,i;if(e){for(s=0;s<e;s++)i=this._pending[s],this.add(i.key,i.scene,i.autoStart,i.data);for(s=0;s<this._start.length;s++)i=this._start[s],this.start(i);return this._start.length=0,void(this._pending.length=0)}for(s=0;s<this._queue.length;s++)this[(i=this._queue[s]).op](i.keyA,i.keyB);this._queue.length=0}},add:function(e,t,s,i){return void 0===s&&(s=!1),void 0===i&&(i={}),this.isProcessing||!this.isBooted?(this._pending.push({key:e,scene:t,autoStart:s,data:i}),this.isBooted||(this._data[e]={data:i}),null):(e=this.getKey(e,t),t instanceof n?r=this.createSceneFromInstance(e,t):"object"==typeof t?(t.key=e,r=this.createSceneFromObject(e,t)):"function"==typeof t&&(r=this.createSceneFromFunction(e,t)),r.sys.settings.data=i,e=r.sys.settings.key,this.keys[e]=r,this.scenes.push(r),(s||r.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),r);var r},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var s=this.scenes.indexOf(t),i=t.sys.settings.key;s>-1&&(delete this.keys[i],this.scenes.splice(s,1),this._start.indexOf(i)>-1&&(s=this._start.indexOf(i),this._start.splice(s,1)),t.sys.destroy())}return this},bootScene:function(e){var s,i=e.sys,n=i.settings;e.init&&(e.init.call(e,n.data),n.status=t.INIT,n.isTransition&&i.events.emit("transitioninit",n.transitionFrom,n.transitionDuration)),i.load&&(s=i.load).reset(),s&&e.preload?(e.preload.call(e),0===s.list.size?this.create(e):(n.status=t.LOADING,s.once("complete",this.loadComplete,this),s.start())):this.create(e)},loadComplete:function(e){var t=e.scene;this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(t)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,s){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var n=this.scenes[i].sys;n.settings.status>t.START&&n.settings.status<=t.RUNNING&&n.step(e,s)}},resize:function(e,t){for(var s=0;s<this.scenes.length;s++){this.scenes[s].sys.resize(e,t)}},render:function(e){for(var s=0;s<this.scenes.length;s++){var i=this.scenes[s].sys;i.settings.visible&&i.settings.status>=t.LOADING&&i.settings.status<t.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var s=e.sys,i=s.settings;e.create&&(i.status=t.CREATING,e.create.call(e,i.data),i.isTransition&&s.events.emit("transitionstart",i.transitionFrom,i.transitionDuration)),e.update&&(s.sceneUpdate=e.update),i.status=t.RUNNING},createSceneFromFunction:function(e,t){var s=new t;if(s instanceof n){var i=s.sys.settings.key;if(""!==i&&(e=i),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,s)}return s.sys=new r(s),s.sys.settings.key=e,s.sys.init(this.game),s},createSceneFromInstance:function(e,t){var s=t.sys.settings.key;return""!==s?e=s:t.sys.settings.key=e,t.sys.init(this.game),t},createSceneFromObject:function(e,t){var i=new n(t),r=i.sys.settings.key;""!==r?e=r:i.sys.settings.key=e,i.sys.init(this.game);for(var a=["init","preload","create","update","render"],h=0;h<a.length;h++){var o=s(t,a[h],null);o&&(i[a[h]]=o)}if(t.hasOwnProperty("extend"))for(var u in t.extend){var c=t.extend[u];"data"===u&&i.hasOwnProperty("data")&&"object"==typeof c?i.data.merge(c):"sys"!==u&&(i[u]=c)}return i},getKey:function(e,t){if(e||(e="default"),"function"==typeof t)return e;if(t instanceof n?e=t.sys.settings.key:"object"==typeof t&&t.hasOwnProperty("key")&&(e=t.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var s=this.getScene(e);return s&&s.sys.pause(t),this},resume:function(e,t){var s=this.getScene(e);return s&&s.sys.resume(t),this},sleep:function(e,t){var s=this.getScene(e);return s&&!s.sys.isTransitioning()&&s.sys.sleep(t),this},wake:function(e,t){var s=this.getScene(e);return s&&s.sys.wake(t),this},run:function(e,t){var s=this.getScene(e);if(!s){for(var i=0;i<this._pending.length;i++)if(this._pending[i].key===e){this.queueOp("start",e,t);break}return this}s.sys.isSleeping()?s.sys.wake(t):s.sys.isBooted&&!s.sys.isActive()?s.sys.resume(t):this.start(e,t)},start:function(e,s){if(!this.isBooted)return this._data[e]={autoStart:!0,data:s},this;var i=this.getScene(e);if(i){var n;if(i.sys.start(s),i.sys.load&&(n=i.sys.load),n&&i.sys.settings.hasOwnProperty("pack")&&(n.reset(),n.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=t.LOADING,n.once("complete",this.payloadComplete,this),n.start(),this;this.bootScene(i)}return this},stop:function(e){var t=this.getScene(e);return t&&!t.sys.isTransitioning()&&t.sys.shutdown(),this},switch:function(e,t){var s=this.getScene(e),i=this.getScene(t);return s&&i&&s!==i&&(this.sleep(e),this.isSleeping(t)?this.wake(t):this.start(t)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t<this.scenes.length){var s=this.getScene(e);this.scenes.splice(t,1),this.scenes.push(s)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t>0){var s=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(s)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t>0){var s=t-1,i=this.getScene(e),n=this.getAt(s);this.scenes[t]=n,this.scenes[s]=i}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t<this.scenes.length-1){var s=t+1,i=this.getScene(e),n=this.getAt(s);this.scenes[t]=n,this.scenes[s]=i}}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(-1!==s&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),this.scenes.splice(s+1,0,n)}}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(-1!==s&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),0===s?this.scenes.unshift(n):this.scenes.splice(s,0,n)}}return this},queueOp:function(e,t,s){return this._queue.push({op:e,keyA:t,keyB:s}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(s!==i&&-1!==s&&-1!==i){var n=this.getAt(s);this.scenes[s]=this.scenes[i],this.scenes[i]=n}}return this},dump:function(){for(var e=[],s=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var n=this.scenes[i].sys,r=!n.settings.visible||n.settings.status!==t.RUNNING&&n.settings.status!==t.PAUSED?"[-] ":"[*] ";r+=n.settings.key+" ("+s[n.settings.status]+")",e.push(r)}console.log(e.join("\n"))},destroy:function(){for(var e=this.scenes.length-1;e>=0;e--){this.scenes[e].sys.destroy()}this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});module.exports=a;
},{"../utils/Class":"f5Xp","./const":"/p0Q","../utils/object/GetValue":"8Li0","../utils/NOOP":"u3ni","./Scene":"hvEm","./Systems":"/tfp"}],"OW5l":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../utils/object/Clone"),s=require("eventemitter3"),i=require("../utils/NOOP"),n=new t({Extends:s,initialize:function(t){s.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on("blur",function(){this.pauseOnBlur&&this.onBlur()},this),t.events.on("focus",function(){this.pauseOnBlur&&this.onFocus()},this),t.events.on("prestep",this.update,this),t.events.once("destroy",this.destroy,this)},add:i,addAudioSprite:function(t,s){void 0===s&&(s={});var i=this.add(t,s);for(var n in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(n)){var o=e(s),u=i.spritemap[n];o.loop=!!u.hasOwnProperty("loop")&&u.loop,i.addMarker({name:n,start:u.start,duration:u.end-u.start,config:o})}return i},play:function(t,e){var s=this.add(t);return s.once("ended",s.destroy,s),e?e.name?(s.addMarker(e),s.play(e.name)):s.play(e):s.play()},playAudioSprite:function(t,e,s){var i=this.addAudioSprite(t);return i.once("ended",i.destroy,i),i.play(e,s)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeByKey:function(t){for(var e=0,s=this.sounds.length-1;s>=0;s--){var i=this.sounds[s];i.key===t&&(i.destroy(),this.sounds.splice(s,1),e++)}return e},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit("pauseall",this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit("resumeall",this)},stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit("stopall",this)},unlock:i,onBlur:i,onFocus:i,update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit("unlocked",this));for(var s=this.sounds.length-1;s>=0;s--)this.sounds[s].pendingRemove&&this.sounds.splice(s,1);this.sounds.forEach(function(s){s.update(t,e)})},destroy:function(){this.removeAllListeners(),this.forEachActiveSound(function(t){t.destroy()}),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var s=this;this.sounds.forEach(function(i,n){i.pendingRemove||t.call(e||s,i,n,s.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit("rate",this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit("detune",this,t)}}});module.exports=n;
},{"../utils/Class":"f5Xp","../utils/object/Clone":"+lbl","eventemitter3":"LqgX","../utils/NOOP":"u3ni"}],"ea1Q":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("eventemitter3"),e=require("../utils/object/Extend"),s=require("../utils/NOOP"),n=new t({Extends:i,initialize:function(t,s,n){i.call(this),this.manager=t,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=e(this.config,n),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=e(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(this.markers[t.name]=e(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1))},removeMarker:function(t){var i=this.markers[t];return i?(this.markers[t]=null,i):null},play:function(t,i){if(void 0===t&&(t=""),"object"==typeof t&&(i=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=e(this.currentConfig,i),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,i=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.emit("destroy",this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});module.exports=n;
},{"../utils/Class":"f5Xp","eventemitter3":"LqgX","../utils/object/Extend":"Wu2m","../utils/NOOP":"u3ni"}],"JEq2":[function(require,module,exports) {
var t=require("../BaseSound"),i=require("../../utils/Class"),e=new i({Extends:t,initialize:function(i,e,s){void 0===s&&(s={}),this.tags=i.game.cache.audio.get(e),this.tags?(this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,t.call(this,i,e,s)):console.warn("Audio cache entry missing: "+e)},play:function(i,e){return!this.manager.isLocked(this,"play",[i,e])&&(!!t.prototype.play.call(this,i,e)&&(!!this.pickAndPlayAudioTag()&&(this.emit("play",this),!0)))},pause:function(){return!this.manager.isLocked(this,"pause")&&(!(this.startTime>0)&&(!!t.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit("pause",this),!0)))},resume:function(){return!this.manager.isLocked(this,"resume")&&(!(this.startTime>0)&&(!!t.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit("resume",this),!0))))},stop:function(){return!this.manager.isLocked(this,"stop")&&(!!t.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit("stop",this),!0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,i=this.currentConfig.delay,e=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=e,this.audio.currentTime=e,this.applyConfig(),0===i?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*i,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var i=this.tags[t];if("false"===i.dataset.used)return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var e=[];this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&e.push(t)},this),e.sort(function(t,i){return t.loop===i.loop?i.seek/i.duration-t.seek/t.duration:t.loop?1:-1});var s=e[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(t){console.warn(t)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){t.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,i){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var e=this.currentMarker?this.currentMarker.start:0,s=e+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=s-this.manager.loopEndOffset?(this.audio.currentTime=e+Math.max(0,r-s),r=this.audio.currentTime):r<e&&(this.audio.currentTime+=e,r=this.audio.currentTime),r<this.previousTime&&this.emit("looped",this);else if(r>=s)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit("ended",this);this.previousTime=r}},destroy:function(){t.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){t.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,"rate",t)||(this.calculateRate(),this.emit("rate",this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,"detune",t)||(this.calculateRate(),this.emit("detune",this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit("loop",this,t))}},setLoop:function(t){return this.loop=t,this}});module.exports=e;
},{"../BaseSound":"ea1Q","../../utils/Class":"f5Xp"}],"g3uG":[function(require,module,exports) {
var t=require("../BaseSoundManager"),e=require("../../utils/Class"),n=require("./HTML5AudioSound"),o=new e({Extends:t,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,t.call(this,e)},add:function(t,e){var o=new n(this,t,e);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(e,n){for(var o=0;o<n.length;o++)if("true"===n[o].dataset.locked)return t.locked=!0,!1;return!0}),this.locked){var e=!1,n=function(){e=!0},o=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",n),document.body.removeEventListener("touchend",o);var u=[];if(t.game.cache.audio.entries.each(function(t,e){for(var n=0;n<e.length;n++){var o=e[n];"true"===o.dataset.locked&&u.push(o)}return!0}),0!==u.length){var i=u[u.length-1];i.oncanplaythrough=function(){i.oncanplaythrough=null,u.forEach(function(t){t.dataset.locked="false"}),t.unlocked=!0},u.forEach(function(t){t.load()})}}};this.once("unlocked",function(){for(this.forEachActiveSound(function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration});this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}},this),document.body.addEventListener("touchmove",n,!1),document.body.addEventListener("touchend",o,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){t.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,n){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:n}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(t){t.updateMute()}),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(t){t.updateVolume()}),this.emit("volume",this,t)}}});module.exports=o;
},{"../BaseSoundManager":"OW5l","../../utils/Class":"f5Xp","./HTML5AudioSound":"JEq2"}],"lfNy":[function(require,module,exports) {
var t=require("../BaseSound"),e=require("../../utils/Class"),i=require("eventemitter3"),r=require("../../utils/object/Extend"),n=new e({Extends:i,initialize:function(t,e,n){void 0===n&&(n={}),i.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},n),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!1},updateMarker:function(t){return!1},removeMarker:function(t){return null},play:function(t,e){return!1},pause:function(){return!1},resume:function(){return!1},stop:function(){return!1},destroy:function(){this.manager.remove(this),t.prototype.destroy.call(this)}});module.exports=n;
},{"../BaseSound":"ea1Q","../../utils/Class":"f5Xp","eventemitter3":"LqgX","../../utils/object/Extend":"Wu2m"}],"TqQn":[function(require,module,exports) {
var e=require("../BaseSoundManager"),t=require("../../utils/Class"),r=require("eventemitter3"),i=require("./NoAudioSound"),u=require("../../utils/NOOP"),o=new t({Extends:r,initialize:function(e){r.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var r=new i(this,e,t);return this.sounds.push(r),r},addAudioSprite:function(e,t){var r=this.add(e,t);return r.spritemap={},r},play:function(e,t){return!1},playAudioSprite:function(e,t,r){return!1},remove:function(t){return e.prototype.remove.call(this,t)},removeByKey:function(t){return e.prototype.removeByKey.call(this,t)},pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,forEachActiveSound:function(t,r){e.prototype.forEachActiveSound.call(this,t,r)},destroy:function(){e.prototype.destroy.call(this)}});module.exports=o;
},{"../BaseSoundManager":"OW5l","../../utils/Class":"f5Xp","eventemitter3":"LqgX","./NoAudioSound":"lfNy","../../utils/NOOP":"u3ni"}],"2b3h":[function(require,module,exports) {
var t=require("../BaseSound"),e=require("../../utils/Class"),i=new e({Extends:t,initialize:function(e,i,s){void 0===s&&(s={}),this.audioBuffer=e.game.cache.audio.get(i),this.audioBuffer?(this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,t.call(this,e,i,s)):console.warn("Audio cache entry missing: "+i)},play:function(e,i){return!!t.prototype.play.call(this,e,i)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit("play",this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!t.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit("pause",this),!0))},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!t.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit("resume",this),!0))},stop:function(){return!!t.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit("stop",this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,s=(this.currentMarker?this.currentMarker.start:0)+t,o=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,s),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),t.prototype.applyConfig.call(this)},update:function(e,i){this.hasEnded?(this.hasEnded=!1,t.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit("ended",this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit("looped",this))},destroy:function(){t.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){t.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++){t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit("rate",this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit("detune",this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit("loop",this,t)}},setLoop:function(t){return this.loop=t,this}});module.exports=i;
},{"../BaseSound":"ea1Q","../../utils/Class":"f5Xp"}],"JLzA":[function(require,module,exports) {
var t=require("../BaseSoundManager"),e=require("../../utils/Class"),n=require("./WebAudioSound"),o=new e({Extends:t,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),t.call(this,e),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},add:function(t,e){var o=new n(this,t,e);return this.sounds.push(o),o},unlock:function(){var t=this,e=function(){t.context.resume().then(function(){document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e),document.body.removeEventListener("click",e),t.unlocked=!0})};document.body&&(document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1))},onBlur:function(){this.context.suspend()},onFocus:function(){this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then(function(){e.context=null})}t.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}}});module.exports=o;
},{"../BaseSoundManager":"OW5l","../../utils/Class":"f5Xp","./WebAudioSound":"2b3h"}],"um6k":[function(require,module,exports) {
var e=require("./html5/HTML5AudioSoundManager"),o=require("./noaudio/NoAudioSoundManager"),u=require("./webaudio/WebAudioSoundManager"),i={create:function(i){var d=i.config.audio,a=i.device.audio;return d&&d.noAudio||!a.webAudio&&!a.audioData?new o(i):!a.webAudio||d&&d.disableWebAudio?new e(i):new u(i)}};module.exports=i;
},{"./html5/HTML5AudioSoundManager":"g3uG","./noaudio/NoAudioSoundManager":"TqQn","./webaudio/WebAudioSoundManager":"JLzA"}],"pGwy":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/Clamp"),h=require("../utils/object/Extend"),e=new t({initialize:function(t,i,h,e,s,r,u){this.texture=t,this.name=i,this.source=t.source[h],this.sourceIndex=h,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(r,u,e,s)},setSize:function(t,i,h,e){void 0===h&&(h=0),void 0===e&&(e=0),this.cutX=h,this.cutY=e,this.cutWidth=t,this.cutHeight=i,this.width=t,this.height=i,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*i),this.centerX=Math.floor(t/2),this.centerY=Math.floor(i/2);var s=this.data,r=s.cut;r.x=h,r.y=e,r.w=t,r.h=i,r.r=h+t,r.b=e+i,s.sourceSize.w=t,s.sourceSize.h=i,s.spriteSourceSize.w=t,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(t*t+i*i);var u=s.drawImage;return u.x=h,u.y=e,u.width=t,u.height=i,this.updateUVs()},setTrim:function(t,i,h,e,s,r){var u=this.data,a=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=t,u.sourceSize.h=i,a.x=h,a.y=e,a.w=s,a.h=r,a.r=h+s,a.b=e+r,this.x=h,this.y=e,this.width=s,this.height=r,this.halfWidth=.5*s,this.halfHeight=.5*r,this.centerX=Math.floor(s/2),this.centerY=Math.floor(r/2),this.updateUVs()},setCropUVs:function(t,h,e,s,r,u,a){var c=this.cutX,o=this.cutY,n=this.cutWidth,d=this.cutHeight,g=this.realWidth,l=this.realHeight,f=c+(h=i(h,0,g)),x=o+(e=i(e,0,l)),w=s=i(s,0,g-h),v=r=i(r,0,l-e),m=this.data;if(m.trim){var p=m.spriteSourceSize,S=h+s,y=e+r;if(!(p.r<h||p.b<e||p.x>S||p.y>y)){var z=Math.max(p.x,h),M=Math.max(p.y,e),X=Math.min(p.r,S)-z,Y=Math.min(p.b,y)-M;w=X,v=Y,f=u?c+(n-(z-p.x)-X):c+(z-p.x),x=a?o+(d-(M-p.y)-Y):o+(M-p.y),h=z,e=M,s=X,r=Y}else f=0,x=0,w=0,v=0}else u&&(f=c+(n-h-s)),a&&(x=o+(d-e-r));var H=this.source.width,W=this.source.height;return t.u0=Math.max(0,f/H),t.v0=Math.max(0,x/W),t.u1=Math.min(1,(f+w)/H),t.v1=Math.min(1,(x+v)/W),t.x=h,t.y=e,t.cx=f,t.cy=x,t.cw=w,t.ch=v,t.width=s,t.height=r,t.flipX=u,t.flipY=a,t},updateCropUVs:function(t,i,h){return this.setCropUVs(t,t.x,t.y,t.width,t.height,i,h)},updateUVs:function(){var t=this.cutX,i=this.cutY,h=this.cutWidth,e=this.cutHeight,s=this.data.drawImage;s.width=h,s.height=e;var r=this.source.width,u=this.source.height;return this.u0=t/r,this.v0=i/u,this.u1=(t+h)/r,this.v1=(i+e)/u,this},updateUVsInverted:function(){var t=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/i,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var t=new e(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=h(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.texture=null,this.source=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});module.exports=e;
},{"../utils/Class":"f5Xp","../math/Clamp":"mAiE","../utils/object/Extend":"Wu2m"}],"DZQn":[function(require,module,exports) {
var e=require("../display/canvas/CanvasPool"),t=require("../utils/Class"),i=require("../math/pow2/IsSizePowerOfTwo"),r=require("../renderer/ScaleModes"),s=new t({initialize:function(e,t,s,h){var n=e.manager.game;this.renderer=n.renderer,this.texture=e,this.image=t,this.compressionAlgorithm=null,this.resolution=1,this.width=s||t.naturalWidth||t.width||0,this.height=h||t.naturalHeight||t.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isPowerOf2=i(this.width,this.height),this.glTexture=null,this.init(n)},init:function(e){this.renderer&&this.renderer.gl&&(this.isCanvas?this.glTexture=this.renderer.canvasToTexture(this.image):this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e)},update:function(){this.renderer.gl&&this.isCanvas&&this.renderer.canvasToTexture(this.image,this.glTexture)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.image=null}});module.exports=s;
},{"../display/canvas/CanvasPool":"RqeD","../utils/Class":"f5Xp","../math/pow2/IsSizePowerOfTwo":"yiju","../renderer/ScaleModes":"KOhd"}],"ZtAM":[function(require,module,exports) {
var e=require("../utils/Class"),r=require("./Frame"),t=require("./TextureSource"),s=new e({initialize:function(e,r,s,a,i){Array.isArray(s)||(s=[s]),this.manager=e,this.key=r,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<s.length;o++)this.source.push(new t(this,s[o],a,i))},add:function(e,t,s,a,i,o){var u=new r(this,e,t,s,a,i,o);return this.frames[e]=u,1===this.frameTotal&&(this.firstFrame=e),this.frameTotal++,u},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn("No Texture.frame found with name "+e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e){var r=[];for(var t in this.frames)if("__BASE"!==t){var s=this.frames[t];s.sourceIndex===e&&r.push(s.name)}return r},getFrameNames:function(e){void 0===e&&(e=!1);var r=Object.keys(this.frames);if(!e){var t=r.indexOf("__BASE");-1!==t&&r.splice(t,1)}return r},getSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn("No Texture.frame found with name "+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var r,t=this.frames[e];return t?r=t.sourceIndex:(console.warn("No Texture.frame found with name "+e),r=this.frames.__BASE.sourceIndex),this.dataSource[r].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=this.source[r];this.dataSource.push(new t(this,e[r],s.width,s.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var r in this.frames){this.frames[r].destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager=null}});module.exports=s;
},{"../utils/Class":"f5Xp","./Frame":"pGwy","./TextureSource":"DZQn"}],"G7gA":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/pow2/IsSizePowerOfTwo"),e=require("./Texture"),s=new t({Extends:e,initialize:function(t,i,s,h,r){e.call(this,t,i,s,h,r),this.add("__BASE",0,0,0,h,r),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=h,this.height=r},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this},setSize:function(t,e){return void 0===e&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=i(t,e),this.frames.__BASE.setSize(t,e,0,0),this.refresh()),this}});module.exports=s;
},{"../utils/Class":"f5Xp","../math/pow2/IsSizePowerOfTwo":"yiju","./Texture":"ZtAM"}],"c+Yr":[function(require,module,exports) {
var e=function(e,a,t){if(t.getElementsByTagName("TextureAtlas")){var r=e.source[a];e.add("__BASE",a,0,0,r.width,r.height);for(var n,s=t.getElementsByTagName("SubTexture"),u=0;u<s.length;u++){var l=s[u].attributes,v=l.name.value,i=parseInt(l.x.value,10),m=parseInt(l.y.value,10),h=parseInt(l.width.value,10),d=parseInt(l.height.value,10);if(n=e.add(v,a,i,m,h,d),l.frameX){var f=Math.abs(parseInt(l.frameX.value,10)),g=Math.abs(parseInt(l.frameY.value,10)),p=parseInt(l.frameWidth.value,10),I=parseInt(l.frameHeight.value,10);n.setTrim(h,d,f,g,p,I)}}return e}console.warn("Invalid Texture Atlas XML given")};module.exports=e;
},{}],"hqKG":[function(require,module,exports) {
var r=function(r,e){var t=r.source[e];return r.add("__BASE",e,0,0,t.width,t.height),r};module.exports=r;
},{}],"EYc3":[function(require,module,exports) {
var r=require("../../utils/object/Clone"),e=function(e,t,a){if(a.frames||a.textures){var o=e.source[t];e.add("__BASE",t,0,0,o.width,o.height);for(var i,s=Array.isArray(a.textures)?a.textures[t].frames:a.frames,u=0;u<s.length;u++){var c=s[u];i=e.add(c.filename,t,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&i.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(i.rotated=!0,i.updateUVsInverted()),c.anchor&&(i.customPivot=!0,i.pivotX=c.anchor.x,i.pivotY=c.anchor.y),i.customData=r(c)}for(var m in a)"frames"!==m&&(Array.isArray(a[m])?e.customData[m]=a[m].slice(0):e.customData[m]=a[m]);return e}console.warn("Invalid Texture Atlas JSON Array")};module.exports=e;
},{"../../utils/object/Clone":"+lbl"}],"RI+V":[function(require,module,exports) {
var e=require("../../utils/object/Clone"),r=function(r,a,t){if(t.frames){var i=r.source[a];r.add("__BASE",a,0,0,i.width,i.height);var s,o=t.frames;for(var u in o){var m=o[u];s=r.add(u,a,m.frame.x,m.frame.y,m.frame.w,m.frame.h),m.trimmed&&s.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(s.rotated=!0,s.updateUVsInverted()),s.customData=e(m)}for(var c in t)"frames"!==c&&(Array.isArray(t[c])?r.customData[c]=t[c].slice(0):r.customData[c]=t[c]);return r}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")};module.exports=r;
},{"../../utils/object/Clone":"+lbl"}],"Y3Qp":[function(require,module,exports) {
var r=require("../../utils/object/GetFastValue"),e=function(e,a,t,i,n,o,l){var d=r(l,"frameWidth",null),h=r(l,"frameHeight",d);if(null===d)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var s=e.source[a];e.add("__BASE",a,0,0,s.width,s.height);var u=r(l,"startFrame",0),f=r(l,"endFrame",-1),m=r(l,"margin",0),v=r(l,"spacing",0),g=Math.floor((n-m+v)/(d+v))*Math.floor((o-m+v)/(h+v));0===g&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(u>g||u<-g)&&(u=0),u<0&&(u=g+u),-1!==f&&(g=u+(f+1));for(var c=m,w=m,S=0,p=0,F=0;F<g;F++){S=0,p=0;var M=c+d,x=w+h;M>n&&(S=M-n),x>o&&(p=x-o),e.add(F,a,t+c,i+w,d-S,h-p),(c+=d+v)+d>n&&(c=m,w+=h+v)}return e};module.exports=e;
},{"../../utils/object/GetFastValue":"SgIk"}],"4gHN":[function(require,module,exports) {
var r=require("../../utils/object/GetFastValue"),t=function(t,e,a){var i=r(a,"frameWidth",null),u=r(a,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o,h=r(a,"startFrame",0),n=r(a,"endFrame",-1),d=r(a,"margin",0),l=r(a,"spacing",0),c=e.cutX,f=e.cutY,m=e.cutWidth,v=e.cutHeight,g=e.realWidth,s=e.realHeight,W=Math.floor((g-d+l)/(i+l)),x=Math.floor((s-d+l)/(u+l)),F=W*x,H=e.x,p=i-H,M=i-(g-m-H),w=e.y,I=u-w,S=u-(s-v-w);(h>F||h<-F)&&(h=0),h<0&&(h=F+h),-1!==n&&(F=h+(n+1));for(var T=d,b=d,j=0,q=e.sourceIndex,y=0;y<x;y++){for(var A=0===y,E=y===x-1,G=0;G<W;G++){var V=0===G,X=G===W-1;if(o=t.add(j,q,c+T,f+b,i,u),V||A||X||E){var Y=V?H:0,k=A?w:0,z=i,B=u;V?z=p:X&&(z=M),A?B=I:E&&(B=S),o.cutWidth=z,o.cutHeight=B,o.setTrim(i,u,Y,k,z,B)}T+=l,T+=V?p:X||i,j++}T=d,b+=l,b+=A?I:E?S:u}return t};module.exports=t;
},{"../../utils/object/GetFastValue":"SgIk"}],"1qXf":[function(require,module,exports) {
var h=0,t=function(t,e,i,a){var r=h-a.y-a.height;t.add(i,e,a.x,r,a.width,a.height)},e=function(e,i,a){var r=e.source[i];e.add("__BASE",i,0,0,r.width,r.height),h=r.height;for(var d=a.split("\n"),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",n="",g={x:0,y:0,width:0,height:0},w=0;w<d.length;w++){var o=d[w].match(s);if(o){var v="- "===o[1],f=o[2],u=o[3];if(v&&(n!==c&&(t(e,i,n,g),c=n),g={x:0,y:0,width:0,height:0}),"name"!==f)switch(f){case"x":case"y":case"width":case"height":g[f]=parseInt(u,10)}else n=u}}return n!==c&&t(e,i,n,g),e};module.exports=e;
},{}],"bc5u":[function(require,module,exports) {
module.exports={AtlasXML:require("./AtlasXML"),Canvas:require("./Canvas"),Image:require("./Image"),JSONArray:require("./JSONArray"),JSONHash:require("./JSONHash"),SpriteSheet:require("./SpriteSheet"),SpriteSheetFromAtlas:require("./SpriteSheetFromAtlas"),UnityYAML:require("./UnityYAML")};
},{"./AtlasXML":"c+Yr","./Canvas":"hqKG","./Image":"hqKG","./JSONArray":"EYc3","./JSONHash":"RI+V","./SpriteSheet":"Y3Qp","./SpriteSheetFromAtlas":"4gHN","./UnityYAML":"1qXf"}],"ToH2":[function(require,module,exports) {
var t=require("../display/canvas/CanvasPool"),e=require("./CanvasTexture"),i=require("../utils/Class"),r=require("../display/color/Color"),a=require("../const"),s=require("eventemitter3"),n=require("../create/GenerateTexture"),h=require("../utils/object/GetValue"),u=require("./parsers"),o=require("./Texture"),c=new i({Extends:s,initialize:function(e){s.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=t.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,e.events.once("boot",this.boot,this)},boot:function(){this._pending=2,this.on("onload",this.updatePending,this),this.on("onerror",this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once("destroy",this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off("onload"),this.off("onerror"),this.game.events.emit("ready"))},checkKey:function(t){return!this.exists(t)||(console.error("Texture key already in use: "+t),!1)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return console.warn("No texture found matching key: "+t),this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(delete this.list[t.key],t.destroy(),this.emit("removetexture",t.key)),this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,r=new Image;r.onerror=function(){i.emit("onerror",t)},r.onload=function(){var e=i.create(t,r);u.Image(e,0),i.emit("addtexture",t,e),i.emit("onload",t,e)},r.src=e}},addImage:function(t,e,i){var r=null;return this.checkKey(t)&&(r=this.create(t,e),u.Image(r,0),i&&r.setDataSource(i),this.emit("addtexture",t,r)),r},generate:function(e,i){if(this.checkKey(e)){var r=t.create(this,1,1);return i.canvas=r,n(i),this.addCanvas(e,r)}return null},createCanvas:function(e,i,r){if(void 0===i&&(i=256),void 0===r&&(r=256),this.checkKey(e)){var s=t.create(this,i,r,a.CANVAS,!0);return this.addCanvas(e,s)}return null},addCanvas:function(t,i){var r=null;return this.checkKey(t)&&(r=new e(this,t,i,i.width,i.height),this.list[t]=r,this.emit("addtexture",t,r)),r},addAtlas:function(t,e,i,r){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,r):this.addAtlasJSONHash(t,e,i,r)},addAtlasJSONArray:function(t,e,i,r){var a=null;if(this.checkKey(t)){if(a=this.create(t,e),Array.isArray(i))for(var s=1===i.length,n=0;n<a.source.length;n++){var h=s?i[0]:i[n];u.JSONArray(a,n,h)}else u.JSONArray(a,0,i);r&&a.setDataSource(r),this.emit("addtexture",t,a)}return a},addAtlasJSONHash:function(t,e,i,r){var a=null;if(this.checkKey(t)){if(a=this.create(t,e),Array.isArray(i))for(var s=0;s<i.length;s++)u.JSONHash(a,s,i[s]);else u.JSONHash(a,0,i);r&&a.setDataSource(r),this.emit("addtexture",t,a)}return a},addAtlasXML:function(t,e,i,r){var a=null;return this.checkKey(t)&&(a=this.create(t,e),u.AtlasXML(a,0,i),r&&a.setDataSource(r),this.emit("addtexture",t,a)),a},addUnityAtlas:function(t,e,i,r){var a=null;return this.checkKey(t)&&(a=this.create(t,e),u.UnityYAML(a,0,i),r&&a.setDataSource(r),this.emit("addtexture",t,a)),a},addSpriteSheet:function(t,e,i){var r=null;if(this.checkKey(t)){var a=(r=this.create(t,e)).source[0].width,s=r.source[0].height;u.SpriteSheet(r,0,0,0,a,s,i),this.emit("addtexture",t,r)}return r},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=h(e,"atlas",null),r=h(e,"frame",null);if(i&&r){var a=this.get(i).get(r);if(a){var s=this.create(t,a.source.image);return a.trimmed?u.SpriteSheetFromAtlas(s,a,e):u.SpriteSheet(s,0,a.cutX,a.cutY,a.cutWidth,a.cutHeight,e),this.emit("addtexture",t,s),s}}},create:function(t,e,i,r){var a=null;return this.checkKey(t)&&(a=new o(this,t,e,i,r),this.list[t]=a),a},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&t.push(e);return t},getPixel:function(t,e,i,a){var s=this.getFrame(i,a);if(s){var n=s.source.image;if(t>=0&&t<=n.width&&e>=0&&e<=n.height){t+=s.cutX,e+=s.cutY;var h=this._tempContext;h.clearRect(0,0,1,1),h.drawImage(n,t,e,1,1,0,0,1,1);var u=h.getImageData(0,0,1,1);return new r(u.data[0],u.data[1],u.data[2],u.data[3])}}return null},getPixelAlpha:function(t,e,i,r){var a=this.getFrame(i,r);if(a){var s=a.source.image;if(t>=0&&t<=s.width&&e>=0&&e<=s.height){t+=a.cutX,e+=a.cutY;var n=this._tempContext;return n.clearRect(0,0,1,1),n.drawImage(s,t,e,1,1,0,0,1,1),n.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var a in this.list)i[0]=this.list[a],t.apply(e,i)},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.game=null,t.remove(this._tempCanvas)}});module.exports=c;
},{"../display/canvas/CanvasPool":"RqeD","./CanvasTexture":"G7gA","../utils/Class":"f5Xp","../display/color/Color":"3X4+","../const":"rdvC","eventemitter3":"LqgX","../create/GenerateTexture":"fGhY","../utils/object/GetValue":"8Li0","./parsers":"bc5u","./Texture":"ZtAM"}],"lrxt":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../utils/object/GetValue"),s=require("../utils/NOOP"),e=require("../dom/RequestAnimationFrame"),h=new t({initialize:function(t,h){this.game=t,this.raf=new e,this.started=!1,this.running=!1,this.minFps=i(h,"min",5),this.targetFps=i(h,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=i(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=i(h,"deltaHistory",10),this.panicMax=i(h,"panicMax",120),this.rawDelta=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.frame=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut)},step:function(t){this.frame++;var i=t-this.lastTime;i<0&&(i=0),this.rawDelta=i;var s=this.deltaIndex,e=this.deltaHistory,h=this.deltaSmoothingMax,a=i;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=e[s],a=Math.min(a,this._min)),e[s]=a,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0);for(var n=0,r=0;r<h;r++)n+=e[r];n/=h,this.delta=n,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var o=n/this._target;this.callback(t,n,o),this.lastTime=t},tick:function(){this.step(window.performance.now())},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime=window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step(window.performance.now())},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});module.exports=h;
},{"../utils/Class":"f5Xp","../utils/object/GetValue":"8Li0","../utils/NOOP":"u3ni","../dom/RequestAnimationFrame":"ZRVG"}],"IO89":[function(require,module,exports) {
var n=function(n){var o,e=n.events;if(void 0!==document.hidden)o="visibilitychange";else{["webkit","moz","ms"].forEach(function(n){void 0!==document[n+"Hidden"]&&(document.hidden=function(){return document[n+"Hidden"]},o=n+"visibilitychange")})}o&&document.addEventListener(o,function(n){document.hidden||"pause"===n.type?e.emit("hidden"):e.emit("visible")},!1),window.onblur=function(){e.emit("blur")},window.onfocus=function(){e.emit("focus")},window.focus&&n.config.autoFocus&&(window.focus(),n.canvas.addEventListener("mousedown",function(){window.focus()},{passive:!0})),n.canvas&&(n.canvas.onmouseout=function(){n.isOver=!1,e.emit("mouseout")},n.canvas.onmouseover=function(){n.isOver=!0,e.emit("mouseover")})};module.exports=n;
},{}],"IdKo":[function(require,module,exports) {
var e=require("../dom/AddToDOM"),t=require("../animations/AnimationManager"),i=require("../cache/CacheManager"),s=require("../display/canvas/CanvasPool"),n=require("../utils/Class"),r=require("./Config"),h=require("./CreateRenderer"),o=require("../data/DataManager"),a=require("./DebugHeader"),u=require("../device"),d=require("../dom/DOMContentLoaded"),c=require("eventemitter3"),p=require("../input/InputManager"),v=require("../plugins/PluginManager"),l=require("../scene/SceneManager"),g=require("../sound/SoundManagerCreator"),m=require("../textures/TextureManager"),f=require("./TimeStep"),q=require("./VisibilityHandler"),y=new n({initialize:function(e){this.config=new r(e),this.renderer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new c,this.anims=new t(this),this.textures=new m(this),this.cache=new i(this),this.registry=new o(this),this.input=new p(this,this.config),this.scene=new l(this,this.config.sceneConfig),this.device=u,this.sound=g.create(this),this.loop=new f(this,this.config.fps),this.plugins=new v(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.hasFocus=!1,this.isOver=!0,d(this.boot.bind(this))},boot:function(){this.isBooted=!0,this.config.preBoot(this),h(this),a(this),e(this.canvas,this.config.parent),this.events.emit("boot"),this.events.once("ready",this.start,this)},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),q(this);var e=this.events;e.on("hidden",this.onHidden,this),e.on("visible",this.onVisible,this),e.on("blur",this.onBlur,this),e.on("focus",this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit("prestep",e,t),i.emit("step",e,t),this.scene.update(e,t),i.emit("poststep",e,t);var s=this.renderer;s.preRender(),i.emit("prerender",s,e,t),this.scene.render(s),s.postRender(),i.emit("postrender",s,e,t)},headlessStep:function(e,t){var i=this.events;i.emit("prestep",e,t),i.emit("step",e,t),this.scene.update(e,t),i.emit("poststep",e,t),i.emit("prerender"),i.emit("postrender")},onHidden:function(){this.loop.pause(),this.events.emit("pause")},onVisible:function(){this.loop.resume(),this.events.emit("resume")},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},resize:function(e,t){this.config.width=e,this.config.height=t,this.renderer.resize(e,t),this.input.resize(),this.scene.resize(e,t),this.events.emit("resize",e,t)},destroy:function(e){this.pendingDestroy=!0,this.removeCanvas=e},runDestroy:function(){this.events.emit("destroy"),this.events.removeAllListeners(),this.scene.destroy(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.loop.destroy(),this.pendingDestroy=!1}});module.exports=y;
},{"../dom/AddToDOM":"cgN6","../animations/AnimationManager":"uXZC","../cache/CacheManager":"YE+3","../display/canvas/CanvasPool":"RqeD","../utils/Class":"f5Xp","./Config":"wgDX","./CreateRenderer":"AjQr","../data/DataManager":"Mp8L","./DebugHeader":"xsbv","../device":"RNfY","../dom/DOMContentLoaded":"HjkB","eventemitter3":"LqgX","../input/InputManager":"NxIj","../plugins/PluginManager":"QaVA","../scene/SceneManager":"wBsC","../sound/SoundManagerCreator":"um6k","../textures/TextureManager":"ToH2","./TimeStep":"lrxt","./VisibilityHandler":"IO89"}],"jYPU":[function(require,module,exports) {
var r=function(r){if(!Array.isArray(r)||r.length<2||!Array.isArray(r[0]))return!1;for(var e=r[0].length,n=1;n<r.length;n++)if(r[n].length!==e)return!1;return!0};module.exports=r;
},{}],"UN7m":[function(require,module,exports) {
var r=require("../../string/Pad"),e=require("./CheckMatrix"),n=function(n){var t="";if(!e(n))return t;for(var i=0;i<n.length;i++){for(var a=0;a<n[i].length;a++){var g=n[i][a].toString();t+="undefined"!==g?r(g,2):"?",a<n[i].length-1&&(t+=" |")}if(i<n.length-1){t+="\n";for(var f=0;f<n[i].length;f++)t+="---",f<n[i].length-1&&(t+="+");t+="\n"}}return t};module.exports=n;
},{"../../string/Pad":"TaNK","./CheckMatrix":"jYPU"}],"mEK3":[function(require,module,exports) {
var r=function(r){for(var e=0;e<r.length;e++)r[e].reverse();return r};module.exports=r;
},{}],"MPz4":[function(require,module,exports) {
var e=function(e){return e.reverse()};module.exports=e;
},{}],"KzFO":[function(require,module,exports) {
var r=function(r){for(var e=r.length,n=r[0].length,a=new Array(n),o=0;o<n;o++){a[o]=new Array(e);for(var t=e-1;t>-1;t--)a[o][t]=r[t][o]}return a};module.exports=r;
},{}],"Uqsk":[function(require,module,exports) {
var e=require("./CheckMatrix"),r=require("./TransposeMatrix"),t=function(t,i){if(void 0===i&&(i=90),!e(t))return null;if("string"!=typeof i&&(i=(i%360+360)%360),90===i||-270===i||"rotateLeft"===i)(t=r(t)).reverse();else if(-90===i||270===i||"rotateRight"===i)t.reverse(),t=r(t);else if(180===Math.abs(i)||"rotate180"===i){for(var s=0;s<t.length;s++)t[s].reverse();t.reverse()}return t};module.exports=t;
},{"./CheckMatrix":"jYPU","./TransposeMatrix":"KzFO"}],"GRDv":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,180)};module.exports=e;
},{"./RotateMatrix":"Uqsk"}],"EeGM":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,90)};module.exports=e;
},{"./RotateMatrix":"Uqsk"}],"uHtS":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,-90)};module.exports=e;
},{"./RotateMatrix":"Uqsk"}],"lf39":[function(require,module,exports) {
module.exports={CheckMatrix:require("./CheckMatrix"),MatrixToString:require("./MatrixToString"),ReverseColumns:require("./ReverseColumns"),ReverseRows:require("./ReverseRows"),Rotate180:require("./Rotate180"),RotateLeft:require("./RotateLeft"),RotateMatrix:require("./RotateMatrix"),RotateRight:require("./RotateRight"),TransposeMatrix:require("./TransposeMatrix")};
},{"./CheckMatrix":"jYPU","./MatrixToString":"UN7m","./ReverseColumns":"mEK3","./ReverseRows":"MPz4","./Rotate180":"GRDv","./RotateLeft":"EeGM","./RotateMatrix":"Uqsk","./RotateRight":"uHtS","./TransposeMatrix":"KzFO"}],"z88W":[function(require,module,exports) {
var r=function(r,l,n,e,u){if(void 0===u&&(u=r),n>0){var i=n-r.length;if(i<=0)return null}if(!Array.isArray(l))return-1===r.indexOf(l)?(r.push(l),e&&e.call(u,l),l):null;for(var a=l.length-1;a>=0;)-1!==r.indexOf(l[a])&&l.pop(),a--;if(0===(a=l.length))return null;n>0&&a>i&&(l.splice(i),a=i);for(var f=0;f<a;f++){var t=l[f];r.push(t),e&&e.call(u,t)}return l};module.exports=r;
},{}],"1nuN":[function(require,module,exports) {
var r=function(r,l,e,n,i,a){if(void 0===e&&(e=0),void 0===a&&(a=r),n>0){var f=n-r.length;if(f<=0)return null}if(!Array.isArray(l))return-1===r.indexOf(l)?(r.splice(e,0,l),i&&i.call(a,l),l):null;for(var t=l.length-1;t>=0;)-1!==r.indexOf(l[t])&&l.pop(),t--;if(0===(t=l.length))return null;n>0&&t>f&&(l.splice(f),t=f);for(var u=t-1;u>=0;u--){var o=l[u];r.splice(e,0,o),i&&i.call(a,o)}return l};module.exports=r;
},{}],"lUqG":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);return-1!==r&&r<e.length&&(e.splice(r,1),e.push(n)),n};module.exports=e;
},{}],"Xg3C":[function(require,module,exports) {
var r=function(r,e,n,t){var a=r.length;if(e<0||e>a||e>=n||n>a||e+n>a){if(t)throw new Error("Range Error: Values outside acceptable range");return!1}return!0};module.exports=r;
},{}],"Ssxi":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,a,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length);var v=0;if(r(e,i,n))for(var f=i;f<n;f++){e[f][o]===a&&v++}return v};module.exports=e;
},{"./SafeRange":"Xg3C"}],"AoCO":[function(require,module,exports) {
var r=function(r,l,n){var e,o=[null];for(e=3;e<arguments.length;e++)o.push(arguments[e]);for(e=0;e<r.length;e++)o[0]=r[e],l.apply(n,o);return r};module.exports=r;
},{}],"cQ/U":[function(require,module,exports) {
var e=require("./SafeRange"),r=function(r,n,o,l,u){if(void 0===l&&(l=0),void 0===u&&(u=r.length),e(r,l,u)){var a,f=[null];for(a=5;a<arguments.length;a++)f.push(arguments[a]);for(a=l;a<u;a++)f[0]=r[a],n.apply(o,f)}return r};module.exports=r;
},{"./SafeRange":"Xg3C"}],"NNYd":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,v,a,i){void 0===a&&(a=0),void 0===i&&(i=e.length);var n=[];if(r(e,a,i))for(var d=a;d<i;d++){var t=e[d];(!o||o&&void 0===v&&t.hasOwnProperty(o)||o&&void 0!==v&&t[o]===v)&&n.push(t)}return n};module.exports=e;
},{"./SafeRange":"Xg3C"}],"+Yyp":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,i,n,v){if(void 0===n&&(n=0),void 0===v&&(v=e.length),r(e,n,v))for(var a=n;a<v;a++){var t=e[a];if(!o||o&&void 0===i&&t.hasOwnProperty(o)||o&&void 0!==i&&t[o]===i)return t}return null};module.exports=e;
},{"./SafeRange":"Xg3C"}],"UJIq":[function(require,module,exports) {
var o=function(o,r,n){void 0===r&&(r=0),void 0===n&&(n=o.length);var t=r+Math.floor(Math.random()*n);return void 0===o[t]?null:o[t]};module.exports=o;
},{}],"U0WY":[function(require,module,exports) {
var r=function(r,e){var n=r.indexOf(e);if(n>0){var f=r[n-1],i=r.indexOf(f);r[n]=f,r[i]=e}return r};module.exports=r;
},{}],"KXQA":[function(require,module,exports) {
var e=function(e,r,n){var o=e.indexOf(r);if(-1===o||n<0||n>=e.length)throw new Error("Supplied index out of bounds");return o!==n&&(e.splice(o,1),e.splice(n,0,r)),r};module.exports=e;
},{}],"gy7L":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);if(-1!==r&&r<e.length-2){var f=e[r+1],i=e.indexOf(f);e[r]=f,e[i]=n}return e};module.exports=e;
},{}],"+rov":[function(require,module,exports) {
var r=function(r,t,o,n){for(var e=[],u=r;u<=t;u++)if(o||n){var a=o?o+u.toString():u.toString();n&&(a=a.concat(n)),e.push(a)}else e.push(u);return e};module.exports=r;
},{}],"oiOd":[function(require,module,exports) {
var o=function(o){return o>0?Math.ceil(o):Math.floor(o)};module.exports=o;
},{}],"+HRr":[function(require,module,exports) {
var o=require("../../math/RoundAwayFromZero"),r=function(r,u,a){void 0===r&&(r=0),void 0===u&&(u=null),void 0===a&&(a=1),null===u&&(u=r,r=0);for(var e=[],n=Math.max(o((u-r)/(a||1)),0),d=0;d<n;d++)e.push(r),r+=a;return e};module.exports=r;
},{"../../math/RoundAwayFromZero":"oiOd"}],"B0BC":[function(require,module,exports) {
var o=function(a,f,n,h,M){for(n=n||0,h=h||a.length-1,M=M||t;h>n;){if(h-n>600){var e=h-n+1,i=f-n+1,l=Math.log(e),u=.5*Math.exp(2*l/3),v=.5*Math.sqrt(l*u*(e-u)/e)*(i-e/2<0?-1:1),c=Math.max(n,Math.floor(f-i*u/e+v)),m=Math.min(h,Math.floor(f+(e-i)*u/e+v));o(a,f,c,m,M)}var x=a[f],g=n,p=h;for(r(a,n,f),M(a[h],x)>0&&r(a,n,h);g<p;){for(r(a,g,p),g++,p--;M(a[g],x)<0;)g++;for(;M(a[p],x)>0;)p--}0===M(a[n],x)?r(a,n,p):r(a,++p,h),p<=f&&(n=p+1),f<=p&&(h=p-1)}};function r(o,r,t){var a=o[r];o[r]=o[t],o[t]=a}function t(o,r){return o<r?-1:o>r?1:0}module.exports=o;
},{}],"wm95":[function(require,module,exports) {
var r=require("../object/GetValue"),e=require("./Shuffle"),a=function(r,e,a){for(var t=[],o=0;o<r.length;o++)for(var n=0;n<e.length;n++)for(var f=0;f<a;f++)t.push({a:r[o],b:e[n]});return t},t=function(t,o,n){var f=r(n,"max",0),l=r(n,"qty",1),u=r(n,"random",!1),c=r(n,"randomB",!1),v=r(n,"repeat",0),i=r(n,"yoyo",!1),h=[];if(c&&e(o),-1===v)if(0===f)v=0;else{var s=t.length*o.length*l;i&&(s*=2),v=Math.ceil(f/s)}for(var g=0;g<=v;g++){var m=a(t,o,l);u&&e(m),h=h.concat(m),i&&(m.reverse(),h=h.concat(m))}return f&&h.splice(f),h};module.exports=t;
},{"../object/GetValue":"8Li0","./Shuffle":"c0Vz"}],"Thck":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,o,n,t){if(void 0===t&&(t=e),o<0||o>e.length-1)throw new Error("Index out of bounds");var u=r(e,o);return n&&n.call(t,u),u};module.exports=e;
},{"./SpliceOne":"sV1O"}],"G46r":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,i,a,n,o){if(void 0===i&&(i=0),void 0===a&&(a=e.length),void 0===o&&(o=e),r(e,i,a)){var v=a-i,l=e.splice(i,v);if(n)for(var t=0;t<l.length;t++){var f=l[t];n.call(o,f)}return l}return[]};module.exports=e;
},{"./SafeRange":"Xg3C"}],"a0+N":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,o,n){void 0===o&&(o=0),void 0===n&&(n=e.length);var t=o+Math.floor(Math.random()*n);return r(e,t)};module.exports=e;
},{"./SpliceOne":"sV1O"}],"Nz7Q":[function(require,module,exports) {
var e=function(e,n,r){var d=e.indexOf(n),f=e.indexOf(r);return-1!==d&&-1===f&&(e[d]=r,!0)};module.exports=e;
},{}],"sFXZ":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);return-1!==r&&r>0&&(e.splice(r,1),e.unshift(n)),n};module.exports=e;
},{}],"4xhW":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,a,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),r(e,n,i))for(var t=n;t<i;t++){var v=e[t];v.hasOwnProperty(o)&&(v[o]=a)}return e};module.exports=e;
},{"./SafeRange":"Xg3C"}],"jOv0":[function(require,module,exports) {
!function(){var n=function(n,r){return e(n.slice(),r)};function e(n,e){"function"!=typeof e&&(e=function(n,e){return String(n).localeCompare(e)});var t=n.length;if(t<=1)return n;for(var o=new Array(t),f=1;f<t;f*=2){r(n,e,f,o);var i=n;n=o,o=i}return n}n.inplace=function(n,t){var o=e(n,t);return o!==n&&r(o,null,n.length,n),n};var r=function(n,e,r,t){var o,f,i,u,l,a=n.length,c=0,v=2*r;for(o=0;o<a;o+=v)for(i=(f=o+r)+r,f>a&&(f=a),i>a&&(i=a),u=o,l=f;;)if(u<f&&l<i)e(n[u],n[l])<=0?t[c++]=n[u++]:t[c++]=n[l++];else if(u<f)t[c++]=n[u++];else{if(!(l<i))break;t[c++]=n[l++]}};"undefined"!=typeof module?module.exports=n:window.stable=n}();
},{}],"eu7h":[function(require,module,exports) {
var e=function(e,r,t){if(r!==t){var i=e.indexOf(r),n=e.indexOf(t);if(i<0||n<0)throw new Error("Supplied items must be elements of the same array");return e[i]=t,e[n]=r,e}};module.exports=e;
},{}],"u4B5":[function(require,module,exports) {
module.exports={Matrix:require("./matrix"),Add:require("./Add"),AddAt:require("./AddAt"),BringToTop:require("./BringToTop"),CountAllMatching:require("./CountAllMatching"),Each:require("./Each"),EachInRange:require("./EachInRange"),FindClosestInSorted:require("./FindClosestInSorted"),GetAll:require("./GetAll"),GetFirst:require("./GetFirst"),GetRandom:require("./GetRandom"),MoveDown:require("./MoveDown"),MoveTo:require("./MoveTo"),MoveUp:require("./MoveUp"),NumberArray:require("./NumberArray"),NumberArrayStep:require("./NumberArrayStep"),QuickSelect:require("./QuickSelect"),Range:require("./Range"),Remove:require("./Remove"),RemoveAt:require("./RemoveAt"),RemoveBetween:require("./RemoveBetween"),RemoveRandomElement:require("./RemoveRandomElement"),Replace:require("./Replace"),RotateLeft:require("./RotateLeft"),RotateRight:require("./RotateRight"),SafeRange:require("./SafeRange"),SendToBack:require("./SendToBack"),SetAll:require("./SetAll"),Shuffle:require("./Shuffle"),SpliceOne:require("./SpliceOne"),StableSort:require("./StableSort"),Swap:require("./Swap")};
},{"./matrix":"lf39","./Add":"z88W","./AddAt":"1nuN","./BringToTop":"lUqG","./CountAllMatching":"Ssxi","./Each":"AoCO","./EachInRange":"cQ/U","./FindClosestInSorted":"c+o/","./GetAll":"NNYd","./GetFirst":"+Yyp","./GetRandom":"UJIq","./MoveDown":"U0WY","./MoveTo":"KXQA","./MoveUp":"gy7L","./NumberArray":"+rov","./NumberArrayStep":"+HRr","./QuickSelect":"B0BC","./Range":"wm95","./Remove":"Kg63","./RemoveAt":"Thck","./RemoveBetween":"G46r","./RemoveRandomElement":"a0+N","./Replace":"Nz7Q","./RotateLeft":"ITan","./RotateRight":"6zEC","./SafeRange":"Xg3C","./SendToBack":"sFXZ","./SetAll":"4xhW","./Shuffle":"c0Vz","./SpliceOne":"sV1O","./StableSort":"jOv0","./Swap":"eu7h"}],"volj":[function(require,module,exports) {
var t=require("../utils/array"),i=require("../utils/Class"),s=require("../utils/NOOP"),e=require("../utils/array/StableSort"),n=new i({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(i,s){return s?t.Add(this.list,i):t.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,s,e){return e?t.AddAt(this.list,i,s):t.AddAt(this.list,i,s,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t){return t&&(this._sortKey=t,e.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,i){return t[this._sortKey]-i[this._sortKey]},getByName:function(i){return t.GetFirst(this.list,"name",i)},getRandom:function(i,s){return t.GetRandom(this.list,i,s)},getFirst:function(i,s,e,n){return t.GetFirstElement(this.list,i,s,e,n)},getAll:function(i,s,e,n){return t.GetAll(this.list,i,s,e,n)},count:function(i,s){return t.CountAllMatching(this.list,i,s)},swap:function(i,s){t.Swap(this.list,i,s)},moveTo:function(i,s){return t.MoveTo(this.list,i,s)},remove:function(i,s){return s?t.Remove(this.list,i):t.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,s){return s?t.RemoveAt(this.list,i):t.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,s,e){return e?t.RemoveBetween(this.list,i,s):t.RemoveBetween(this.list,i,s,this.removeCallback,this)},removeAll:function(t){for(var i=this.list.length;i--;)this.remove(this.list[i],t);return this},bringToTop:function(i){return t.BringToTop(this.list,i)},sendToBack:function(i){return t.SendToBack(this.list,i)},moveUp:function(i){return t.MoveUp(this.list,i),i},moveDown:function(i){return t.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return t.Shuffle(this.list),this},replace:function(i,s){return t.Replace(this.list,i,s)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(i,s,e,n){return t.SetAll(this.list,i,s,e,n),this},each:function(t,i){for(var s=[null],e=2;e<arguments.length;e++)s.push(arguments[e]);for(e=0;e<this.list.length;e++)s[0]=this.list[e],t.apply(i,s)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});module.exports=n;
},{"../utils/array":"u4B5","../utils/Class":"f5Xp","../utils/NOOP":"u3ni","../utils/array/StableSort":"jOv0"}],"j76U":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("../structs/List"),e=require("../plugins/PluginCache"),i=require("../utils/array/StableSort"),n=new t({Extends:s,initialize:function(t){s.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,s){return t._depth-s._depth},sortGameObjects:function(t){return void 0===t&&(t=this.list),this.scene.sys.depthSort(),t.sort(this.sortIndexHandler.bind(this))},getTopGameObject:function(t){return this.sortGameObjects(t),t[t.length-1]},shutdown:function(){this.removeAll(),this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});e.register("DisplayList",n,"displayList"),module.exports=n;
},{"../utils/Class":"f5Xp","../structs/List":"volj","../plugins/PluginCache":"sYlk","../utils/array/StableSort":"jOv0"}],"wa3w":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("../plugins/PluginCache"),i=new t({initialize:function(t){this.scene=t,this.systems=t.sys,this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},add:function(t){return-1===this._list.indexOf(t)&&-1===this._pendingInsertion.indexOf(t)&&this._pendingInsertion.push(t),t},preUpdate:function(){var t=this._pendingRemoval.length,s=this._pendingInsertion.length;if(0!==t||0!==s){var i,e;for(i=0;i<t;i++){e=this._pendingRemoval[i];var n=this._list.indexOf(e);n>-1&&this._list.splice(n,1)}this._list=this._list.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,s){for(var i=0;i<this._list.length;i++){var e=this._list[i];e.active&&e.preUpdate.call(e,t,s)}},remove:function(t){var s=this._list.indexOf(t);return-1!==s&&this._list.splice(s,1),t},removeAll:function(){for(var t=this._list.length;t--;)this.remove(this._list[t]);return this},shutdown:function(){this.removeAll(),this._list.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off("preupdate",this.preUpdate,this),t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null},length:{get:function(){return this._list.length}}});s.register("UpdateList",i,"updateList"),module.exports=i;
},{"../utils/Class":"f5Xp","../plugins/PluginCache":"sYlk"}],"Isbx":[function(require,module,exports) {
var r=require("../../math/const"),n=require("./GetValue"),e=function(e,t,a){var u=n(e,t,null);if(null===u)return a;if(Array.isArray(u))return r.RND.pick(u);if("object"==typeof u){if(u.hasOwnProperty("randInt"))return r.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return r.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if("function"==typeof u)return u(t);return u};module.exports=e;
},{"../../math/const":"fj5M","./GetValue":"8Li0"}],"FGAx":[function(require,module,exports) {
var e=require("../renderer/BlendModes"),l=require("../utils/object/GetAdvancedValue"),r=require("../renderer/ScaleModes"),a=function(a,n,t){n.x=l(t,"x",0),n.y=l(t,"y",0),n.depth=l(t,"depth",0),n.flipX=l(t,"flipX",!1),n.flipY=l(t,"flipY",!1);var i=l(t,"scale",null);"number"==typeof i?n.setScale(i):null!==i&&(n.scaleX=l(i,"x",1),n.scaleY=l(i,"y",1));var o=l(t,"scrollFactor",null);"number"==typeof o?n.setScrollFactor(o):null!==o&&(n.scrollFactorX=l(o,"x",1),n.scrollFactorY=l(o,"y",1)),n.rotation=l(t,"rotation",0);var s=l(t,"angle",null);null!==s&&(n.angle=s),n.alpha=l(t,"alpha",1);var d=l(t,"origin",null);if("number"==typeof d)n.setOrigin(d);else if(null!==d){var u=l(d,"x",.5),c=l(d,"y",.5);n.setOrigin(u,c)}return n.scaleMode=l(t,"scaleMode",r.DEFAULT),n.blendMode=l(t,"blendMode",e.NORMAL),n.visible=l(t,"visible",!0),l(t,"add",!0)&&a.sys.displayList.add(n),n.preUpdate&&a.sys.updateList.add(n),n};module.exports=a;
},{"../renderer/BlendModes":"GTnZ","../utils/object/GetAdvancedValue":"Isbx","../renderer/ScaleModes":"KOhd"}],"REx2":[function(require,module,exports) {
var e=require("../utils/object/GetAdvancedValue"),a=function(a,t){var l=e(t,"anims",null);if(null===l)return a;if("string"==typeof l)a.anims.play(l);else if("object"==typeof l){var y=a.anims,r=e(l,"key",void 0),o=e(l,"startFrame",void 0),i=e(l,"delay",0),s=e(l,"repeat",0),d=e(l,"repeatDelay",0),n=e(l,"yoyo",!1),p=e(l,"play",!1),u=e(l,"delayedPlay",0);y.setDelay(i),y.setRepeat(s),y.setRepeatDelay(d),y.setYoyo(n),p?y.play(r,o):u>0?y.delayedPlay(u,r,o):y.load(r)}return a};module.exports=a;
},{"../utils/object/GetAdvancedValue":"Isbx"}],"Zauj":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],h=function(t,h,e){void 0===e&&(e={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null}});for(var n=t.text,i=n.length,a=Number.MAX_VALUE,l=Number.MAX_VALUE,r=0,o=0,d=t.fontData.chars,g=t.fontData.lineHeight,s=t.letterSpacing,u=0,x=0,M=0,y=null,c=0,f=0,v=t.fontSize/t.fontData.size,A=v*t.scaleX,w=v*t.scaleY,b=null,m=0,X=[],p=Number.MAX_VALUE,D=0,E=0,L=0,N=0;N<i;N++)if(10!==(M=n.charCodeAt(N))){if(y=d[M]){if(c=u,f=x,null!==b){var U=y.kerning[m];c+=void 0!==U?U:0}a>c&&(a=c),l>f&&(l=f);var V=c+y.xAdvance,_=f+g;r<V&&(r=V),o<_&&(o=_),u+=y.xAdvance+s,b=y,m=M,L=V*v}}else u=0,x+=g,b=null,X[E]=L,L>D&&(D=L),L<p&&(p=L),E++,L=0;X[E]=L,L>D&&(D=L),L<p&&(p=L);var z=e.local,O=e.global,S=e.lines;return z.x=a*v,z.y=l*v,z.width=r*v,z.height=o*v,O.x=t.x-t.displayOriginX+a*A,O.y=t.y-t.displayOriginY+l*w,O.width=r*A,O.height=o*w,S.shortest=p,S.longest=D,S.lengths=X,h&&(z.x=Math.round(z.x),z.y=Math.round(z.y),z.width=Math.round(z.width),z.height=Math.round(z.height),O.x=Math.round(O.x),O.y=Math.round(O.y),O.width=Math.round(O.width),O.height=Math.round(O.height),S.shortest=Math.round(p),S.longest=Math.round(D)),e};module.exports=h;
},{}],"hNQH":[function(require,module,exports) {
function e(e,t){return parseInt(e.getAttribute(t),10)}var t=function(t,r,a,n){void 0===r&&(r=0),void 0===a&&(a=0);var i={},o=t.getElementsByTagName("info")[0],f=t.getElementsByTagName("common")[0];i.font=o.getAttribute("face"),i.size=e(o,"size"),i.lineHeight=e(f,"lineHeight")+a,i.chars={};var h=t.getElementsByTagName("char"),g=void 0!==n&&n.trimmed;if(g)var s=n.height,c=n.width;for(var v=0;v<h.length;v++){var m=h[v],d=e(m,"id"),l=e(m,"x"),y=e(m,"y"),x=e(m,"width"),u=e(m,"height");g&&(l<c&&(c=l),y<s&&(s=y)),i.chars[d]={x:l,y:y,width:x,height:u,centerX:Math.floor(x/2),centerY:Math.floor(u/2),xOffset:e(m,"xoffset"),yOffset:e(m,"yoffset"),xAdvance:e(m,"xadvance")+r,data:{},kerning:{}}}if(g&&0!==s&&0!==c)for(var B in i.chars){var E=i.chars[B];E.x-=n.x,E.y-=n.y}var N=t.getElementsByTagName("kerning");for(v=0;v<N.length;v++){var T=N[v],k=e(T,"first"),w=e(T,"second"),A=e(T,"amount");i.chars[w].kerning[k]=A}return i};module.exports=t;
},{}],"oMjR":[function(require,module,exports) {
var e=require("./ParseXMLBitmapFont"),r=function(r,t,a,s,u,m,n){var c=r.sys.textures.getFrame(a,s),i=r.sys.cache.xml.get(u);if(c&&i){var o=e(i,m,n,c);return r.sys.cache.bitmapFont.add(t,{data:o,texture:a,frame:s}),!0}return!1};module.exports=r;
},{"./ParseXMLBitmapFont":"hNQH"}],"DFDr":[function(require,module,exports) {
var t=require("../../GameObject"),e=require("../../../renderer/webgl/Utils"),l=function(l,a,i,r,n){var s=a._text,p=s.length;if(!(t.RENDER_MASK!==a.renderFlags||0===p||a.cameraFilter>0&&a.cameraFilter&r._id)){var o=this.pipeline;l.setPipeline(o,a);var c=o._tempMatrix1,h=o._tempMatrix2,g=o._tempMatrix3;h.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),c.copyFrom(r.matrix),n?(c.multiplyWithOffset(n,-r.scrollX*a.scrollFactorX,-r.scrollY*a.scrollFactorY),h.e=a.x,h.f=a.y,c.multiply(h,g)):(h.e-=r.scrollX*a.scrollFactorX,h.f-=r.scrollY*a.scrollFactorY,c.multiply(h,g));var d=a.frame,f=d.glTexture,_=d.cutX,u=d.cutY,x=f.width,m=f.height,v=a._isTinted&&a.tintFill,F=e.getTintAppendFloatAlpha(a._tintTL,r.alpha*a._alphaTL),T=e.getTintAppendFloatAlpha(a._tintTR,r.alpha*a._alphaTR),y=e.getTintAppendFloatAlpha(a._tintBL,r.alpha*a._alphaBL),A=e.getTintAppendFloatAlpha(a._tintBR,r.alpha*a._alphaBR);o.setTexture2D(f,0);var b,R,X=0,Y=0,O=0,B=0,L=a._letterSpacing,M=0,S=0,w=0,D=0,q=a.fontData,z=q.chars,E=q.lineHeight,P=a._fontSize/q.size,j=a._align,k=0,C=0;a.getTextBounds(!1);var G=a._bounds.lines;1===j?C=(G.longest-G.lengths[0])/2:2===j&&(C=G.longest-G.lengths[0]);for(var H=r.roundPixels,I=0;I<p;I++)if(10!==(O=s.charCodeAt(I))){if(b=z[O]){M=_+b.x,S=u+b.y,w=b.width,D=b.height;var K=b.xOffset+X,N=b.yOffset+Y;if(null!==R){var U=b.kerning[B];K+=void 0!==U?U:0}if(X+=b.xAdvance+L,R=b,B=O,0!==w&&0!==D&&32!==O){K*=P,N*=P,K-=a.displayOriginX;var V=M/x,W=S/m,J=(M+w)/x,Q=(S+D)/m,Z=(K+=C)+w*P,$=(N-=a.displayOriginY)+D*P,tt=K*g.a+N*g.c+g.e,et=K*g.b+N*g.d+g.f,lt=K*g.a+$*g.c+g.e,at=K*g.b+$*g.d+g.f,it=Z*g.a+$*g.c+g.e,rt=Z*g.b+$*g.d+g.f,nt=Z*g.a+N*g.c+g.e,st=Z*g.b+N*g.d+g.f;H&&(tt|=0,et|=0,lt|=0,at|=0,it|=0,rt|=0,nt|=0,st|=0),o.batchVertices(tt,et,lt,at,it,rt,nt,st,V,W,J,Q,F,T,y,A,v)}}}else k++,1===j?C=(G.longest-G.lengths[k])/2:2===j&&(C=G.longest-G.lengths[k]),X=0,Y+=E,R=null}};module.exports=l;
},{"../../GameObject":"HPsp","../../../renderer/webgl/Utils":"WOZp"}],"bPVv":[function(require,module,exports) {
var e=require("../../GameObject"),a=function(a,r,l,t,n){var o=r._text,s=o.length;if(!(e.RENDER_MASK!==r.renderFlags||0===s||r.cameraFilter>0&&r.cameraFilter&t.id)){var i=r.frame,c=r.fontData.chars,d=r.fontData.lineHeight,g=r._letterSpacing,f=0,u=0,h=0,v=null,m=0,p=0,x=0,M=0,b=0,y=0,A=null,O=0,_=a.currentContext,F=r.frame.source.image,S=i.cutX,X=i.cutY,Y=r._fontSize/r.fontData.size,D=r._align,B=0,C=0;r.getTextBounds(!1);var w=r._bounds.lines;1===D?C=(w.longest-w.lengths[0])/2:2===D&&(C=w.longest-w.lengths[0]);var z=t.alpha*r.alpha;if(0!==z){a.currentAlpha!==z&&(a.currentAlpha=z,_.globalAlpha=z),a.currentBlendMode!==r.blendMode&&(a.currentBlendMode=r.blendMode,_.globalCompositeOperation=a.blendModes[r.blendMode]),a.currentScaleMode!==r.scaleMode&&(a.currentScaleMode=r.scaleMode);var E=r.x-t.scrollX*r.scrollFactorX+r.frame.x,R=r.y-t.scrollY*r.scrollFactorY+r.frame.y,j=t.roundPixels;if(j&&(E|=0,R|=0),_.save(),void 0!==n){var k=n.matrix;_.transform(k[0],k[1],k[2],k[3],k[4],k[5])}_.translate(E,R),_.rotate(r.rotation),_.translate(-r.displayOriginX,-r.displayOriginY),_.scale(r.scaleX,r.scaleY);for(var q=0;q<s;q++)if(10!==(h=o.charCodeAt(q))){if(v=c[h]){if(m=S+v.x,p=X+v.y,x=v.width,M=v.height,b=v.xOffset+f,y=v.yOffset+u,null!==A){var G=v.kerning[O];b+=void 0!==G?G:0}b*=Y,y*=Y,b+=C,f+=v.xAdvance+g,A=v,O=h,0!==x&&0!==M&&32!==h&&(j&&(b|=0,y|=0),_.save(),_.translate(b,y),_.scale(Y,Y),_.drawImage(F,m,p,x,M,0,0,x,M),_.restore())}}else B++,1===D?C=(w.longest-w.lengths[B])/2:2===D&&(C=w.longest-w.lengths[B]),f=0,u+=d,A=null;_.restore()}}};module.exports=a;
},{"../../GameObject":"HPsp"}],"LBER":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./BitmapTextWebGLRenderer"),r=require("./BitmapTextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"u3ni","./BitmapTextWebGLRenderer":"DFDr","./BitmapTextCanvasRenderer":"bPVv"}],"A+/Q":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=require("../../components"),e=require("../../GameObject"),n=require("../GetBitmapTextSize"),s=require("../ParseFromAtlas"),r=require("./BitmapTextRender"),h=new t({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Origin,i.Pipeline,i.ScaleMode,i.ScrollFactor,i.Texture,i.Tint,i.Transform,i.Visible,r],initialize:function(t,i,s,r,h,o,a){void 0===h&&(h=""),void 0===a&&(a=0),e.call(this,t,"BitmapText"),this.font=r;var u=this.scene.sys.cache.bitmapFont.get(r);this.fontData=u.data,this._text="",this._fontSize=o||this.fontData.size,this._letterSpacing=0,this._align=a,this._bounds=n(this,!1,this._bounds),this._dirty=!1,this.setTexture(u.texture,u.frame),this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.setText(h)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this.updateDisplayOrigin(),this._dirty=!0),this},getTextBounds:function(t){return this._dirty&&n(this,t,this._bounds),this._bounds},setFont:function(t,i,e){if(void 0===i&&(i=this._fontSize),void 0===e&&(e=this._align),t!==this.font){var s=this.scene.sys.cache.bitmapFont.get(t);s&&(this.font=t,this.fontData=s.data,this._fontSize=i,this._align=e,this.setTexture(s.texture,s.frame),n(this,!1,this._bounds))}return this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=i.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=s,module.exports=h;
},{"../../../utils/Class":"f5Xp","../../components":"jkG5","../../GameObject":"HPsp","../GetBitmapTextSize":"Zauj","../ParseFromAtlas":"oMjR","./BitmapTextRender":"LBER"}],"DxNI":[function(require,module,exports) {
var e=require("../GameObject"),r=require("../../renderer/webgl/Utils"),t=function(t,a,i,l,c){if(!(e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&l._id)){var o=this.pipeline;t.setPipeline(o,a);var s=l.scrollX*a.scrollFactorX,p=l.scrollY*a.scrollFactorY,h=o._tempMatrix1;h.copyFrom(l.matrix),c&&(h.multiplyWithOffset(c,-s,-p),s=0,p=0);for(var d=a.getRenderList(),n=a.x-s,u=a.y-p,f=-1,x=l.alpha*a.alpha,m=l.roundPixels,v=0;v<d.length;v++){var g=d[v],F=g.frame,b=g.alpha*x;if(0!==b){var y=F.width,w=F.height,A=n+g.x+F.x,R=u+g.y+F.y;g.flipX&&(y*=-1,A+=F.width),g.flipY&&(w*=-1,R+=F.height);var T=A+y,X=R+w,Y=A*h.a+R*h.c+h.e,_=A*h.b+R*h.d+h.f,q=T*h.a+X*h.c+h.e,D=T*h.b+X*h.d+h.f,E=r.getTintAppendFloatAlpha(16777215,b);F.sourceIndex!==f&&(o.setTexture2D(F.glTexture,0),f=F.sourceIndex),m&&(Y|=0,_|=0,q|=0,D|=0),o.batchVertices(Y,_,Y,D,q,D,q,_,F.u0,F.v0,F.u1,F.v1,E,E,E,E,!1)&&(f=-1)}}}};module.exports=t;
},{"../GameObject":"HPsp","../../renderer/webgl/Utils":"WOZp"}],"XAoG":[function(require,module,exports) {
var a=require("../GameObject"),e=function(e,r,l,t,i){var s=r.getRenderList();if(!(a.RENDER_MASK!==r.renderFlags||r.cameraFilter>0&&r.cameraFilter&t.id||0===s.length)){var o=e.gameContext,c=t.alpha*r.alpha;if(0!==c){e.currentAlpha!==c&&(e.currentAlpha=c,o.globalAlpha=c),e.setBlendMode(r.blendMode);var d=r.x-t.scrollX*r.scrollFactorX,h=r.y-t.scrollY*r.scrollFactorY;if(o.save(),void 0!==i){var n=i.matrix;o.transform(n[0],n[1],n[2],n[3],n[4],n[5])}for(var p=0;p<s.length;p++){var g=s[p],f=g.flipX||g.flipY,m=g.frame,v=m.canvasData,u=m.x,x=m.y,A=1,b=1,y=g.alpha*c;0!==y&&(e.currentAlpha!==y&&(e.currentAlpha=y,o.globalAlpha=y),f?(g.flipX&&(A=-1,u-=v.dWidth),g.flipY&&(b=-1,x-=v.dHeight),o.save(),o.translate(g.x+d,g.y+h),o.scale(A,b),o.drawImage(m.source.image,v.sx,v.sy,v.sWidth,v.sHeight,u,x,v.dWidth,v.dHeight),o.restore()):e.blitImage(u+g.x+d,x+g.y+h,g.frame))}o.restore()}}};module.exports=e;
},{"../GameObject":"HPsp"}],"zfLZ":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./BlitterWebGLRenderer"),r=require("./BlitterCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./BlitterWebGLRenderer":"DxNI","./BlitterCanvasRenderer":"XAoG"}],"Gixb":[function(require,module,exports) {
var t=require("../../utils/Class"),i=new t({initialize:function(t,i,s,e,h){this.parent=t,this.x=i,this.y=s,this.frame=e,this.data={},this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return this.frame=void 0===t?this.parent.frame:this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,i,s){return this.x=t,this.y=i,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,i){return this.flipX=t,this.flipY=i,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.parent.dirty=!0}},alpha:{get:function(){return this._alpha},set:function(t){this._alpha=t,this.parent.dirty=!0}}});module.exports=i;
},{"../../utils/Class":"f5Xp"}],"0XF/":[function(require,module,exports) {
var e=require("./BlitterRender"),i=require("./Bob"),t=require("../../utils/Class"),r=require("../components"),n=require("../../textures/Frame"),s=require("../GameObject"),h=require("../../structs/List"),l=new t({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScaleMode,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,e],initialize:function(e,i,t,r,n){s.call(this,e,"Blitter"),this.setTexture(r,n),this.setPosition(i,t),this.initPipeline("TextureTintPipeline"),this.children=new h,this.renderList=[],this.dirty=!1},create:function(e,t,r,s,h){void 0===s&&(s=!0),void 0===h&&(h=this.children.length),void 0===r?r=this.frame:r instanceof n||(r=this.texture.get(r));var l=new i(this,e,t,r,s);return this.children.addAt(l,h,!1),this.dirty=!0,l},createFromCallback:function(e,i,t,r){for(var n=this.createMultiple(i,t,r),s=0;s<n.length;s++){var h=n[s];e.call(this,h,s)}return n},createMultiple:function(e,i,t){void 0===i&&(i=this.frame.name),void 0===t&&(t=!0),Array.isArray(i)||(i=[i]);var r=[],n=this;return i.forEach(function(i){for(var s=0;s<e;s++)r.push(n.create(0,0,i,t))}),r},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});module.exports=l;
},{"./BlitterRender":"zfLZ","./Bob":"Gixb","../../utils/Class":"f5Xp","../components":"jkG5","../../textures/Frame":"pGwy","../GameObject":"HPsp","../../structs/List":"volj"}],"Y08S":[function(require,module,exports) {
var a=require("../GameObject"),l=function(l,r,e,t,o){if(!(a.RENDER_MASK!==r.renderFlags||r.cameraFilter>0&&r.cameraFilter&t._id)){var c=r.list,s=r.localTransform;void 0===o?s.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY):(s.loadIdentity(),s.multiply(o),s.translate(r.x,r.y),s.rotate(r.rotation),s.scale(r.scaleX,r.scaleY));for(var i=r._alpha,n=r.scrollFactorX,F=r.scrollFactorY,p=0;p<c.length;++p){var d=c[p],m=d._alpha,h=d.scrollFactorX,v=d.scrollFactorY;d.setScrollFactor(h*n,v*F),d.setAlpha(m*i),d.renderWebGL(l,d,e,t,s),d.setAlpha(m),d.setScrollFactor(h,v)}}};module.exports=l;
},{"../GameObject":"HPsp"}],"XqKf":[function(require,module,exports) {
var a=require("../GameObject"),l=function(l,r,t,e,o){if(!(a.RENDER_MASK!==r.renderFlags||r.cameraFilter>0&&r.cameraFilter&e._id)){var c=r.list,s=r.localTransform;void 0===o?s.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY):(s.loadIdentity(),s.multiply(o),s.translate(r.x,r.y),s.rotate(r.rotation),s.scale(r.scaleX,r.scaleY));for(var i=r._alpha,n=r.scrollFactorX,F=r.scrollFactorY,p=0;p<c.length;++p){var d=c[p],m=d._alpha,v=d.scrollFactorX,h=d.scrollFactorY;d.setScrollFactor(v*n,h*F),d.setAlpha(m*i),d.renderCanvas(l,d,t,e,s),d.setAlpha(m),d.setScrollFactor(v,h)}}};module.exports=l;
},{"../GameObject":"HPsp"}],"aZpP":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ContainerWebGLRenderer"),r=require("./ContainerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./ContainerWebGLRenderer":"Y08S","./ContainerCanvasRenderer":"XqKf"}],"qUqL":[function(require,module,exports) {
var t=require("./Rectangle"),a=function(a,e,o){void 0===o&&(o=new t);var r=Math.min(a.x,e.x),i=Math.min(a.y,e.y),m=Math.max(a.right,e.right)-r,n=Math.max(a.bottom,e.bottom)-i;return o.setTo(r,i,m,n)};module.exports=a;
},{"./Rectangle":"hff6"}],"19Hp":[function(require,module,exports) {
var t=require("../../utils/array"),i=require("../../utils/Class"),e=require("../components"),s=require("../GameObject"),n=require("../../geom/rectangle/Rectangle"),r=require("./ContainerRender"),o=require("../../geom/rectangle/Union"),h=require("../../math/Vector2"),l=new i({Extends:s,Mixins:[e.Alpha,e.BlendMode,e.ComputedSize,e.Depth,e.Mask,e.ScrollFactor,e.Transform,e.Visible,r],initialize:function(t,i,n,r){s.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new e.TransformMatrix,this.tempTransformMatrix=new e.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.setPosition(i,n),this.clearAlpha(),r&&this.add(r)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new n),t.setTo(this.x,this.y,0,0),this.list.length>0)for(var i=this.list,e=new n,s=0;s<i.length;s++){var r=i[s];r.getBounds&&(r.getBounds(e),o(e,t,t))}return t},addHandler:function(t){t.once("destroy",this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this),this._sysEvents.off("shutdown",t.destroy,t)},removeHandler:function(t){t.off("destroy",this.remove),this.exclusive&&(t.parentContainer=null,this._sysEvents.once("shutdown",t.destroy,t))},pointToContainer:function(t,i){if(void 0===i&&(i=new h),this.parentContainer)return this.parentContainer.pointToContainer(t,i);var e=this.tempTransformMatrix;return e.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),e.invert(),e.transformPoint(t.x,t.y,i),i},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix)},add:function(i){return t.Add(this.list,i,this.maxSize,this.addHandler,this),this},addAt:function(i,e){return t.AddAt(this.list,i,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(i){return i&&(this._sortKey=i,t.StableSort.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,i){return t[this._sortKey]-i[this._sortKey]},getByName:function(i){return t.GetFirst(this.list,"name",i)},getRandom:function(i,e){return t.GetRandom(this.list,i,e)},getFirst:function(i,e,s,n){return t.GetFirstElement(this.list,i,e,s,n)},getAll:function(i,e,s,n){return t.GetAll(this.list,i,e,s,n)},count:function(i,e,s,n){return t.CountAllMatching(this.list,i,e,s,n)},swap:function(i,e){return t.Swap(this.list,i,e),this},moveTo:function(i,e){return t.MoveTo(this.list,i,e),this},remove:function(i,e){var s=t.Remove(this.list,i,this.removeHandler,this);if(e&&s){Array.isArray(s)||(s=[s]);for(var n=0;n<s.length;n++)s[n].destroy()}return this},removeAt:function(i,e){var s=t.RemoveAt(this.list,i,this.removeHandler,this);return e&&s&&s.destroy(),this},removeBetween:function(i,e,s){var n=t.RemoveBetween(this.list,i,e,this.removeHandler,this);if(s)for(var r=0;r<n.length;r++)n[r].destroy();return this},removeAll:function(i){var e=t.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(i)for(var s=0;s<e.length;s++)e[s].destroy();return this},bringToTop:function(i){return t.BringToTop(this.list,i),this},sendToBack:function(i){return t.SendToBack(this.list,i),this},moveUp:function(i){return t.MoveUp(this.list,i),this},moveDown:function(i){return t.MoveDown(this.list,i),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return t.Shuffle(this.list),this},replace:function(i,e,s){return t.Replace(this.list,i,e)&&(this.addHandler(e),this.removeHandler(i),s&&i.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(i,e,s,n){return t.SetAll(this.list,i,e,s,n),this},each:function(t,i){var e,s=[null],n=this.list.slice(),r=n.length;for(e=2;e<arguments.length;e++)s.push(arguments[e]);for(e=0;e<r;e++)s[0]=n[e],t.apply(i,s);return this},iterate:function(t,i){var e,s=[null];for(e=2;e<arguments.length;e++)s.push(arguments[e]);for(e=0;e<this.list.length;e++)s[0]=this.list[e],t.apply(i,s);return this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});module.exports=l;
},{"../../utils/array":"u4B5","../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","../../geom/rectangle/Rectangle":"hff6","./ContainerRender":"aZpP","../../geom/rectangle/Union":"qUqL","../../math/Vector2":"2OLl"}],"Hn2Q":[function(require,module,exports) {
var t=require("../../GameObject"),a=require("../../../renderer/webgl/Utils"),l=function(l,e,i,o,r){var p=e.text,n=p.length;if(!(t.RENDER_MASK!==e.renderFlags||0===n||e.cameraFilter>0&&e.cameraFilter&o._id)){var h=this.pipeline;l.setPipeline(h,e);var s=e.cropWidth>0||e.cropHeight>0;s&&(h.flush(),l.pushScissor(e.x,e.y,e.cropWidth*e.scaleX,e.cropHeight*e.scaleY));var c=h._tempMatrix1,g=h._tempMatrix2,d=h._tempMatrix3,f=h._tempMatrix4;g.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(o.matrix),r?(c.multiplyWithOffset(r,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),g.e=e.x,g.f=e.y,c.multiply(g,d)):(g.e-=o.scrollX*e.scrollFactorX,g.f-=o.scrollY*e.scrollFactorY,c.multiply(g,d));var _=e.frame,u=_.glTexture,x=_.cutX,T=_.cutY,m=u.width,A=u.height,y=e._isTinted&&e.tintFill,F=a.getTintAppendFloatAlpha(e._tintTL,o.alpha*e._alphaTL),v=a.getTintAppendFloatAlpha(e._tintTR,o.alpha*e._alphaTR),R=a.getTintAppendFloatAlpha(e._tintBL,o.alpha*e._alphaBL),b=a.getTintAppendFloatAlpha(e._tintBR,o.alpha*e._alphaBR);h.setTexture2D(u,0);var L,X,Y=0,S=0,B=0,O=0,D=e.letterSpacing,M=0,z=0,k=0,w=0,C=e.scrollX,H=e.scrollY,W=e.fontData,q=W.chars,E=W.lineHeight,I=e.fontSize/W.size,P=0,j=e._align,G=0,K=0;e.getTextBounds(!1);var N=e._bounds.lines;1===j?K=(N.longest-N.lengths[0])/2:2===j&&(K=N.longest-N.lengths[0]);for(var U=o.roundPixels,V=e.displayCallback,J=e.callbackData,Q=0;Q<n;Q++)if(10!==(B=p.charCodeAt(Q))){if(L=q[B]){M=x+L.x,z=T+L.y,k=L.width,w=L.height;var Z=L.xOffset+Y-C,$=L.yOffset+S-H;if(null!==X){var tt=L.kerning[O];Z+=void 0!==tt?tt:0}if(Y+=L.xAdvance+D,X=L,O=B,0!==k&&0!==w&&32!==B){if(I=e.fontSize/e.fontData.size,P=0,V){J.color=0,J.tint.topLeft=F,J.tint.topRight=v,J.tint.bottomLeft=R,J.tint.bottomRight=b,J.index=Q,J.charCode=B,J.x=Z,J.y=$,J.scale=I,J.rotation=P,J.data=L.data;var at=V(J);Z=at.x,$=at.y,I=at.scale,P=at.rotation,at.color?(F=at.color,v=at.color,R=at.color,b=at.color):(F=at.tint.topLeft,v=at.tint.topRight,R=at.tint.bottomLeft,b=at.tint.bottomRight),F=a.getTintAppendFloatAlpha(F,o.alpha*e._alphaTL),v=a.getTintAppendFloatAlpha(v,o.alpha*e._alphaTR),R=a.getTintAppendFloatAlpha(R,o.alpha*e._alphaBL),b=a.getTintAppendFloatAlpha(b,o.alpha*e._alphaBR)}Z*=I,$*=I,Z-=e.displayOriginX,$-=e.displayOriginY,Z+=K,f.applyITRS(Z,$,P,I,I),d.multiply(f,g);var lt=M/m,et=z/A,it=(M+k)/m,ot=(z+w)/A,rt=k,pt=w,nt=g.e,ht=g.f,st=pt*g.c+g.e,ct=pt*g.d+g.f,gt=rt*g.a+pt*g.c+g.e,dt=rt*g.b+pt*g.d+g.f,ft=rt*g.a+g.e,_t=rt*g.b+g.f;U&&(nt|=0,ht|=0,st|=0,ct|=0,gt|=0,dt|=0,ft|=0,_t|=0),h.batchVertices(nt,ht,st,ct,gt,dt,ft,_t,lt,et,it,ot,F,v,R,b,y)}}}else G++,1===j?K=(N.longest-N.lengths[G])/2:2===j&&(K=N.longest-N.lengths[G]),Y=0,S+=E,X=null;s&&(h.flush(),l.popScissor())}};module.exports=l;
},{"../../GameObject":"HPsp","../../../renderer/webgl/Utils":"WOZp"}],"RP6H":[function(require,module,exports) {
var e=require("../../GameObject"),a=function(a,t,r,l,o){var i=t.text,n=i.length;if(!(e.RENDER_MASK!==t.renderFlags||0===n||t.cameraFilter>0&&t.cameraFilter&l.id)){var c=t.frame,s=t.displayCallback,d=l.scrollX*t.scrollFactorX,h=l.scrollY*t.scrollFactorY,p=t.fontData.chars,f=t.fontData.lineHeight,u=0,g=0,m=0,v=0,b=null,x=0,M=0,A=0,y=0,O=0,X=0,Y=null,C=0,D=a.currentContext,F=t.frame.source.image,S=c.cutX,z=c.cutY,H=0,R=t.fontSize/t.fontData.size,W=l.alpha*t.alpha;if(0!==W){if(a.currentAlpha!==W&&(a.currentAlpha=W,D.globalAlpha=W),a.currentBlendMode!==t.blendMode&&(a.currentBlendMode=t.blendMode,D.globalCompositeOperation=a.blendModes[t.blendMode]),a.currentAlpha!==t.alpha&&(a.currentAlpha=t.alpha,D.globalAlpha=t.alpha),a.currentScaleMode!==t.scaleMode&&(a.currentScaleMode=t.scaleMode),D.save(),void 0!==o){var k=o.matrix;D.transform(k[0],k[1],k[2],k[3],k[4],k[5])}D.translate(t.x,t.y),D.rotate(t.rotation),D.translate(-t.displayOriginX,-t.displayOriginY),D.scale(t.scaleX,t.scaleY),t.cropWidth>0&&t.cropHeight>0&&(D.save(),D.beginPath(),D.rect(0,0,t.cropWidth,t.cropHeight),D.clip());for(var w=0;w<n;++w)if(R=t.fontSize/t.fontData.size,H=0,10!==(v=i.charCodeAt(w))){if(b=p[v]){if(x=S+b.x,M=z+b.y,A=b.width,y=b.height,O=m+b.xOffset+u-t.scrollX,X=b.yOffset+g-t.scrollY,null!==Y){var B=b.kerning[C];O+=void 0!==B?B:0}if(s){var E=s({tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:w,charCode:v,x:O,y:X,scale:R,rotation:0,data:b.data});O=E.x,X=E.y,R=E.scale,H=E.rotation}O*=R,X*=R,O-=d,X-=h,l.roundPixels&&(O|=0,X|=0),D.save(),D.translate(O,X),D.rotate(H),D.scale(R,R),D.drawImage(F,x,M,A,y,0,0,A,y),D.restore(),u+=b.xAdvance,m+=1,Y=b,C=v}}else u=0,m=0,g+=f,Y=null;t.cropWidth>0&&t.cropHeight>0&&D.restore(),D.restore()}}};module.exports=a;
},{"../../GameObject":"HPsp"}],"zN82":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./DynamicBitmapTextWebGLRenderer"),r=require("./DynamicBitmapTextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"u3ni","./DynamicBitmapTextWebGLRenderer":"Hn2Q","./DynamicBitmapTextCanvasRenderer":"RP6H"}],"X6De":[function(require,module,exports) {
var t=require("../static/BitmapText"),i=require("../../../utils/Class"),s=require("./DynamicBitmapTextRender"),e=new i({Extends:t,Mixins:[s],initialize:function(i,s,e,l,r,a,o){t.call(this,i,s,e,l,r,a,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,i){return this.cropWidth=t,this.cropHeight=i,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});module.exports=e;
},{"../static/BitmapText":"A+/Q","../../../utils/Class":"f5Xp","./DynamicBitmapTextRender":"zN82"}],"jKhh":[function(require,module,exports) {
var t=function(t,r,e){if(t.width<=0||t.height<=0)return!1;var h=(r-t.x)/t.width,i=(e-t.y)/t.height;return(h*=h)+(i*=i)<.25};module.exports=t;
},{}],"dhAm":[function(require,module,exports) {
var t=require("../point/Point"),i=function(i,e,n){void 0===n&&(n=new t);var o=i.width/2,r=i.height/2;return n.x=i.x+o*Math.cos(e),n.y=i.y+r*Math.sin(e),n};module.exports=i;
},{"../point/Point":"PzGB"}],"j3hb":[function(require,module,exports) {
var e=require("./CircumferencePoint"),r=require("../../math/FromPercent"),i=require("../../math/const"),n=require("../point/Point"),t=function(t,o,u){void 0===u&&(u=new n);var c=r(o,0,i.PI2);return e(t,c,u)};module.exports=t;
},{"./CircumferencePoint":"dhAm","../../math/FromPercent":"xPta","../../math/const":"fj5M","../point/Point":"PzGB"}],"zM+/":[function(require,module,exports) {
var t=function(t){var h=t.width/2,a=t.height/2,r=Math.pow(h-a,2)/Math.pow(h+a,2);return Math.PI*(h+a)*(1+3*r/(10+Math.sqrt(4-3*r)))};module.exports=t;
},{}],"vk6X":[function(require,module,exports) {
var r=require("./Circumference"),e=require("./CircumferencePoint"),u=require("../../math/FromPercent"),i=require("../../math/const"),n=function(n,o,t,c){void 0===c&&(c=[]),o||(o=r(n)/t);for(var m=0;m<o;m++){var a=u(m/o,0,i.PI2);c.push(e(n,a))}return c};module.exports=n;
},{"./Circumference":"zM+/","./CircumferencePoint":"dhAm","../../math/FromPercent":"xPta","../../math/const":"fj5M"}],"RHAq":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),h=require("./GetPoint"),n=require("./GetPoints"),s=require("./Random"),e=new t({initialize:function(t,i,h,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===n&&(n=0),this.x=t,this.y=i,this.width=h,this.height=n},contains:function(t,h){return i(this,t,h)},getPoint:function(t,i){return h(this,t,i)},getPoints:function(t,i,h){return n(this,t,i,h)},getRandomPoint:function(t){return s(this,t)},setTo:function(t,i,h,n){return this.x=t,this.y=i,this.width=h,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});module.exports=e;
},{"../../utils/Class":"f5Xp","./Contains":"jKhh","./GetPoint":"j3hb","./GetPoints":"vk6X","./Random":"7zUs"}],"jWlg":[function(require,module,exports) {
var t=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};module.exports=t;
},{}],"GncB":[function(require,module,exports) {
var e=require("./Ellipse"),r=function(r){return new e(r.x,r.y,r.width,r.height)};module.exports=r;
},{"./Ellipse":"RHAq"}],"vule":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"jKhh"}],"0Nas":[function(require,module,exports) {
var t=require("./Contains"),o=function(o,r){return t(o,r.x,r.y)&&t(o,r.right,r.y)&&t(o,r.x,r.bottom)&&t(o,r.right,r.bottom)};module.exports=o;
},{"./Contains":"jKhh"}],"7xFp":[function(require,module,exports) {
var t=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};module.exports=t;
},{}],"n6JD":[function(require,module,exports) {
var t=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};module.exports=t;
},{}],"sL+Q":[function(require,module,exports) {
var e=require("../rectangle/Rectangle"),t=function(t,i){return void 0===i&&(i=new e),i.x=t.left,i.y=t.top,i.width=t.width,i.height=t.height,i};module.exports=t;
},{"../rectangle/Rectangle":"hff6"}],"IRwL":[function(require,module,exports) {
var r=function(r,e,n){return r.x+=e,r.y+=n,r};module.exports=r;
},{}],"SU+l":[function(require,module,exports) {
var r=function(r,e){return r.x+=e.x,r.y+=e.y,r};module.exports=r;
},{}],"0B3O":[function(require,module,exports) {
var e=require("./Ellipse");e.Area=require("./Area"),e.Circumference=require("./Circumference"),e.CircumferencePoint=require("./CircumferencePoint"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.GetBounds=require("./GetBounds"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Random=require("./Random"),module.exports=e;
},{"./Ellipse":"RHAq","./Area":"jWlg","./Circumference":"zM+/","./CircumferencePoint":"dhAm","./Clone":"GncB","./Contains":"jKhh","./ContainsPoint":"vule","./ContainsRect":"0Nas","./CopyFrom":"7xFp","./Equals":"n6JD","./GetBounds":"sL+Q","./GetPoint":"j3hb","./GetPoints":"vk6X","./Offset":"IRwL","./OffsetPoint":"SU+l","./Random":"7zUs"}],"oRkC":[function(require,module,exports) {
var e=require("../GameObject"),r=function(r,i,a,t,c){e.RENDER_MASK!==i.renderFlags||i.cameraFilter>0&&i.cameraFilter&t._id||this.pipeline.batchGraphics(this,t,c)};module.exports=r;
},{"../GameObject":"HPsp"}],"7+2i":[function(require,module,exports) {
var e=require("./Commands"),a=require("../GameObject"),r=function(r,l,o,c,t,s,n){if(!(a.RENDER_MASK!==l.renderFlags||l.cameraFilter>0&&l.cameraFilter&c.id)){var b=c.scrollX*l.scrollFactorX,i=c.scrollY*l.scrollFactorY,T=l.x,d=l.y,E=l.scaleX,k=l.scaleY,L=l.rotation,A=l.commandBuffer,f=s||r.currentContext,h=1,_=1,m=0,S=0,M=1,O=0,R=0,u=0,F=c.alpha*l.alpha;if(0!==F){if(r.currentAlpha!==F&&(r.currentAlpha=F,f.globalAlpha=F),r.currentBlendMode!==l.blendMode&&(r.currentBlendMode=l.blendMode,f.globalCompositeOperation=r.blendModes[l.blendMode]),r.currentScaleMode!==l.scaleMode&&(r.currentScaleMode=l.scaleMode),f.save(),t){var g=t.matrix;f.transform(g[0],g[1],g[2],g[3],g[4],g[5])}f.translate(T-b,d-i),f.rotate(L),f.scale(E,k),f.fillStyle="#fff",f.globalAlpha=l.alpha;for(var p=0,v=A.length;p<v;++p){switch(A[p]){case e.ARC:f.arc(A[p+1],A[p+2],A[p+3],A[p+4],A[p+5],A[p+6]),p+=6;break;case e.LINE_STYLE:M=A[p+1],m=A[p+2],h=A[p+3],O=(16711680&m)>>>16,R=(65280&m)>>>8,u=255&m,f.strokeStyle="rgba("+O+","+R+","+u+","+h+")",f.lineWidth=M,p+=3;break;case e.FILL_STYLE:S=A[p+1],_=A[p+2],O=(16711680&S)>>>16,R=(65280&S)>>>8,u=255&S,f.fillStyle="rgba("+O+","+R+","+u+","+_+")",p+=2;break;case e.BEGIN_PATH:f.beginPath();break;case e.CLOSE_PATH:f.closePath();break;case e.FILL_PATH:n||f.fill();break;case e.STROKE_PATH:n||f.stroke();break;case e.FILL_RECT:n?f.rect(A[p+1],A[p+2],A[p+3],A[p+4]):f.fillRect(A[p+1],A[p+2],A[p+3],A[p+4]),p+=4;break;case e.FILL_TRIANGLE:f.beginPath(),f.moveTo(A[p+1],A[p+2]),f.lineTo(A[p+3],A[p+4]),f.lineTo(A[p+5],A[p+6]),f.closePath(),n||f.fill(),p+=6;break;case e.STROKE_TRIANGLE:f.beginPath(),f.moveTo(A[p+1],A[p+2]),f.lineTo(A[p+3],A[p+4]),f.lineTo(A[p+5],A[p+6]),f.closePath(),n||f.stroke(),p+=6;break;case e.LINE_TO:f.lineTo(A[p+1],A[p+2]),p+=2;break;case e.MOVE_TO:f.moveTo(A[p+1],A[p+2]),p+=2;break;case e.LINE_FX_TO:f.lineTo(A[p+1],A[p+2]),p+=5;break;case e.MOVE_FX_TO:f.moveTo(A[p+1],A[p+2]),p+=5;break;case e.SAVE:f.save();break;case e.RESTORE:f.restore();break;case e.TRANSLATE:f.translate(A[p+1],A[p+2]),p+=2;break;case e.SCALE:f.scale(A[p+1],A[p+2]),p+=2;break;case e.ROTATE:f.rotate(A[p+1]),p+=1}}f.restore()}}};module.exports=r;
},{"./Commands":"+Mpf","../GameObject":"HPsp"}],"iV9E":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./GraphicsWebGLRenderer"),r=require("./GraphicsCanvasRenderer"),r=require("./GraphicsCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./GraphicsWebGLRenderer":"oRkC","./GraphicsCanvasRenderer":"7+2i"}],"wk71":[function(require,module,exports) {
var t=require("../../cameras/2d/Camera.js"),i=require("../../utils/Class"),e=require("./Commands"),s=require("../components"),r=require("../../geom/ellipse/"),n=require("../GameObject"),h=require("../../utils/object/GetFastValue"),o=require("../../utils/object/GetValue"),l=require("../../math/const"),a=require("./GraphicsRender"),u=new i({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,i){var e=o(i,"x",0),s=o(i,"y",0);n.call(this,t,"Graphics"),this.setPosition(e,s),this.initPipeline("FlatTintPipeline"),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(i)},setDefaultStyles:function(t){return o(t,"lineStyle",null)&&(this.defaultStrokeWidth=o(t,"lineStyle.width",1),this.defaultStrokeColor=o(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(t,"fillStyle",null)&&(this.defaultFillColor=o(t,"fillStyle.color",16777215),this.defaultFillAlpha=o(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,i,s){return void 0===s&&(s=1),this.commandBuffer.push(e.LINE_STYLE,t,i,s),this._lineWidth=t,this},fillStyle:function(t,i){return void 0===i&&(i=1),this.commandBuffer.push(e.FILL_STYLE,t,i),this},beginPath:function(){return this.commandBuffer.push(e.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(e.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(e.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(e.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,i,e){return this.beginPath(),this.arc(t,i,e,0,l.PI2),this.fillPath(),this},strokeCircle:function(t,i,e){return this.beginPath(),this.arc(t,i,e,0,l.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,i,s,r){return this.commandBuffer.push(e.FILL_RECT,t,i,s,r),this},strokeRect:function(t,i,e,s){var r=this._lineWidth/2,n=t-r,h=t+r;return this.beginPath(),this.moveTo(t,i),this.lineTo(t,i+s),this.strokePath(),this.beginPath(),this.moveTo(t+e,i),this.lineTo(t+e,i+s),this.strokePath(),this.beginPath(),this.moveTo(n,i),this.lineTo(h+e,i),this.strokePath(),this.beginPath(),this.moveTo(n,i+s),this.lineTo(h+e,i+s),this.strokePath(),this},fillRoundedRect:function(t,i,e,s,r){void 0===r&&(r=20);var n=r,o=r,a=r,u=r;return"number"!=typeof r&&(n=h(r,"tl",20),o=h(r,"tr",20),a=h(r,"bl",20),u=h(r,"br",20)),this.beginPath(),this.moveTo(t+n,i),this.lineTo(t+e-o,i),this.arc(t+e-o,i+o,o,-l.TAU,0),this.lineTo(t+e,i+s-u),this.arc(t+e-u,i+s-u,u,0,l.TAU),this.lineTo(t+a,i+s),this.arc(t+a,i+s-a,a,l.TAU,Math.PI),this.lineTo(t,i+n),this.arc(t+n,i+n,n,-Math.PI,-l.TAU),this.fillPath(),this},strokeRoundedRect:function(t,i,e,s,r){void 0===r&&(r=20);var n=r,o=r,a=r,u=r;return"number"!=typeof r&&(n=h(r,"tl",20),o=h(r,"tr",20),a=h(r,"bl",20),u=h(r,"br",20)),this.beginPath(),this.moveTo(t+n,i),this.lineTo(t+e-o,i),this.arc(t+e-o,i+o,o,-l.TAU,0),this.lineTo(t+e,i+s-u),this.arc(t+e-u,i+s-u,u,0,l.TAU),this.lineTo(t+a,i+s),this.arc(t+a,i+s-a,a,l.TAU,Math.PI),this.lineTo(t,i+n),this.arc(t+n,i+n,n,-Math.PI,-l.TAU),this.strokePath(),this},fillPointShape:function(t,i){return this.fillPoint(t.x,t.y,i)},fillPoint:function(t,i,s){return!s||s<1?s=1:(t-=s/2,i-=s/2),this.commandBuffer.push(e.FILL_RECT,t,i,s,s),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,i,s,r,n,h){return this.commandBuffer.push(e.FILL_TRIANGLE,t,i,s,r,n,h),this},strokeTriangle:function(t,i,s,r,n,h){return this.commandBuffer.push(e.STROKE_TRIANGLE,t,i,s,r,n,h),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,i,e,s){return this.beginPath(),this.moveTo(t,i),this.lineTo(e,s),this.strokePath(),this},lineTo:function(t,i){return this.commandBuffer.push(e.LINE_TO,t,i),this},moveTo:function(t,i){return this.commandBuffer.push(e.MOVE_TO,t,i),this},lineFxTo:function(t,i,s,r){return this.commandBuffer.push(e.LINE_FX_TO,t,i,s,r,1),this},moveFxTo:function(t,i,s,r){return this.commandBuffer.push(e.MOVE_FX_TO,t,i,s,r,1),this},strokePoints:function(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var s=1;s<e;s++)this.lineTo(t[s].x,t[s].y);return i&&this.lineTo(t[0].x,t[0].y),this.strokePath(),this},fillPoints:function(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var s=1;s<e;s++)this.lineTo(t[s].x,t[s].y);return i&&this.lineTo(t[0].x,t[0].y),this.fillPath(),this},strokeEllipseShape:function(t,i){void 0===i&&(i=32);var e=t.getPoints(i);return this.strokePoints(e,!0)},strokeEllipse:function(t,i,e,s,n){void 0===n&&(n=32);var h=new r(t,i,e,s).getPoints(n);return this.strokePoints(h,!0)},fillEllipseShape:function(t,i){void 0===i&&(i=32);var e=t.getPoints(i);return this.fillPoints(e,!0)},fillEllipse:function(t,i,e,s,n){void 0===n&&(n=32);var h=new r(t,i,e,s).getPoints(n);return this.fillPoints(h,!0)},arc:function(t,i,s,r,n,h,o){void 0===h&&(h=!1),void 0===o&&(o=0);var l=2*Math.PI;return h?n<-l?n=-l-o:n>=0&&(n=n%l-l-o):(n-=r,(n+=o)>l+o?n=l+o:n<-o&&(n=l+n%l-o)),this.commandBuffer.push(e.ARC,t,i,s,r,n,h),this},slice:function(t,i,s,r,n,h,o){void 0===h&&(h=!1),void 0===o&&(o=0);var l=2*Math.PI;return h?n<-l?n=-l-o:n>=0&&(n=n%l-l-o):(n-=r,(n+=o)>l+o?n=l+o:n<=-o&&(n=l+n%l-o)),this.commandBuffer.push(e.BEGIN_PATH),this.commandBuffer.push(e.MOVE_TO,t,i),this.commandBuffer.push(e.ARC,t,i,s,r,n,h),this.commandBuffer.push(e.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(e.SAVE),this},restore:function(){return this.commandBuffer.push(e.RESTORE),this},translate:function(t,i){return this.commandBuffer.push(e.TRANSLATE,t,i),this},scale:function(t,i){return this.commandBuffer.push(e.SCALE,t,i),this},rotate:function(t){return this.commandBuffer.push(e.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,i,e){var s,r,n=this.scene.sys;if(void 0===i&&(i=n.game.config.width),void 0===e&&(e=n.game.config.height),u.TargetCamera.setViewport(0,0,i,e),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y,"string"==typeof t)if(n.textures.exists(t)){var h=(s=n.textures.get(t)).getSourceImage();h instanceof HTMLCanvasElement&&(r=h.getContext("2d"))}else r=(s=n.textures.createCanvas(t,i,e)).getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(r=t.getContext("2d"));return r&&(this.renderCanvas(n.game.renderer,this,0,u.TargetCamera,null,r),n.game.renderer.gl&&s&&(s.source[0].glTexture=n.game.renderer.canvasToTexture(r.canvas,s.source[0].glTexture))),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new t(0,0,0,0),module.exports=u;
},{"../../cameras/2d/Camera.js":"aBrD","../../utils/Class":"f5Xp","./Commands":"+Mpf","../components":"jkG5","../../geom/ellipse/":"0B3O","../GameObject":"HPsp","../../utils/object/GetFastValue":"SgIk","../../utils/object/GetValue":"8Li0","../../math/const":"fj5M","./GraphicsRender":"iV9E"}],"+G/V":[function(require,module,exports) {
var e=require("../../actions/"),t=require("../../utils/Class"),i=require("../../utils/object/GetFastValue"),r=require("../../utils/object/GetValue"),s=require("../../utils/array/Range"),n=require("../../structs/Set"),a=require("../sprite/Sprite"),l=new t({initialize:function(e,t,r){void 0!==r||Array.isArray(t)||"object"!=typeof t||(r=t,t=null),this.scene=e,this.children=new n(t),this.isParent=!0,this.classType=i(r,"classType",a),this.active=i(r,"active",!0),this.maxSize=i(r,"maxSize",-1),this.defaultKey=i(r,"defaultKey",null),this.defaultFrame=i(r,"defaultFrame",null),this.runChildUpdate=i(r,"runChildUpdate",!1),this.createCallback=i(r,"createCallback",null),this.removeCallback=i(r,"removeCallback",null),this.createMultipleCallback=i(r,"createMultipleCallback",null),r&&this.createMultiple(r)},create:function(e,t,i,r,s,n){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.defaultKey),void 0===r&&(r=this.defaultFrame),void 0===s&&(s=!0),void 0===n&&(n=!0),this.isFull())return null;var a=new this.classType(this.scene,e,t,i,r);return this.scene.sys.displayList.add(a),a.preUpdate&&this.scene.sys.updateList.add(a),a.visible=s,a.setActive(n),this.add(a),a},createMultiple:function(e){if(this.isFull())return[];if(Array.isArray(e)||(e=[e]),void 0===e[0].key)return[];for(var t=[],i=0;i<e.length;i++){var r=this.createFromConfig(e[i]);t=t.concat(r)}return t},createFromConfig:function(t){if(this.isFull())return[];this.classType=i(t,"classType",this.classType);var n=i(t,"key",void 0),a=i(t,"frame",null),l=i(t,"visible",!0),h=i(t,"active",!0),c=[];if(void 0===n)return c;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);for(var o=i(t,"repeat",0),u=i(t,"randomKey",!1),d=i(t,"randomFrame",!1),v=i(t,"yoyo",!1),f=i(t,"frameQuantity",1),y=i(t,"max",0),p=s(n,a,{max:y,qty:f,random:u,randomB:d,repeat:o,yoyo:v}),g=0;g<p.length;g++){var m=this.create(0,0,p[g].a,p[g].b,l,h);if(!m)break;c.push(m)}var b=r(t,"setXY.x",0),A=r(t,"setXY.y",0),k=r(t,"setXY.stepX",0),C=r(t,"setXY.stepY",0);e.SetXY(c,b,A,k,C);var F=r(t,"setRotation.value",0),S=r(t,"setRotation.step",0);e.SetRotation(c,F,S);var z=r(t,"setScale.x",1),x=r(t,"setScale.y",z),L=r(t,"setScale.stepX",0),T=r(t,"setScale.stepY",0);e.SetScale(c,z,x,L,T);var U=r(t,"setAlpha.value",1),q=r(t,"setAlpha.step",0);e.SetAlpha(c,U,q);var H=i(t,"hitArea",null),M=i(t,"hitAreaCallback",null);H&&e.SetHitArea(c,H,M);var X=i(t,"gridAlign",!1);return X&&e.GridAlign(c,X),this.createMultipleCallback&&this.createMultipleCallback.call(this,c),c},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),r=0;r<i.length;r++){var s=i[r];s.active&&s.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()?this:(this.children.set(e),this.createCallback&&this.createCallback.call(this,e),t&&(this.scene.sys.displayList.add(e),e.preUpdate&&this.scene.sys.updateList.add(e)),e.on("destroy",this.remove,this),this)},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.children.contains(e)?(this.children.delete(e),this.removeCallback&&this.removeCallback.call(this,e),e.off("destroy",this.remove,this),i?e.destroy():t&&(e.scene.sys.displayList.remove(e),e.preUpdate&&e.scene.sys.updateList.remove(e)),this):this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.children,r=0;r<i.size;r++){var s=i.entries[r];s.off("destroy",this.remove,this),t?s.destroy():e&&(s.scene.sys.displayList.remove(s),s.preUpdate&&s.scene.sys.updateList.remove(s))}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(e,t,i,r,s,n,a){return this.getHandler(!0,1,e,t,i,r,s,n,a)},getFirstNth:function(e,t,i,r,s,n,a,l){return this.getHandler(!0,e,t,i,r,s,n,a,l)},getLast:function(e,t,i,r,s,n,a){return this.getHandler(!1,1,e,t,i,r,s,n,a)},getLastNth:function(e,t,i,r,s,n,a,l){return this.getHandler(!1,e,t,i,r,s,n,a,l)},getHandler:function(e,t,i,r,s,n,a,l,h){var c,o;void 0===i&&(i=!1),void 0===r&&(r=!1);var u=0,d=this.children.entries;if(e)for(o=0;o<d.length;o++)if((c=d[o]).active===i){if(++u===t)break}else c=null;else for(o=d.length-1;o>=0;o--)if((c=d[o]).active===i){if(++u===t)break}else c=null;return c?("number"==typeof s&&(c.x=s),"number"==typeof n&&(c.y=n),c):r?this.create(s,n,a,l,h):null},get:function(e,t,i,r,s){return this.getFirst(!1,!0,e,t,i,r,s)},getFirstAlive:function(e,t,i,r,s,n){return this.getFirst(!0,e,t,i,r,s,n)},getFirstDead:function(e,t,i,r,s,n){return this.getFirst(!1,e,t,i,r,s,n)},playAnimation:function(t,i){return e.PlayAnimation(this.children.entries,t,i),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-e},setDepth:function(t,i){return e.SetDepth(this.children.entries,t,i),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(e){if(void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy){if(e)for(var t=this.children,i=0;i<t.size;i++){var r=t.entries[i];r.off("destroy",this.remove,this),r.destroy()}this.children.clear(),this.scene=void 0,this.children=void 0}}});module.exports=l;
},{"../../actions/":"z50Y","../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk","../../utils/object/GetValue":"8Li0","../../utils/array/Range":"wm95","../../structs/Set":"jS4S","../sprite/Sprite":"X5p1"}],"vPLh":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ImageWebGLRenderer"),r=require("./ImageCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./ImageWebGLRenderer":"h1JV","./ImageCanvasRenderer":"FK2r"}],"hn+d":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../components"),t=require("../GameObject"),r=require("./ImageRender"),s=new e({Extends:t,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScaleMode,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,r],initialize:function(e,i,r,s,n){t.call(this,e,"Image"),this.setTexture(s,n),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline")}});module.exports=s;
},{"../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","./ImageRender":"vPLh"}],"hRzZ":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),e=new i({initialize:function(i,e,s,o,r){if("object"==typeof i){var n=i;i=t(n,"x",0),e=t(n,"y",0),s=t(n,"power",0),o=t(n,"epsilon",100),r=t(n,"gravity",50)}else void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===o&&(o=100),void 0===r&&(r=50);this.x=i,this.y=e,this.active=!0,this._gravity=r,this._power=0,this._epsilon=0,this.power=s,this.epsilon=o},update:function(i,t){var e=this.x-i.x,s=this.y-i.y,o=e*e+s*s;if(0!==o){var r=Math.sqrt(o);o<this._epsilon&&(o=this._epsilon);var n=this._power*t/(o*r)*100;i.velocityX+=e*n,i.velocityY+=s*n}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(i){this._epsilon=i*i}},power:{get:function(){return this._power/this._gravity},set:function(i){this._power=i*this._gravity}},gravity:{get:function(){return this._gravity},set:function(i){var t=this.power;this._gravity=i,this.power=t}}});module.exports=e;
},{"../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk"}],"hPPh":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../math/DegToRad"),e=require("../../math/distance/DistanceBetween"),s=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},h=new t({initialize:function(t){this.emitter=t,this.frame=null,this.index=0,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.color=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},fire:function(t,h){var a=this.emitter;this.frame=a.getFrame(),a.emitZone&&a.emitZone.getPoint(this),void 0===t?(a.follow&&(this.x+=a.follow.x+a.followOffset.x),this.x+=a.x.onEmit(this,"x")):this.x+=t,void 0===h?(a.follow&&(this.y+=a.follow.y+a.followOffset.y),this.y+=a.y.onEmit(this,"y")):this.y+=h,this.life=a.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var o=a.speedX.onEmit(this,"speedX"),l=a.speedY?a.speedY.onEmit(this,"speedY"):o;if(a.radial){var n=i(a.angle.onEmit(this,"angle"));this.velocityX=Math.cos(n)*Math.abs(o),this.velocityY=Math.sin(n)*Math.abs(l)}else if(a.moveTo){var c=a.moveToX.onEmit(this,"moveToX"),r=a.moveToY?a.moveToY.onEmit(this,"moveToY"):c,m=Math.atan2(r-this.y,c-this.x),y=e(this.x,this.y,c,r)/(this.life/1e3);this.velocityX=Math.cos(m)*y,this.velocityY=Math.sin(m)*y}else this.velocityX=o,this.velocityY=l;a.acceleration&&(this.accelerationX=a.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=a.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=a.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=a.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=a.delay.onEmit(this,"delay"),this.scaleX=a.scaleX.onEmit(this,"scaleX"),this.scaleY=a.scaleY?a.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=a.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),this.bounce=a.bounce.onEmit(this,"bounce"),this.alpha=a.alpha.onEmit(this,"alpha"),this.tint=a.tint.onEmit(this,"tint");var f=255&(255*this.alpha|0);this.color=(f<<24|s(this.tint))>>>0,this.index=a.alive.length},computeVelocity:function(t,i,e,s){var h=this.velocityX,a=this.velocityY,o=this.accelerationX,l=this.accelerationY,n=this.maxVelocityX,c=this.maxVelocityY;h+=t.gravityX*e,a+=t.gravityY*e,o&&(h+=o*e),l&&(a+=l*e),h>n?h=n:h<-n&&(h=-n),a>c?a=c:a<-c&&(a=-c),this.velocityX=h,this.velocityY=a;for(var r=0;r<s.length;r++)s[r].update(this,i,e)},checkBounds:function(t){var i=t.bounds,e=-this.bounce;this.x<i.x&&t.collideLeft?(this.x=i.x,this.velocityX*=e):this.x>i.right&&t.collideRight&&(this.x=i.right,this.velocityX*=e),this.y<i.y&&t.collideTop?(this.y=i.y,this.velocityY*=e):this.y>i.bottom&&t.collideBottom&&(this.y=i.bottom,this.velocityY*=e)},update:function(t,e,h){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var a=this.emitter,o=1-this.lifeCurrent/this.life;if(this.lifeT=o,this.computeVelocity(a,t,e,h),this.x+=this.velocityX*e,this.y+=this.velocityY*e,a.bounds&&this.checkBounds(a),a.deathZone&&a.deathZone.willKill(this))return this.lifeCurrent=0,!0;this.scaleX=a.scaleX.onUpdate(this,"scaleX",o,this.scaleX),a.scaleY?this.scaleY=a.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=a.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=i(this.angle),this.alpha=a.alpha.onUpdate(this,"alpha",o,this.alpha),this.tint=a.tint.onUpdate(this,"tint",o,this.tint);var l=255&(255*this.alpha|0);return this.color=(l<<24|s(this.tint))>>>0,this.lifeCurrent-=t,this.lifeCurrent<=0}});module.exports=h;
},{"../../utils/Class":"f5Xp","../../math/DegToRad":"hyJn","../../math/distance/DistanceBetween":"EOwJ"}],"kWMo":[function(require,module,exports) {
var i=require("../../../utils/Class"),n=new i({initialize:function(i,n){this.source=i,this.killOnEnter=n},willKill:function(i){var n=this.source.contains(i.x,i.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});module.exports=n;
},{"../../../utils/Class":"f5Xp"}],"CdfN":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=new t({initialize:function(t,i,s,h,e){void 0===h&&(h=!1),void 0===e&&(e=!0),this.source=t,this.points=[],this.quantity=i,this.stepRate=s,this.yoyo=h,this.counter=-1,this.seamless=e,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],i=this.points[this.points.length-1];t.x===i.x&&t.y===i.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(t.x=i.x,t.y=i.y)}});module.exports=i;
},{"../../../utils/Class":"f5Xp"}],"S5AK":[function(require,module,exports) {
var r=function(r,n){return Math.random()*(n-r)+r};module.exports=r;
},{}],"dR9I":[function(require,module,exports) {
var r=require("../../math/easing/EaseMap"),e=function(e,t){if("string"==typeof e&&r.hasOwnProperty(e)){if(t){var n=t.slice(0);return n.unshift(0),function(t){return n[0]=t,r[e].apply(this,n)}}return r[e]}return"function"==typeof e?e:(Array.isArray(e)&&e.length,r.Power0)};module.exports=e;
},{"../../math/easing/EaseMap":"8S8r"}],"H2/x":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../../math/FloatBetween"),i=require("../../tweens/builders/GetEaseFunction"),s=require("../../utils/object/GetFastValue"),a=require("../../math/Wrap"),r=new t({initialize:function(t,e,i,s){void 0===s&&(s=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=s,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=s(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if("number"===e)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if("function"===e)this.emitOnly?this.onEmit=t:this.onUpdate=t;else if("object"===e&&(this.has(t,"random")||this.hasBoth(t,"start","end")||this.hasBoth(t,"min","max"))){this.start=this.has(t,"start")?t.start:t.min,this.end=this.has(t,"end")?t.end:t.max;var s=this.hasBoth(t,"min","max")||this.has(t,"random");if(s){var a=t.random;Array.isArray(a)&&(this.start=a[0],this.end=a[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var r=this.has(t,"ease")?t.ease:"Linear";this.ease=i(r),s||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else"object"===e&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,s){return s},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,i){var s=e(this.start,this.end);return t&&t.data[i]&&(t.data[i].min=s),s},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=a(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var s=t.data[e];return(s.max-s.min)*this.ease(i)+s.min}});module.exports=r;
},{"../../utils/Class":"f5Xp","../../math/FloatBetween":"S5AK","../../tweens/builders/GetEaseFunction":"dR9I","../../utils/object/GetFastValue":"SgIk","../../math/Wrap":"Xl2Y"}],"dtLT":[function(require,module,exports) {
var r=function(r,e){for(var n=0;n<e.length;n++)if(r.hasOwnProperty(e[n]))return!0;return!1};module.exports=r;
},{}],"tWBw":[function(require,module,exports) {
var r=function(r,e){return r.hasOwnProperty(e)};module.exports=r;
},{}],"7umP":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../../../math/Vector2"),i=new e({initialize:function(e){this.source=e,this._tempVec=new t},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});module.exports=i;
},{"../../../utils/Class":"f5Xp","../../../math/Vector2":"2OLl"}],"sVQf":[function(require,module,exports) {
var t=require("../../renderer/BlendModes"),e=require("../../utils/Class"),i=require("../components"),s=require("./zones/DeathZone"),a=require("./zones/EdgeZone"),n=require("./EmitterOp"),r=require("../../utils/object/GetFastValue"),h=require("../../utils/array/GetRandom"),l=require("../../utils/object/HasAny"),o=require("../../utils/object/HasValue"),c=require("./Particle"),u=require("./zones/RandomZone"),f=require("../../geom/rectangle/Rectangle"),d=require("../../utils/array/StableSort"),m=require("../../math/Vector2"),p=require("../../math/Wrap"),g=new e({Mixins:[i.BlendMode,i.Mask,i.ScrollFactor,i.Visible],initialize:function(e,i){this.manager=e,this.texture=e.texture,this.frames=[e.defaultFrame],this.defaultFrame=e.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=c,this.x=new n(i,"x",0),this.y=new n(i,"y",0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(i,"accelerationX",0,!0),this.accelerationY=new n(i,"accelerationY",0,!0),this.maxVelocityX=new n(i,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(i,"maxVelocityY",1e4,!0),this.speedX=new n(i,"speedX",0,!0),this.speedY=new n(i,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(i,"moveToX",0,!0),this.moveToY=new n(i,"moveToY",0,!0),this.bounce=new n(i,"bounce",0,!0),this.scaleX=new n(i,"scaleX",1),this.scaleY=new n(i,"scaleY",1),this.tint=new n(i,"tint",4294967295),this.alpha=new n(i,"alpha",1),this.lifespan=new n(i,"lifespan",1e3),this.angle=new n(i,"angle",{min:0,max:360}),this.rotate=new n(i,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(i,"quantity",1,!0),this.delay=new n(i,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=t.NORMAL,this.follow=null,this.followOffset=new m,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,i&&this.fromJSON(i)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],o(t,i)&&(this[i]=r(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],o(t,i)&&this[i].loadConfig(t);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,o(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(l(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),o(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),o(t,"callbackScope")){var s=r(t,"callbackScope",null);this.emitCallbackScope=s,this.deathCallbackScope=s}return o(t,"emitZone")&&this.setEmitZone(t.emitZone),o(t,"deathZone")&&this.setDeathZone(t.deathZone),o(t,"bounds")&&this.setBounds(t.bounds),o(t,"followOffset")&&this.followOffset.setFromObject(r(t,"followOffset",0)),o(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){void 0===t&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)t[i=this.configFastMap[e]]=this[i];for(e=0;e<this.configOpMap.length;e++)this[i=this.configOpMap[e]]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=s,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return h(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=p(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var s=typeof t;if(Array.isArray(t)||"string"===s||"number"===s)this.manager.setEmitterFrames(t,this);else if("object"===s){var a=t;(t=r(a,"frames",null))&&this.manager.setEmitterFrames(t,this);var n=r(a,"cycle",!1);this.randomFrame=!n,this.frameQuantity=r(a,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,s){if("object"==typeof t){var a=t;t=a.x,e=a.y,i=o(a,"w")?a.w:a.width,s=o(a,"h")?a.h:a.height}return this.bounds?this.bounds.setTo(t,e,i,s):this.bounds=new f(t,e,i,s),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(void 0===t)this.emitZone=null;else{var e=r(t,"type","random"),i=r(t,"source",null);switch(e){case"random":this.emitZone=new u(i);break;case"edge":var s=r(t,"quantity",1),n=r(t,"stepRate",0),h=r(t,"yoyo",!1),l=r(t,"seamless",!0);this.emitZone=new a(i,s,n,h,l)}}return this},setDeathZone:function(t){if(void 0===t)this.deathZone=null;else{var e=r(t,"type","onEnter"),i=r(t,"source",null);if(i&&"function"==typeof i.contains){var a="onEnter"===e;this.deathZone=new s(i,a)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,s=i.length,a=0;a<s;++a)t.call(e,i[a],this);return this},forEachDead:function(t,e){for(var i=this.dead,s=i.length,a=0;a<s;++a)t.call(e,i[a],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},depthSort:function(){return d.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return void 0===e&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.quantity.onEmit());for(var s=this.dead,a=0;a<t;a++){var n;if((n=s.length>0?s.pop():new this.particleClass(this)).fire(e,i),this.particleBringToTop?this.alive.push(n):this.alive.unshift(n),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,n,this),this.atLimit())break}return n}},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);for(var s=this.manager.getProcessors(),a=this.alive,n=a.length,r=0;r<n;r++){var h=a[r];if(h.update(e,i,s)){var l=a[n-1];a[n-1]=h,a[r]=l,r-=1,n-=1}}var o=a.length-n;if(o>0){var c=a.splice(a.length-o,o),u=this.deathCallback,f=this.deathCallbackScope;if(u)for(var m=0;m<c.length;m++)u.call(f,c[m]);this.dead.concat(c),d.inplace(a,this.indexSortCallback)}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y},indexSortCallback:function(t,e){return t.index-e.index}});module.exports=g;
},{"../../renderer/BlendModes":"GTnZ","../../utils/Class":"f5Xp","../components":"jkG5","./zones/DeathZone":"kWMo","./zones/EdgeZone":"CdfN","./EmitterOp":"H2/x","../../utils/object/GetFastValue":"SgIk","../../utils/array/GetRandom":"UJIq","../../utils/object/HasAny":"dtLT","../../utils/object/HasValue":"tWBw","./Particle":"hPPh","./zones/RandomZone":"7umP","../../geom/rectangle/Rectangle":"hff6","../../utils/array/StableSort":"jOv0","../../math/Vector2":"2OLl","../../math/Wrap":"Xl2Y"}],"ZGqw":[function(require,module,exports) {
var e=require("../GameObject"),r=function(r,t,a,l,i){var c=t.emitters.list;if(!(0===c.length||e.RENDER_MASK!==t.renderFlags||t.cameraFilter>0&&t.cameraFilter&l._id)){var o=this.pipeline,s=o._tempMatrix1.copyFrom(l.matrix),f=o._tempMatrix2,d=o._tempMatrix3;r.setPipeline(o);var v=l.roundPixels,h=t.defaultFrame.glTexture;o.setTexture2D(h,0);for(var m=0;m<c.length;m++){var p=c[m],n=p.alive,u=n.length;if(p.visible&&0!==u){var x=l.scrollX*p.scrollFactorX,b=l.scrollY*p.scrollFactorY;i&&(s.multiplyWithOffset(i,-x,-b),x=0,b=0),r.setBlendMode(p.blendMode);for(var g=0;g<u;g++){var F=n[g];if(!(F.alpha<=0)){var M=F.frame,y=F.color,_=-M.halfWidth,T=-M.halfHeight,D=_+M.width,R=T+M.height;d.applyITRS(0,0,F.rotation,F.scaleX,F.scaleY),d.e=F.x-x,d.f=F.y-b,s.multiply(d,f);var X=_*f.a+T*f.c+f.e,Y=_*f.b+T*f.d+f.f,E=_*f.a+R*f.c+f.e,O=_*f.b+R*f.d+f.f,P=D*f.a+R*f.c+f.e,S=D*f.b+R*f.d+f.f,W=D*f.a+T*f.c+f.e,j=D*f.b+T*f.d+f.f;v&&(X|=0,Y|=0,E|=0,O|=0,P|=0,S|=0,W|=0,j|=0),o.batchVertices(X,Y,E,O,P,S,W,j,M.u0,M.v0,M.u1,M.v1,y,y,y,y,!1)&&o.setTexture2D(h,0)}}}}}};module.exports=r;
},{"../GameObject":"HPsp"}],"OGf/":[function(require,module,exports) {
var e=require("../GameObject"),r=function(r,a,l,t,o){var i=a.emitters.list;if(!(0===i.length||e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&t._id)){var s=r.currentContext;if(s.save(),void 0!==o){var d=o.matrix;s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}for(var n=0;n<i.length;n++){var c=i[n],v=c.alive,h=v.length;if(c.visible&&0!==h){var g=s.globalAlpha,m=t.scrollX*c.scrollFactorX,b=t.scrollY*c.scrollFactorY;r.currentBlendMode!==c.blendMode&&(r.currentBlendMode=c.blendMode,s.globalCompositeOperation=r.blendModes[c.blendMode]);for(var f=0;f<h;++f){var u=v[f],p=t.alpha*(u.color>>24&255)/255;if(!(p<=0)){var M=u.frame,x=.5*M.width,F=.5*M.height,A=M.canvasData,X=-x,Y=-F,w=u.x-m,y=u.y-b;t.roundPixels&&(w|=0,y|=0),s.globalAlpha=p,s.save(),s.translate(w,y),s.rotate(u.rotation),s.scale(u.scaleX,u.scaleY),s.drawImage(M.source.image,A.sx,A.sy,A.sWidth,A.sHeight,X,Y,A.dWidth,A.dHeight),s.restore()}}s.globalAlpha=g}}s.restore()}};module.exports=r;
},{"../GameObject":"HPsp"}],"eCfr":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ParticleManagerWebGLRenderer"),r=require("./ParticleManagerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./ParticleManagerWebGLRenderer":"ZGqw","./ParticleManagerCanvasRenderer":"OGf/"}],"9dwU":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),r=require("../GameObject"),i=require("./GravityWell"),s=require("../../structs/List"),a=require("./ParticleEmitter"),n=require("./ParticleManagerRender"),u=new e({Extends:r,Mixins:[t.Depth,t.Pipeline,t.Visible,n],initialize:function(e,t,i,a){if(r.call(this,e,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(a=i,i=null),this.setTexture(t,i),this.initPipeline("TextureTintPipeline"),this.emitters=new s(this),this.wells=new s(this),a){Array.isArray(a)||(a=[a]);for(var n=0;n<a.length;n++)this.createEmitter(a[n])}},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){return this.frame=this.texture.get(e),this.frameNames=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),this.defaultFrame=this.frame,this},setEmitterFrames:function(e,t){Array.isArray(e)||(e=[e]);var r=t.frames;r.length=0;for(var i=0;i<e.length;i++){var s=e[i];-1!==this.frameNames.indexOf(s)&&r.push(this.texture.get(s))}return r.length>0?t.defaultFrame=r[0]:t.defaultFrame=this.defaultFrame,this},addEmitter:function(e){return this.emitters.add(e)},createEmitter:function(e){return this.addEmitter(new a(this,e))},addGravityWell:function(e){return this.wells.add(e)},createGravityWell:function(e){return this.addGravityWell(new i(e))},emitParticle:function(e,t,r){for(var i=this.emitters.list,s=0;s<i.length;s++){var a=i[s];a.active&&a.emitParticle(e,t,r)}return this},emitParticleAt:function(e,t,r){return this.emitParticle(r,e,t)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(e,t){t*=this.timeScale;for(var r=this.emitters.list,i=0;i<r.length;i++){var s=r[i];s.active&&s.preUpdate(e,t)}},setAlpha:function(){},setScrollFactor:function(){}});module.exports=u;
},{"../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","./GravityWell":"hRzZ","../../structs/List":"volj","./ParticleEmitter":"sVQf","./ParticleManagerRender":"eCfr"}],"+ku7":[function(require,module,exports) {
module.exports={DeathZone:require("./DeathZone"),EdgeZone:require("./EdgeZone"),RandomZone:require("./RandomZone")};
},{"./DeathZone":"kWMo","./EdgeZone":"CdfN","./RandomZone":"7umP"}],"V86B":[function(require,module,exports) {
module.exports={GravityWell:require("./GravityWell"),Particle:require("./Particle"),ParticleEmitter:require("./ParticleEmitter"),ParticleEmitterManager:require("./ParticleEmitterManager"),Zones:require("./zones")};
},{"./GravityWell":"hRzZ","./Particle":"hPPh","./ParticleEmitter":"sVQf","./ParticleEmitterManager":"9dwU","./zones":"+ku7"}],"kOvX":[function(require,module,exports) {
var r=function(r,e,n){return r&&r.hasOwnProperty(e)?r[e]:n};module.exports=r;
},{}],"iqms":[function(require,module,exports) {
var E={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};module.exports=E;
},{}],"YnRI":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../math/DegToRad"),s=require("../../tweens/builders/GetBoolean"),e=require("../../utils/object/GetValue"),a=require("../sprite/Sprite"),h=require("../../tweens/tween/const"),o=require("../../math/Vector2"),n=new t({Extends:a,initialize:function(t,i,s,e,n,r){a.call(this,t,s,e,n,r),this.path=i,this.rotateToPath=!1,this.pathRotationVerticalAdjust=!1,this.pathRotationOffset=0,this.pathOffset=new o(s,e),this.pathVector=new o,this.pathTween,this.pathConfig=null,this._prevDirection=h.PLAYING_FORWARD},setPath:function(t,i){void 0===i&&(i=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=t,i&&this.startFollow(i),this},setRotateToPath:function(t,i,s){return void 0===i&&(i=0),void 0===s&&(s=!1),this.rotateToPath=t,this.pathRotationOffset=i,this.pathRotationVerticalAdjust=s,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,a){void 0===t&&(t={}),void 0===a&&(a=0);var o=this.pathTween;o&&o.isPlaying()&&o.stop(),"number"==typeof t&&(t={duration:t}),t.from=0,t.to=1;var n=s(t,"positionOnPath",!1);if(this.rotateToPath=s(t,"rotateToPath",!1),this.pathRotationOffset=e(t,"rotationOffset",0),this.pathRotationVerticalAdjust=s(t,"verticalAdjust",!1),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),n&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var r=this.path.getPoint(.1);this.rotation=Math.atan2(r.y-this.y,r.x-this.x)+i(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},preUpdate:function(t,s){this.anims.update(t,s);var e=this.pathTween;if(e){var a=e.data[0];if(a.state!==h.PLAYING_FORWARD&&a.state!==h.PLAYING_BACKWARD)return;var o=this.pathVector;this.path.getPoint(e.getValue(),o),o.add(this.pathOffset);var n=this.x,r=this.y;this.setPosition(o.x,o.y);var p=this.x-n,f=this.y-r;if(0===p&&0===f)return;if(a.state!==this._prevDirection)return void(this._prevDirection=a.state);this.rotateToPath&&(this.rotation=Math.atan2(f,p)+i(this.pathRotationOffset),this.pathRotationVerticalAdjust&&(this.flipY=0!==this.rotation&&a.state===h.PLAYING_BACKWARD))}}});module.exports=n;
},{"../../utils/Class":"f5Xp","../../math/DegToRad":"hyJn","../../tweens/builders/GetBoolean":"kOvX","../../utils/object/GetValue":"8Li0","../sprite/Sprite":"X5p1","../../tweens/tween/const":"iqms","../../math/Vector2":"2OLl"}],"WDtv":[function(require,module,exports) {
var t=require("../GameObject"),e=require("../../renderer/webgl/Utils"),i=function(i,a,l,r,h){if(!(t.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&r._id)){var p=e.getTintAppendFloatAlpha;this.pipeline.batchTexture(a,a.texture,a.texture.width,a.texture.height,a.x,a.y,a.width,a.height,a.scaleX,a.scaleY,a.rotation,a.flipX,!a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,a.texture.width,a.texture.height,p(a._tintTL,r.alpha*a._alphaTL),p(a._tintTR,r.alpha*a._alphaTR),p(a._tintBL,r.alpha*a._alphaBL),p(a._tintBR,r.alpha*a._alphaBR),a._isTinted&&a.tintFill,0,0,r,h)}};module.exports=i;
},{"../GameObject":"HPsp","../../renderer/webgl/Utils":"WOZp"}],"QIsT":[function(require,module,exports) {
var e=require("../GameObject"),a=function(a,r,l,o,i){if(!(e.RENDER_MASK!==r.renderFlags||r.cameraFilter>0&&r.cameraFilter&o._id)){var t=a.currentContext,c=o.alpha*r.alpha;if(0!==c){a.currentAlpha!==c&&(a.currentAlpha=c,t.globalAlpha=c),a.currentBlendMode!==r.blendMode&&(a.currentBlendMode=r.blendMode,t.globalCompositeOperation=a.blendModes[r.blendMode]),a.currentScaleMode!==r.scaleMode&&(a.currentScaleMode=r.scaleMode);var n=0,d=0,s=1,p=1;if(r.flipX?(s=-1,n-=r.canvas.width-r.displayOriginX):n-=r.displayOriginX,r.flipY?(p=-1,d-=r.canvas.height-r.displayOriginY):d-=r.displayOriginY,t.save(),void 0!==i){var M=i.matrix;t.transform(M[0],M[1],M[2],M[3],M[4],M[5])}t.translate(r.x-o.scrollX*r.scrollFactorX,r.y-o.scrollY*r.scrollFactorY),t.rotate(r.rotation),t.scale(r.scaleX,r.scaleY),t.scale(s,p),t.drawImage(r.canvas,n,d),t.restore()}}};module.exports=a;
},{"../GameObject":"HPsp"}],"Yef3":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./RenderTextureWebGLRenderer"),r=require("./RenderTextureCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./RenderTextureWebGLRenderer":"WDtv","./RenderTextureCanvasRenderer":"QIsT"}],"uZFp":[function(require,module,exports) {
var t={fill:function(t){var s=255&(t>>16|0),i=255&(t>>8|0),e=255&(0|t);return this.context.fillStyle="rgb("+s+","+i+","+e+")",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this},clear:function(){return this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore(),this},draw:function(t,s,i,e){var h=s.canvasData,a=s.source.image,n=this.currentMatrix;return this.context.globalAlpha=this.globalAlpha,this.context.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),this.context.drawImage(a,h.sx,h.sy,h.sWidth,h.sHeight,i,e,h.dWidth,h.dHeight),this}};module.exports=t;
},{}],"jHVM":[function(require,module,exports) {
var r={fill:function(r,e){void 0===e&&(e=1);var t=255&(r>>16|0),i=255&(r>>8|0),l=255&(0|r);this.renderer.setFramebuffer(this.framebuffer);var h=this.gl;return h.clearColor(t/255,i/255,l/255,e),h.clear(h.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null),this},clear:function(){this.renderer.setFramebuffer(this.framebuffer);var r=this.gl;return r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null),this},draw:function(r,e,t,i,l){l=void 0===l?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(l>>16)+(65280&l)+((255&l)<<16),this.renderer.setFramebuffer(this.framebuffer);var h=this.pipeline;return h.projOrtho(0,h.width,0,h.height,-1e3,1e3),h.drawTextureFrame(e,t,i,l,this.globalAlpha,this.currentMatrix,null),this.renderer.setFramebuffer(null),h.projOrtho(0,h.width,h.height,0,-1e3,1e3),this}};module.exports=r;
},{}],"aaR7":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),r=require("../../utils/Class"),t=require("../components"),i=require("../../const"),s=require("../GameObject"),a=require("./RenderTextureRender"),n=require("./RenderTextureCanvas"),h=require("./RenderTextureWebGL"),l=new r({Extends:s,Mixins:[t.Alpha,t.BlendMode,t.ComputedSize,t.Depth,t.Flip,t.GetBounds,t.Mask,t.MatrixStack,t.Origin,t.Pipeline,t.ScaleMode,t.ScrollFactor,t.Tint,t.Transform,t.Visible,a],initialize:function(r,t,a,l,u){if(void 0===l&&(l=32),void 0===u&&(u=32),s.call(this,r,"RenderTexture"),this.initMatrixStack(),this.renderer=r.sys.game.renderer,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.context=null,this.framebuffer=null,this.renderer.type===i.WEBGL){var d=this.renderer.gl;this.gl=d,this.fill=h.fill,this.clear=h.clear,this.draw=h.draw,this.drawFrame=h.drawFrame,this.texture=this.renderer.createTexture2D(0,d.NEAREST,d.NEAREST,d.CLAMP_TO_EDGE,d.CLAMP_TO_EDGE,d.RGBA,null,l,u,!1),this.framebuffer=this.renderer.createFramebuffer(l,u,this.texture,!1)}else this.renderer.type===i.CANVAS&&(this.fill=n.fill,this.clear=n.clear,this.draw=n.draw,this.drawFrame=n.drawFrame,this.canvas=e.create2D(this,l,u),this.context=this.canvas.getContext("2d"));this.setPosition(t,a),this.setSize(l,u),this.initPipeline("TextureTintPipeline")},resize:function(e,r){if(void 0===r&&(r=e),e!==this.width||r!==this.height){if(this.canvas)this.canvas.width=e,this.canvas.height=r;else{this.renderer.deleteTexture(this.texture),this.renderer.deleteFramebuffer(this.framebuffer);var t=this.renderer.gl;this.texture=this.renderer.createTexture2D(0,t.NEAREST,t.NEAREST,t.CLAMP_TO_EDGE,t.CLAMP_TO_EDGE,t.RGBA,null,e,r,!1),this.framebuffer=this.renderer.createFramebuffer(e,r,this.texture,!1)}this.setSize(e,r)}return this},setGlobalTint:function(e){return this.globalTint=e,this},setGlobalAlpha:function(e){return this.globalAlpha=e,this},preDestroy:function(){this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.texture),this.renderer.deleteFramebuffer(this.framebuffer))}});module.exports=l;
},{"../../display/canvas/CanvasPool":"RqeD","../../utils/Class":"f5Xp","../components":"jkG5","../../const":"rdvC","../GameObject":"HPsp","./RenderTextureRender":"Yef3","./RenderTextureCanvas":"uZFp","./RenderTextureWebGL":"jHVM"}],"MWeH":[function(require,module,exports) {
var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"};module.exports=T;
},{}],"zyfF":[function(require,module,exports) {
var e=require("../../utils/object/GetValue"),t=function(t,r){var a=r.width,n=r.height,h=Math.floor(a/2),i=Math.floor(n/2),o=e(r,"chars","");if(""!==o){var s=e(r,"image",""),f=e(r,"offset.x",0),l=e(r,"offset.y",0),c=e(r,"spacing.x",0),g=e(r,"spacing.y",0),u=e(r,"charsPerRow",null);null===u&&(u=t.sys.textures.getFrame(s).width/a)>o.length&&(u=o.length);for(var d=f,x=l,v={retroFont:!0,font:s,size:a,lineHeight:n,chars:{}},y=0,m=0;m<o.length;m++){var w=o.charCodeAt(m);v.chars[w]={x:d,y:x,width:a,height:n,centerX:h,centerY:i,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{}},++y===u?(y=0,d=f,x+=n+g):d+=a+c}return{data:v,frame:null,texture:s}}};module.exports=t;
},{"../../utils/object/GetValue":"8Li0"}],"OQ93":[function(require,module,exports) {
var e=require("./const"),r=require("../../utils/object/Extend"),t={Parse:require("./ParseRetroFont")};t=r(!1,t,e),module.exports=t;
},{"./const":"MWeH","../../utils/object/Extend":"Wu2m","./ParseRetroFont":"zyfF"}],"gtl7":[function(require,module,exports) {
var e=function(e,t,n){var i=e.canvas,a=e.context,s=e.style,h=[],r=0,l=n.length;s.maxLines>0&&s.maxLines<n.length&&(l=s.maxLines),s.syncFont(i,a);for(var o=0;o<l;o++){var c=s.strokeThickness;c+=a.measureText(n[o]).width,s.wordWrap&&(c-=a.measureText(" ").width),h[o]=Math.ceil(c),r=Math.max(r,h[o])}var g=t.fontSize+s.strokeThickness,x=g*l,m=e._lineSpacing||0;return m<0&&Math.abs(m)>g&&(m=-g),0!==m&&(x+=m>0?m*n.length:m*(n.length-1)),{width:r,height:x,lines:l,lineWidths:h,lineSpacing:m,lineHeight:g}};module.exports=e;
},{}],"OdGT":[function(require,module,exports) {
var a=require("../../GameObject"),e=require("../../../renderer/webgl/Utils"),t=function(t,i,r,l,n){if(!(a.RENDER_MASK!==i.renderFlags||i.cameraFilter>0&&i.cameraFilter&l.id||""===i.text)){i.dirty&&(i.canvasTexture=t.canvasToTexture(i.canvas,i.canvasTexture),i.dirty=!1);var c=e.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,i.canvasTexture,i.canvasTexture.width,i.canvasTexture.height,i.x,i.y,i.canvasTexture.width,i.canvasTexture.height,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,i.canvasTexture.width,i.canvasTexture.height,c(i._tintTL,l.alpha*i._alphaTL),c(i._tintTR,l.alpha*i._alphaTR),c(i._tintBL,l.alpha*i._alphaBL),c(i._tintBR,l.alpha*i._alphaBR),i._isTinted&&i.tintFill,0,0,l,n)}};module.exports=t;
},{"../../GameObject":"HPsp","../../../renderer/webgl/Utils":"WOZp"}],"RFhn":[function(require,module,exports) {
var e=require("../../GameObject"),r=function(r,a,l,t,o){if(!(e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&t.id||""===a.text)){var i=r.currentContext,d=t.alpha*a.alpha;if(0!==d){r.currentAlpha!==d&&(r.currentAlpha=d,i.globalAlpha=d),r.currentBlendMode!==a.blendMode&&(r.currentBlendMode=a.blendMode,i.globalCompositeOperation=r.blendModes[a.blendMode]),r.currentScaleMode!==a.scaleMode&&(r.currentScaleMode=a.scaleMode);var c=a.canvas;if(i.save(),void 0!==o){var n=o.matrix;i.transform(n[0],n[1],n[2],n[3],n[4],n[5])}var s=a.x-t.scrollX*a.scrollFactorX,h=a.y-t.scrollY*a.scrollFactorY;t.roundPixels&&(s|=0,h|=0),i.translate(s,h),i.rotate(a.rotation),i.scale(a.scaleX,a.scaleY),i.translate(c.width*(a.flipX?1:0),c.height*(a.flipY?1:0)),i.scale(a.flipX?-1:1,a.flipY?-1:1),i.drawImage(c,0,0,c.width,c.height,-a.displayOriginX,-a.displayOriginY,c.width,c.height),i.restore()}}};module.exports=r;
},{"../../GameObject":"HPsp"}],"gL4M":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./TextWebGLRenderer"),r=require("./TextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"u3ni","./TextWebGLRenderer":"OdGT","./TextCanvasRenderer":"RFhn"}],"W0GU":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),t=function(t){var a=e.create(this),n=a.getContext("2d");t.syncFont(a,n);var i=Math.ceil(n.measureText(t.testString).width*t.baselineX),r=i,s=2*r;r=r*t.baselineY|0,a.width=i,a.height=s,n.fillStyle="#f00",n.fillRect(0,0,i,s),n.font=t._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(t.testString,0,r);var f={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,i,s))return f.ascent=r,f.descent=r+6,f.fontSize=f.ascent+f.descent,e.remove(a),f;var l,o,c=n.getImageData(0,0,i,s).data,d=c.length,g=4*i,v=0,h=!1;for(l=0;l<r;l++){for(o=0;o<g;o+=4)if(255!==c[v+o]){h=!0;break}if(h)break;v+=g}for(f.ascent=r-l,v=d-g,h=!1,l=s;l>r;l--){for(o=0;o<g;o+=4)if(255!==c[v+o]){h=!0;break}if(h)break;v-=g}return f.descent=l-r,f.fontSize=f.ascent+f.descent,e.remove(a),f};module.exports=t;
},{"../../display/canvas/CanvasPool":"RqeD"}],"v98F":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../utils/object/GetAdvancedValue"),s=require("../../utils/object/GetValue"),e=require("./MeasureText"),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new t({initialize:function(t,i){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1);var o=s(i,"metrics",!1);this.metrics=o?{ascent:s(o,"ascent",0),descent:s(o,"descent",0),fontSize:s(o,"fontSize",0)}:e(this)},setStyle:function(t,e){for(var n in void 0===e&&(e=!0),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),o)this[n]="wordWrapCallback"===n||"wordWrapCallbackScope"===n?s(t,o[n][0],o[n][1]):i(t,o[n][0],o[n][1]);var r=s(t,"font",null);this._font=null===r?[this.fontStyle,this.fontSize,this.fontFamily].join(" "):r;var h=s(t,"fill",null);return null!==h&&(this.color=h),e?this.update(!0):this.parent},syncFont:function(t,i){i.font=this._font},syncStyle:function(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"},syncShadow:function(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" "),this.metrics=e(this)),this.parent.updateText()},setFont:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=s(t,"fontFamily","Courier"),this.fontSize=s(t,"fontSize","16px"),this.fontStyle=s(t,"fontStyle","")),this.update(!0)},setFontFamily:function(t){return this.fontFamily=t,this.update(!0)},setFontStyle:function(t){return this.fontStyle=t,this.update(!0)},setFontSize:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setStroke:function(t,i){return void 0===t?this.strokeThickness=0:(void 0===i&&(i=this.strokeThickness),this.stroke=t,this.strokeThickness=i),this.update(!0)},setShadow:function(t,i,s,e,o,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s="#000"),void 0===e&&(e=0),void 0===o&&(o=!1),void 0===n&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=s,this.shadowBlur=e,this.shadowStroke=o,this.shadowFill=n,this.update(!1)},setShadowOffset:function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,i){return void 0===i&&(i=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=i,this.update(!1)},setWordWrapCallback:function(t,i){return void 0===i&&(i=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=i,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var i in o)t[i]=this[i];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});module.exports=n;
},{"../../utils/Class":"f5Xp","../../utils/object/GetAdvancedValue":"Isbx","../../utils/object/GetValue":"8Li0","./MeasureText":"W0GU"}],"0uax":[function(require,module,exports) {
var t=require("../../../dom/AddToDOM"),e=require("../../../display/canvas/CanvasPool"),i=require("../../../utils/Class"),s=require("../../components"),n=require("../../../const"),r=require("../../GameObject"),o=require("../GetTextSize"),a=require("../../../utils/object/GetValue"),h=require("../../../dom/RemoveFromDOM"),l=require("./TextRender"),d=require("../TextStyle"),u=new i({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Tint,s.Transform,s.Visible,l],initialize:function(t,i,s,o,a){void 0===i&&(i=0),void 0===s&&(s=0),r.call(this,t,"Text"),this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.canvas=e.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,a),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this.text="",this.resolution=1,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.canvasTexture=null,this.dirty=!1,this.initRTL(),a&&a.padding&&this.setPadding(a.padding),a&&a.lineSpacing&&(this._lineSpacing=a.lineSpacing),this.setText(o),t.sys.game.config.renderType===n.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.canvasTexture=null,this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",t(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var s="",n=t.replace(/ +/gi," ").split(this.splitRegExp),r=n.length,o=0;o<r;o++){var a=n[o],h="";if(a=a.replace(/^ *|\s*$/gi,""),e.measureText(a).width<i)s+=a+"\n";else{for(var l=i,d=a.split(" "),u=0;u<d.length;u++){var c=d[u],p=c+" ",g=e.measureText(p).width;if(g>l){if(0===u){for(var y=p;y.length&&(y=y.slice(0,-1),!((g=e.measureText(y).width)<=l)););if(!y.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var f=c.substr(y.length);d[u]=f,h+=y}var x=d[u].length?u:u+1,v=d.slice(x).join(" ").replace(/[ \n]*$/gi,"");n[o+1]=v+" "+(n[o+1]||""),r=n.length;break}h+=p,l-=g}s+=h.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var s="",n=t.split(this.splitRegExp),r=0;r<n.length;r++){for(var o=i,a=n[r].split(" "),h=0;h<a.length;h++){var l=e.measureText(a[h]).width,d=l+e.measureText(" ").width;d>o?(h>0&&(s+="\n"),s+=a[h]+" ",o=i-l):(o-=d,s+=a[h],h<a.length-1&&(s+=" "))}r<n.length-1&&(s+="\n")}return s},getWrappedText:function(t){return void 0===t&&(t=this.text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this.text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,n,r){return this.style.setShadow(t,e,i,s,n,r)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setPadding:function(t,e,i,s){if("object"==typeof t){var n=t,r=a(n,"x",null);null!==r?(t=r,i=r):(t=a(n,"left",0),i=a(n,"right",t));var o=a(n,"y",null);null!==o?(e=o,s=o):(e=a(n,"top",0),s=a(n,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,s=this.resolution,n=i.metrics;i.syncFont(t,e);var r=this.text;(i.wordWrapWidth||i.wordWrapCallback)&&(r=this.runWordWrap(this.text));var a,h,l=r.split(this.splitRegExp),d=o(this,n,l),u=this.padding,c=d.width+u.left+u.right,p=d.height+u.top+u.bottom;0===i.fixedWidth&&(this.width=c),0===i.fixedHeight&&(this.height=p),this.updateDisplayOrigin(),c*=s,p*=s,c=Math.max(c,1),p=Math.max(p,1),t.width!==c||t.height!==p?(t.width=c,t.height=p,i.syncFont(t,e)):e.clearRect(0,0,c,p),e.save(),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,c,p)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(u.left,u.top);for(var g=0;g<d.lines;g++)a=i.strokeThickness/2,h=i.strokeThickness/2+g*d.lineHeight+n.ascent,g>0&&(h+=d.lineSpacing*g),i.rtl?a=c-a:"right"===i.align?a+=d.width-d.lineWidths[g]:"center"===i.align&&(a+=(d.width-d.lineWidths[g])/2),this.autoRound&&(a=Math.round(a),h=Math.round(h)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(l[g],a,h)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(l[g],a,h));return e.restore(),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=s.ToJSON(this),e={autoRound:this.autoRound,text:this.text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&h(this.canvas),e.remove(this.canvas)}});module.exports=u;
},{"../../../dom/AddToDOM":"cgN6","../../../display/canvas/CanvasPool":"RqeD","../../../utils/Class":"f5Xp","../../components":"jkG5","../../../const":"rdvC","../../GameObject":"HPsp","../GetTextSize":"gtl7","../../../utils/object/GetValue":"8Li0","../../../dom/RemoveFromDOM":"YPJh","./TextRender":"gL4M","../TextStyle":"v98F"}],"GcHX":[function(require,module,exports) {
var r=function(r){var t=Math.log(r)/.6931471805599453;return 1<<Math.ceil(t)};module.exports=r;
},{}],"2W9u":[function(require,module,exports) {
var e=require("../GameObject"),i=require("../../renderer/webgl/Utils"),t=function(t,a,l,r,h){if(!(e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&r.id)){a.updateTileTexture();var n=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(a,a.tileTexture,a.frame.width*a.tileScaleX,a.frame.height*a.tileScaleY,a.x,a.y,a.width,a.height,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*a.width,a.originY*a.height,0,0,a.width,a.height,n(a._tintTL,r.alpha*a._alphaTL),n(a._tintTR,r.alpha*a._alphaTR),n(a._tintBL,r.alpha*a._alphaBL),n(a._tintBR,r.alpha*a._alphaBR),a._isTinted&&a.tintFill,a.tilePositionX%a.frame.width/a.frame.width,a.tilePositionY%a.frame.height/a.frame.height,r,h)}};module.exports=t;
},{"../GameObject":"HPsp","../../renderer/webgl/Utils":"WOZp"}],"ZKiq":[function(require,module,exports) {
var e=require("../GameObject"),t=function(t,i,l,r,a){if(!(e.RENDER_MASK!==i.renderFlags||i.cameraFilter>0&&i.cameraFilter&r.id)){var o=t.currentContext,n=i.frame;i.updateTileTexture();var s=r.alpha*i.alpha;if(0!==s){t.currentAlpha!==s&&(t.currentAlpha=s,o.globalAlpha=s),t.currentBlendMode!==i.blendMode&&(t.currentBlendMode=i.blendMode,o.globalCompositeOperation=t.blendModes[i.blendMode]),t.currentScaleMode!==i.scaleMode&&(t.currentScaleMode=i.scaleMode);var c=n.x-i.originX*i.width,d=n.y-i.originY*i.height,h=i.x-r.scrollX*i.scrollFactorX,g=i.y-r.scrollY*i.scrollFactorY,u=1,p=1;if(i.flipX&&(u=-1,c+=i.width),i.flipY&&(p=-1,d+=i.height),r.roundPixels&&(c|=0,d|=0,h|=0,g|=0),o.save(),void 0!==a){var M=a.matrix;o.transform(M[0],M[1],M[2],M[3],M[4],M[5])}o.translate(c,d),o.translate(h,g),o.scale(u,p),o.translate(i.originX*i.width,i.originY*i.height),o.rotate(u*p*i.rotation),o.scale(this.scaleX,this.scaleY),o.translate(-i.originX*i.width,-i.originY*i.height),o.scale(i.tileScaleX,i.tileScaleY),o.translate(-this.tilePositionX,-this.tilePositionY),o.fillStyle=i.tileTexture,o.fillRect(this.tilePositionX,this.tilePositionY,i.width/i.tileScaleX,i.height/i.tileScaleY),o.restore()}}};module.exports=t;
},{"../GameObject":"HPsp"}],"EO3U":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./TileSpriteWebGLRenderer"),r=require("./TileSpriteCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./TileSpriteWebGLRenderer":"2W9u","./TileSpriteCanvasRenderer":"ZKiq"}],"qf/N":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),t=require("../../utils/Class"),i=require("../components"),r=require("../../const"),s=require("../GameObject"),h=require("../../math/pow2/GetPowerOfTwo"),n=require("./TileSpriteRender"),a=new t({Extends:s,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScaleMode,i.ScrollFactor,i.Texture,i.Tint,i.Transform,i.Visible,n],initialize:function(t,i,n,a,l,o,u){var d=t.sys.game.renderer;s.call(this,t,"TileSprite"),this.tilePositionX=0,this.tilePositionY=0,this.tileScaleX=1,this.tileScaleY=1,this.dirty=!0,this.tileTexture=null,this.renderer=d,this.setTexture(o,u),this.setPosition(i,n),this.setSize(a,l),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline"),this.potWidth=h(this.frame.width),this.potHeight=h(this.frame.height),this.canvasBuffer=e.create2D(this,this.potWidth,this.potHeight),this.canvasBufferCtx=this.canvasBuffer.getContext("2d"),this.oldFrame=null,this.updateTileTexture(),t.sys.game.config.renderType===r.WEBGL&&t.sys.game.renderer.onContextRestored(function(e){var t=e.gl;this.tileTexture=null,this.dirty=!0,this.tileTexture=e.createTexture2D(0,t.LINEAR,t.LINEAR,t.REPEAT,t.REPEAT,t.RGBA,this.canvasBuffer,this.potWidth,this.potHeight)},this)},setTilePosition:function(e,t){return void 0!==e&&(this.tilePositionX=e),void 0!==t&&(this.tilePositionY=t),this},updateTileTexture:function(){var e=this.frame;if(this.dirty||this.oldFrame!==e){this.oldFrame=e;var t=this.canvasBufferCtx,i=this.canvasBuffer,r=this.potWidth,s=this.potHeight;this.renderer.gl||(r=e.cutWidth,s=e.cutHeight),t.clearRect(0,0,i.width,i.height),i.width=r,i.height=s,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,r,s),this.tileTexture=this.renderer.gl?this.renderer.canvasToTexture(i,this.tileTexture):t.createPattern(i,"repeat"),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.tileTexture),e.remove(this.canvasBuffer),this.tileTexture=null,this.canvasBufferCtx=null,this.canvasBuffer=null,this.renderer=null}});module.exports=a;
},{"../../display/canvas/CanvasPool":"RqeD","../../utils/Class":"f5Xp","../components":"jkG5","../../const":"rdvC","../GameObject":"HPsp","../../math/pow2/GetPowerOfTwo":"GcHX","./TileSpriteRender":"EO3U"}],"FfLN":[function(require,module,exports) {
var e=require("./Blitter"),r=require("../GameObjectFactory");r.register("blitter",function(r,t,i,s){return this.displayList.add(new e(this.scene,r,t,i,s))});
},{"./Blitter":"0XF/","../GameObjectFactory":"qgZB"}],"Ax31":[function(require,module,exports) {
var e=require("./Container"),r=require("../GameObjectFactory");r.register("container",function(r,i,t){return this.displayList.add(new e(this.scene,r,i,t))});
},{"./Container":"19Hp","../GameObjectFactory":"qgZB"}],"adRO":[function(require,module,exports) {
var e=require("./DynamicBitmapText"),i=require("../../GameObjectFactory");i.register("dynamicBitmapText",function(i,t,r,a,n){return this.displayList.add(new e(this.scene,i,t,r,a,n))});
},{"./DynamicBitmapText":"X6De","../../GameObjectFactory":"qgZB"}],"x0dl":[function(require,module,exports) {
var e=require("./Graphics"),r=require("../GameObjectFactory");r.register("graphics",function(r){return this.displayList.add(new e(this.scene,r))});
},{"./Graphics":"wk71","../GameObjectFactory":"qgZB"}],"xTga":[function(require,module,exports) {
var e=require("./Group"),r=require("../GameObjectFactory");r.register("group",function(r,t){return"object"==typeof r&&void 0===t&&(t=r,r=[]),this.updateList.add(new e(this.scene,r,t))});
},{"./Group":"+G/V","../GameObjectFactory":"qgZB"}],"Cl9m":[function(require,module,exports) {
var e=require("./Image"),r=require("../GameObjectFactory");r.register("image",function(r,i,t,a){return this.displayList.add(new e(this.scene,r,i,t,a))});
},{"./Image":"hn+d","../GameObjectFactory":"qgZB"}],"V8rA":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./ParticleEmitterManager");e.register("particles",function(e,t,i){var a=new r(this.scene,e,t,i);return this.displayList.add(a),this.updateList.add(a),a});
},{"../GameObjectFactory":"qgZB","./ParticleEmitterManager":"9dwU"}],"RdPP":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./PathFollower");e.register("follower",function(e,t,i,a,s){var d=new r(this.scene,e,t,i,a,s);return this.displayList.add(d),this.updateList.add(d),d});
},{"../GameObjectFactory":"qgZB","./PathFollower":"YnRI"}],"UBQf":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./RenderTexture");e.register("renderTexture",function(e,t,i,n){return this.displayList.add(new r(this.scene,e,t,i,n))});
},{"../GameObjectFactory":"qgZB","./RenderTexture":"aaR7"}],"IqUu":[function(require,module,exports) {
var e=require("./Sprite3D"),t=require("../GameObjectFactory");t.register("sprite3D",function(t,r,i,a,s){var c=new e(this.scene,t,r,i,a,s);return this.displayList.add(c.gameObject),this.updateList.add(c.gameObject),c});
},{"./Sprite3D":"6R7U","../GameObjectFactory":"qgZB"}],"KGIC":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./Sprite");e.register("sprite",function(e,t,i,s){var a=new r(this.scene,e,t,i,s);return this.displayList.add(a),this.updateList.add(a),a});
},{"../GameObjectFactory":"qgZB","./Sprite":"X5p1"}],"TO0i":[function(require,module,exports) {
var e=require("./BitmapText"),t=require("../../GameObjectFactory");t.register("bitmapText",function(t,i,r,a,s,n){return this.displayList.add(new e(this.scene,t,i,r,a,s,n))});
},{"./BitmapText":"A+/Q","../../GameObjectFactory":"qgZB"}],"yYgb":[function(require,module,exports) {
var e=require("./Text"),t=require("../../GameObjectFactory");t.register("text",function(t,r,i,s){return this.displayList.add(new e(this.scene,t,r,i,s))});
},{"./Text":"0uax","../../GameObjectFactory":"qgZB"}],"Li5Y":[function(require,module,exports) {
var e=require("./TileSprite"),i=require("../GameObjectFactory");i.register("tileSprite",function(i,r,t,s,a,n){return this.displayList.add(new e(this.scene,i,r,t,s,a,n))});
},{"./TileSprite":"qf/N","../GameObjectFactory":"qgZB"}],"vSBC":[function(require,module,exports) {
var e=require("./Zone"),r=require("../GameObjectFactory");r.register("zone",function(r,i,t,n){return this.displayList.add(new e(this.scene,r,i,t,n))});
},{"./Zone":"N+fO","../GameObjectFactory":"qgZB"}],"bru/":[function(require,module,exports) {
var e=require("./Blitter"),r=require("../BuildGameObject"),t=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue");t.register("blitter",function(t,u){void 0===t&&(t={});var a=i(t,"key",null),l=i(t,"frame",null),n=new e(this.scene,0,0,a,l);return void 0!==u&&(t.add=u),r(this.scene,n,t),n});
},{"./Blitter":"0XF/","../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx"}],"1dYC":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("./Container"),i=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue");i.register("container",function(i,n){void 0===i&&(i={});var a=t(i,"x",0),u=t(i,"y",0),c=new r(this.scene,a,u);return void 0!==n&&(i.add=n),e(this.scene,c,i),c});
},{"../BuildGameObject":"FGAx","./Container":"19Hp","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx"}],"THmx":[function(require,module,exports) {
var e=require("./DynamicBitmapText"),t=require("../../BuildGameObject"),i=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue");i.register("dynamicBitmapText",function(i,a){void 0===i&&(i={});var n=r(i,"font",""),c=r(i,"text",""),u=r(i,"size",!1),d=new e(this.scene,0,0,n,c,u);return void 0!==a&&(i.add=a),t(this.scene,d,i),d});
},{"./DynamicBitmapText":"X6De","../../BuildGameObject":"FGAx","../../GameObjectCreator":"FDVK","../../../utils/object/GetAdvancedValue":"Isbx"}],"WCmJ":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("./Graphics");e.register("graphics",function(e,i){void 0===e&&(e={}),void 0!==i&&(e.add=i);var s=new r(this.scene,e);return e.add&&this.scene.sys.displayList.add(s),s});
},{"../GameObjectCreator":"FDVK","./Graphics":"wk71"}],"hXzK":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("./Group");e.register("group",function(e){return new r(this.scene,null,e)});
},{"../GameObjectCreator":"FDVK","./Group":"+G/V"}],"CVdR":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),a=require("./Image");r.register("image",function(r,t){void 0===r&&(r={});var u=i(r,"key",null),n=i(r,"frame",null),c=new a(this.scene,0,0,u,n);return void 0!==t&&(r.add=t),e(this.scene,c,r),c});
},{"../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./Image":"hn+d"}],"7FR9":[function(require,module,exports) {
var e=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),r=require("../../utils/object/GetFastValue"),i=require("./ParticleEmitterManager");e.register("particles",function(e,a){void 0===e&&(e={});var d=t(e,"key",null),u=t(e,"frame",null),l=r(e,"emitters",null),s=new i(this.scene,d,u,l);return void 0!==a&&(e.add=a),r(e,"add",!1)&&this.displayList.add(s),this.updateList.add(s),s});
},{"../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","../../utils/object/GetFastValue":"SgIk","./ParticleEmitterManager":"9dwU"}],"SiEV":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),i=require("./RenderTexture");r.register("renderTexture",function(r,u){void 0===r&&(r={});var d=t(r,"x",0),n=t(r,"y",0),a=t(r,"width",32),c=t(r,"height",32),s=new i(this.scene,d,n,a,c);return void 0!==u&&(r.add=u),e(this.scene,s,r),s});
},{"../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./RenderTexture":"aaR7"}],"3w/D":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../BuildGameObjectAnimation"),i=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),u=require("./Sprite3D");i.register("sprite3D",function(i,a){void 0===i&&(i={});var n=t(i,"key",null),c=t(i,"frame",null),d=new u(this.scene,0,0,n,c);return void 0!==a&&(i.add=a),e(this.scene,d,i),r(d,i),d});
},{"../BuildGameObject":"FGAx","../BuildGameObjectAnimation":"REx2","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./Sprite3D":"6R7U"}],"lkNh":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../BuildGameObjectAnimation"),i=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),u=require("./Sprite");i.register("sprite",function(i,a){void 0===i&&(i={});var n=t(i,"key",null),c=t(i,"frame",null),d=new u(this.scene,0,0,n,c);return void 0!==a&&(i.add=a),e(this.scene,d,i),r(d,i),d});
},{"../BuildGameObject":"FGAx","../BuildGameObjectAnimation":"REx2","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./Sprite":"X5p1"}],"3aLy":[function(require,module,exports) {
var e=require("./BitmapText"),t=require("../../BuildGameObject"),i=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue"),a=require("../../../utils/object/GetValue");i.register("bitmapText",function(i,u){void 0===i&&(i={});var n=a(i,"font",""),c=r(i,"text",""),s=r(i,"size",!1),d=a(i,"align",0),o=new e(this.scene,0,0,n,c,s,d);return void 0!==u&&(i.add=u),t(this.scene,o,i),o});
},{"./BitmapText":"A+/Q","../../BuildGameObject":"FGAx","../../GameObjectCreator":"FDVK","../../../utils/object/GetAdvancedValue":"Isbx","../../../utils/object/GetValue":"8Li0"}],"Okua":[function(require,module,exports) {
var e=require("../../BuildGameObject"),t=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue"),u=require("./Text");t.register("text",function(t,i){void 0===t&&(t={});var n=r(t,"text",""),a=r(t,"style",null),d=r(t,"padding",null);null!==d&&(a.padding=d);var o=new u(this.scene,0,0,n,a);return void 0!==i&&(t.add=i),e(this.scene,o,t),o.autoRound=r(t,"autoRound",!0),o.resolution=r(t,"resolution",1),o});
},{"../../BuildGameObject":"FGAx","../../GameObjectCreator":"FDVK","../../../utils/object/GetAdvancedValue":"Isbx","./Text":"0uax"}],"Hdwh":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("./TileSprite");r.register("tileSprite",function(r,a){void 0===r&&(r={});var u=i(r,"x",0),d=i(r,"y",0),c=i(r,"width",512),n=i(r,"height",512),s=i(r,"key",""),h=i(r,"frame",""),l=new t(this.scene,u,d,c,n,s,h);return void 0!==a&&(r.add=a),e(this.scene,l,r),l});
},{"../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./TileSprite":"qf/N"}],"K3UW":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("../../utils/object/GetAdvancedValue"),t=require("./Zone");e.register("zone",function(e){var i=r(e,"x",0),n=r(e,"y",0),u=r(e,"width",1),a=r(e,"height",u);return new t(this.scene,i,n,u,a)});
},{"../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./Zone":"N+fO"}],"mzjH":[function(require,module,exports) {
var e=require("../GameObject"),r=require("../../renderer/webgl/Utils"),t=function(t,l,a,o,i){if(!(e.RENDER_MASK!==l.renderFlags||l.cameraFilter>0&&l.cameraFilter&o.id)){var c=this.pipeline;t.setPipeline(c,l);var s=c._tempMatrix1,p=c._tempMatrix2,n=c._tempMatrix3;p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),s.copyFrom(o.matrix),i?(s.multiplyWithOffset(i,-o.scrollX*l.scrollFactorX,-o.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y,s.multiply(p,n)):(p.e-=o.scrollX*l.scrollFactorX,p.f-=o.scrollY*l.scrollFactorY,s.multiply(p,n));var x=l.frame.glTexture;c.setTexture2D(x,0);var u=l.vertices,v=l.uv,m=l.colors,f=l.alphas,F=u.length,h=Math.floor(.5*F);c.vertexCount+h>=c.vertexCapacity&&c.flush();for(var y=c.vertexViewF32,d=c.vertexViewU32,C=c.vertexCount*c.vertexComponentCount-1,g=0,M=l.tintFill,X=0;X<F;X+=2){var Y=u[X+0],T=u[X+1],_=Y*n.a+T*n.c+n.e,b=Y*n.b+T*n.d+n.f;o.roundPixels&&(_|=0,b|=0),y[++C]=_,y[++C]=b,y[++C]=v[X+0],y[++C]=v[X+1],y[++C]=M,d[++C]=r.getTintAppendFloatAlpha(m[g],o.alpha*f[g]),g++}c.vertexCount+=h}};module.exports=t;
},{"../GameObject":"HPsp","../../renderer/webgl/Utils":"WOZp"}],"R8B/":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./MeshWebGLRenderer"),r=require("./MeshCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./MeshWebGLRenderer":"mzjH","./MeshCanvasRenderer":"u3ni"}],"RuJQ":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),i=require("../GameObject"),r=require("./MeshRender"),n=new e({Extends:i,Mixins:[t.Alpha,t.BlendMode,t.Depth,t.Flip,t.GetBounds,t.Mask,t.Origin,t.Pipeline,t.ScaleMode,t.Size,t.Texture,t.Transform,t.Visible,t.ScrollFactor,r],initialize:function(e,t,r,n,s,h,o,l,a){if(i.call(this,e,"Mesh"),n.length!==s.length)throw new Error("Mesh Vertex count must match UV count");var u,c=n.length/2|0;if(h.length>0&&h.length<c)throw new Error("Mesh Color count must match Vertex count");if(o.length>0&&o.length<c)throw new Error("Mesh Alpha count must match Vertex count");if(0===h.length)for(u=0;u<c;++u)h[u]=16777215;if(0===o.length)for(u=0;u<c;++u)o[u]=1;this.vertices=new Float32Array(n),this.uv=new Float32Array(s),this.colors=new Uint32Array(h),this.alphas=new Float32Array(o),this.tintFill=!1,this.setTexture(l,a),this.setPosition(t,r),this.setSizeToFrame(),this.setOrigin(),this.initPipeline("TextureTintPipeline")}});module.exports=n;
},{"../../utils/Class":"f5Xp","../components":"jkG5","../GameObject":"HPsp","./MeshRender":"R8B/"}],"bsFi":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../mesh/Mesh"),s=new t({Extends:i,initialize:function(t,s,e,h,o){i.call(this,t,s,e,[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0],[16777215,16777215,16777215,16777215,16777215,16777215],[1,1,1,1,1,1],h,o),this.resetPosition()},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,t=this.frame,this.uv[0]=t.u0,this.uv[1]=t.v0,this.uv[2]=t.u0,this.uv[3]=t.v1,this.uv[4]=t.u1,this.uv[5]=t.v1,this.uv[6]=t.u0,this.uv[7]=t.v0,this.uv[8]=t.u1,this.uv[9]=t.v1,this.uv[10]=t.u1,this.uv[11]=t.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x,this.vertices[6]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y,this.vertices[7]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(t){this.vertices[10]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(t){this.vertices[11]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x,this.vertices[8]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y,this.vertices[9]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t,this.alphas[3]=t}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(t){this.alphas[5]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t,this.alphas[4]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t,this.colors[3]=t}},topRightColor:{get:function(){return this.colors[5]},set:function(t){this.colors[5]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t,this.colors[4]=t}},setTopLeft:function(t,i){return this.topLeftX=t,this.topLeftY=i,this},setTopRight:function(t,i){return this.topRightX=t,this.topRightY=i,this},setBottomLeft:function(t,i){return this.bottomLeftX=t,this.bottomLeftY=i,this},setBottomRight:function(t,i){return this.bottomRightX=t,this.bottomRightY=i,this},resetPosition:function(){var t=this.x,i=this.y,s=Math.floor(this.width/2),e=Math.floor(this.height/2);return this.setTopLeft(t-s,i-e),this.setTopRight(t+s,i-e),this.setBottomLeft(t-s,i+e),this.setBottomRight(t+s,i+e),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,t[4]=1,t[5]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,t[4]=16777215,t[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});module.exports=s;
},{"../../utils/Class":"f5Xp","../mesh/Mesh":"RuJQ"}],"eDLQ":[function(require,module,exports) {
var e=require("./Mesh"),r=require("../GameObjectFactory");r.register("mesh",function(r,i,s,t,a,n,c,h){return this.displayList.add(new e(this.scene,r,i,s,t,a,n,c,h))});
},{"./Mesh":"RuJQ","../GameObjectFactory":"qgZB"}],"9eGT":[function(require,module,exports) {
var e=require("./Quad"),r=require("../GameObjectFactory");r.register("quad",function(r,i,t,a){return this.displayList.add(new e(this.scene,r,i,t,a))});
},{"./Quad":"bsFi","../GameObjectFactory":"qgZB"}],"1T+C":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("../../utils/object/GetValue"),u=require("./Mesh");r.register("mesh",function(r,a){void 0===r&&(r={});var s=i(r,"key",null),l=i(r,"frame",null),c=t(r,"vertices",[]),n=t(r,"colors",[]),o=t(r,"alphas",[]),d=t(r,"uv",[]),v=new u(this.scene,0,0,c,d,n,o,s,l);return void 0!==a&&(r.add=a),e(this.scene,v,r),v});
},{"../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","../../utils/object/GetValue":"8Li0","./Mesh":"RuJQ"}],"SO7w":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),u=require("../../utils/object/GetAdvancedValue"),i=require("./Quad");r.register("quad",function(r,a){void 0===r&&(r={});var t=u(r,"x",0),d=u(r,"y",0),n=u(r,"key",null),c=u(r,"frame",null),l=new i(this.scene,t,d,n,c);return void 0!==a&&(r.add=a),e(this.scene,l,r),l});
},{"../BuildGameObject":"FGAx","../GameObjectCreator":"FDVK","../../utils/object/GetAdvancedValue":"Isbx","./Quad":"bsFi"}],"2EIw":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../renderer/webgl/Utils"),s=new t({initialize:function(t,i,s,r,h,n,o){this.x=t,this.y=i,this.radius=s,this.r=r,this.g=h,this.b=n,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,i,s,r,h,n,o){return this.x=t,this.y=i,this.radius=s,this.r=r,this.g=h,this.b=n,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(t,i){return void 0===t&&(t=1),void 0===i&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this},setColor:function(t){var s=i.getFloatsFromUintRGB(t);return this.r=s[0],this.g=s[1],this.b=s[2],this},setIntensity:function(t){return this.intensity=t,this},setPosition:function(t,i){return this.x=t,this.y=i,this},setRadius:function(t){return this.radius=t,this}});module.exports=s;
},{"../../utils/Class":"f5Xp","../../renderer/webgl/Utils":"WOZp"}],"+MoT":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Light"),h=require("../../renderer/webgl/pipelines/ForwardDiffuseLightPipeline"),s=require("../../renderer/webgl/Utils"),e=new t({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1},enable:function(){return this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(t){var i=this.lights,s=this.culledLights,e=i.length,r=t.x+t.width/2,l=t.y+t.height/2,o=(t.width+t.height)/2,n={x:0,y:0},g=t.matrix,u=this.systems.game.config.height;s.length=0;for(var a=0;a<e&&s.length<h.LIGHT_COUNT;++a){var c=i[a];g.transformPoint(c.x,c.y,n);var d=r-(n.x-t.scrollX*c.scrollFactorX*t.zoom),f=l-(u-(n.y-t.scrollY*c.scrollFactorY*t.zoom));Math.sqrt(d*d+f*f)<c.radius+o&&s.push(i[a])}return s},forEachLight:function(t){if(t){for(var i=this.lights,h=i.length,s=0;s<h;++s)t(i[s]);return this}},setAmbientColor:function(t){var i=s.getFloatsFromUintRGB(t);return this.ambientColor.r=i[0],this.ambientColor.g=i[1],this.ambientColor.b=i[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(t,h,e,r,l){var o,n=null;return t=void 0===t?0:t,h=void 0===h?0:h,r=void 0===r?16777215:r,e=void 0===e?100:e,l=void 0===l?1:l,o=s.getFloatsFromUintRGB(r),n=null,this.lightPool.length>0?(n=this.lightPool.pop()).set(t,h,e,o[0],o[1],o[2],l):n=new i(t,h,e,o[0],o[1],o[2],l),this.lights.push(n),n},removeLight:function(t){var i=this.lights.indexOf(t);return i>=0&&(this.lightPool.push(t),this.lights.splice(i,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});module.exports=e;
},{"../../utils/Class":"f5Xp","./Light":"2EIw","../../renderer/webgl/pipelines/ForwardDiffuseLightPipeline":"p8ms","../../renderer/webgl/Utils":"WOZp"}],"NX/c":[function(require,module,exports) {
var s=require("../../utils/Class"),t=require("./LightsManager"),i=require("../../plugins/PluginCache"),e=new s({Extends:t,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once("boot",this.boot,this),t.call(this)},boot:function(){var s=this.systems.events;s.on("shutdown",this.shutdown,this),s.on("destroy",this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});i.register("LightsPlugin",e,"lights"),module.exports=e;
},{"../../utils/Class":"f5Xp","./LightsManager":"+MoT","../../plugins/PluginCache":"sYlk"}],"aXgq":[function(require,module,exports) {
var e={DisplayList:require("./DisplayList"),GameObjectCreator:require("./GameObjectCreator"),GameObjectFactory:require("./GameObjectFactory"),UpdateList:require("./UpdateList"),Components:require("./components"),BuildGameObject:require("./BuildGameObject"),BuildGameObjectAnimation:require("./BuildGameObjectAnimation"),GameObject:require("./GameObject"),BitmapText:require("./bitmaptext/static/BitmapText"),Blitter:require("./blitter/Blitter"),Container:require("./container/Container"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapText"),Graphics:require("./graphics/Graphics.js"),Group:require("./group/Group"),Image:require("./image/Image"),Particles:require("./particles"),PathFollower:require("./pathfollower/PathFollower"),RenderTexture:require("./rendertexture/RenderTexture"),RetroFont:require("./bitmaptext/RetroFont"),Sprite3D:require("./sprite3d/Sprite3D"),Sprite:require("./sprite/Sprite"),Text:require("./text/static/Text"),TileSprite:require("./tilesprite/TileSprite"),Zone:require("./zone/Zone"),Factories:{Blitter:require("./blitter/BlitterFactory"),Container:require("./container/ContainerFactory"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapTextFactory"),Graphics:require("./graphics/GraphicsFactory"),Group:require("./group/GroupFactory"),Image:require("./image/ImageFactory"),Particles:require("./particles/ParticleManagerFactory"),PathFollower:require("./pathfollower/PathFollowerFactory"),RenderTexture:require("./rendertexture/RenderTextureFactory"),Sprite3D:require("./sprite3d/Sprite3DFactory"),Sprite:require("./sprite/SpriteFactory"),StaticBitmapText:require("./bitmaptext/static/BitmapTextFactory"),Text:require("./text/static/TextFactory"),TileSprite:require("./tilesprite/TileSpriteFactory"),Zone:require("./zone/ZoneFactory")},Creators:{Blitter:require("./blitter/BlitterCreator"),Container:require("./container/ContainerCreator"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapTextCreator"),Graphics:require("./graphics/GraphicsCreator"),Group:require("./group/GroupCreator"),Image:require("./image/ImageCreator"),Particles:require("./particles/ParticleManagerCreator"),RenderTexture:require("./rendertexture/RenderTextureCreator"),Sprite3D:require("./sprite3d/Sprite3DCreator"),Sprite:require("./sprite/SpriteCreator"),StaticBitmapText:require("./bitmaptext/static/BitmapTextCreator"),Text:require("./text/static/TextCreator"),TileSprite:require("./tilesprite/TileSpriteCreator"),Zone:require("./zone/ZoneCreator")}};e.Mesh=require("./mesh/Mesh"),e.Quad=require("./quad/Quad"),e.Factories.Mesh=require("./mesh/MeshFactory"),e.Factories.Quad=require("./quad/QuadFactory"),e.Creators.Mesh=require("./mesh/MeshCreator"),e.Creators.Quad=require("./quad/QuadCreator"),e.Light=require("./lights/Light"),require("./lights/LightsManager"),require("./lights/LightsPlugin"),module.exports=e;
},{"./DisplayList":"j76U","./GameObjectCreator":"FDVK","./GameObjectFactory":"qgZB","./UpdateList":"wa3w","./components":"jkG5","./BuildGameObject":"FGAx","./BuildGameObjectAnimation":"REx2","./GameObject":"HPsp","./bitmaptext/static/BitmapText":"A+/Q","./blitter/Blitter":"0XF/","./container/Container":"19Hp","./bitmaptext/dynamic/DynamicBitmapText":"X6De","./graphics/Graphics.js":"wk71","./group/Group":"+G/V","./image/Image":"hn+d","./particles":"V86B","./pathfollower/PathFollower":"YnRI","./rendertexture/RenderTexture":"aaR7","./bitmaptext/RetroFont":"OQ93","./sprite3d/Sprite3D":"6R7U","./sprite/Sprite":"X5p1","./text/static/Text":"0uax","./tilesprite/TileSprite":"qf/N","./zone/Zone":"N+fO","./blitter/BlitterFactory":"FfLN","./container/ContainerFactory":"Ax31","./bitmaptext/dynamic/DynamicBitmapTextFactory":"adRO","./graphics/GraphicsFactory":"x0dl","./group/GroupFactory":"xTga","./image/ImageFactory":"Cl9m","./particles/ParticleManagerFactory":"V8rA","./pathfollower/PathFollowerFactory":"RdPP","./rendertexture/RenderTextureFactory":"UBQf","./sprite3d/Sprite3DFactory":"IqUu","./sprite/SpriteFactory":"KGIC","./bitmaptext/static/BitmapTextFactory":"TO0i","./text/static/TextFactory":"yYgb","./tilesprite/TileSpriteFactory":"Li5Y","./zone/ZoneFactory":"vSBC","./blitter/BlitterCreator":"bru/","./container/ContainerCreator":"1dYC","./bitmaptext/dynamic/DynamicBitmapTextCreator":"THmx","./graphics/GraphicsCreator":"WCmJ","./group/GroupCreator":"hXzK","./image/ImageCreator":"CVdR","./particles/ParticleManagerCreator":"7FR9","./rendertexture/RenderTextureCreator":"SiEV","./sprite3d/Sprite3DCreator":"3w/D","./sprite/SpriteCreator":"lkNh","./bitmaptext/static/BitmapTextCreator":"3aLy","./text/static/TextCreator":"Okua","./tilesprite/TileSpriteCreator":"Hdwh","./zone/ZoneCreator":"K3UW","./mesh/Mesh":"RuJQ","./quad/Quad":"bsFi","./mesh/MeshFactory":"eDLQ","./quad/QuadFactory":"9eGT","./mesh/MeshCreator":"1T+C","./quad/QuadCreator":"SO7w","./lights/Light":"2EIw","./lights/LightsManager":"+MoT","./lights/LightsPlugin":"NX/c"}],"ofbG":[function(require,module,exports) {
var r=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};module.exports=r;
},{}],"mbip":[function(require,module,exports) {
var r=require("./Circle"),e=function(e){return new r(e.x,e.y,e.radius)};module.exports=e;
},{"./Circle":"kskV"}],"wS+0":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"GyfI"}],"Wlcm":[function(require,module,exports) {
var t=require("./Contains"),o=function(o,r){return t(o,r.x,r.y)&&t(o,r.right,r.y)&&t(o,r.x,r.bottom)&&t(o,r.right,r.bottom)};module.exports=o;
},{"./Contains":"GyfI"}],"q4jF":[function(require,module,exports) {
var r=function(r,e){return e.setTo(r.x,r.y,r.radius)};module.exports=r;
},{}],"WcD3":[function(require,module,exports) {
var r=function(r,u){return r.x===u.x&&r.y===u.y&&r.radius===u.radius};module.exports=r;
},{}],"u4Ih":[function(require,module,exports) {
var e=require("../rectangle/Rectangle"),t=function(t,r){return void 0===r&&(r=new e),r.x=t.left,r.y=t.top,r.width=t.diameter,r.height=t.diameter,r};module.exports=t;
},{"../rectangle/Rectangle":"hff6"}],"d6ps":[function(require,module,exports) {
var e=require("./Circle");e.Area=require("./Area"),e.Circumference=require("./Circumference"),e.CircumferencePoint=require("./CircumferencePoint"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.GetBounds=require("./GetBounds"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Random=require("./Random"),module.exports=e;
},{"./Circle":"kskV","./Area":"ofbG","./Circumference":"KH5q","./CircumferencePoint":"mucg","./Clone":"mbip","./Contains":"GyfI","./ContainsPoint":"wS+0","./ContainsRect":"Wlcm","./CopyFrom":"q4jF","./Equals":"WcD3","./GetBounds":"u4Ih","./GetPoint":"irL+","./GetPoints":"TyAF","./Offset":"IRwL","./OffsetPoint":"SU+l","./Random":"7lNk"}],"s6If":[function(require,module,exports) {
var e=require("../../math/distance/DistanceBetween"),r=function(r,t){return e(r.x,r.y,t.x,t.y)<=r.radius+t.radius};module.exports=r;
},{"../../math/distance/DistanceBetween":"EOwJ"}],"Uoyx":[function(require,module,exports) {
var r=function(r,a){var i=a.width/2,t=a.height/2,u=Math.abs(r.x-a.x-i),s=Math.abs(r.y-a.y-t),d=i+r.radius,e=t+r.radius;if(u>d||s>e)return!1;if(u<=i||s<=t)return!0;var h=u-i,n=s-t;return h*h+n*n<=r.radius*r.radius};module.exports=r;
},{}],"ri9T":[function(require,module,exports) {
var t=function(t,h){return!(t.width<=0||t.height<=0||h.width<=0||h.height<=0)&&!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};module.exports=t;
},{}],"hGli":[function(require,module,exports) {
var t=require("../rectangle/Rectangle"),e=require("./RectangleToRectangle"),a=function(a,r,i){return void 0===i&&(i=new t),e(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};module.exports=a;
},{"../rectangle/Rectangle":"hff6","./RectangleToRectangle":"ri9T"}],"4r/d":[function(require,module,exports) {
var r=require("../circle/Contains"),x=require("../point/Point"),y=new x,e=function(x,e,i){if(void 0===i&&(i=y),r(e,x.x1,x.y1))return i.x=x.x1,i.y=x.y1,!0;if(r(e,x.x2,x.y2))return i.x=x.x2,i.y=x.y2,!0;var n=x.x2-x.x1,t=x.y2-x.y1,o=e.x-x.x1,u=e.y-x.y1,a=n*n+t*t,f=n,v=t;if(a>0){var c=(o*n+u*t)/a;f*=c,v*=c}return i.x=x.x1+f,i.y=x.y1+v,f*f+v*v<=a&&f*n+v*t>=0&&r(e,i.x,i.y)};module.exports=e;
},{"../circle/Contains":"GyfI","../point/Point":"PzGB"}],"tBMy":[function(require,module,exports) {
var r=require("../point/Point"),e=function(e,n,i){void 0===i&&(i=new r);var o=e.x1,t=e.y1,x=e.x2,u=e.y2,y=n.x1,v=n.y1,a=n.x2,d=n.y2,f=(d-v)*(x-o)-(a-y)*(u-t);if(0===f)return!1;var p=((a-y)*(t-v)-(d-v)*(o-y))/f,c=((x-o)*(t-v)-(u-t)*(o-y))/f;return p>=0&&p<=1&&c>=0&&c<=1&&(i.x=o+p*(x-o),i.y=t+p*(u-t),!0)};module.exports=e;
},{"../point/Point":"PzGB"}],"N3rv":[function(require,module,exports) {
var r=function(r,e){var t=r.x1,i=r.y1,f=r.x2,n=r.y2,u=e.x,o=e.y,x=e.right,l=e.bottom,s=0;if(t>=u&&t<=x&&i>=o&&i<=l||f>=u&&f<=x&&n>=o&&n<=l)return!0;if(t<u&&f>=u){if((s=i+(n-i)*(u-t)/(f-t))>o&&s<=l)return!0}else if(t>x&&f<=x&&(s=i+(n-i)*(x-t)/(f-t))>=o&&s<=l)return!0;if(i<o&&n>=o){if((s=t+(f-t)*(o-i)/(n-i))>=u&&s<=x)return!0}else if(i>l&&n<=l&&(s=t+(f-t)*(l-i)/(n-i))>=u&&s<=x)return!0;return!1};module.exports=r;
},{}],"76kk":[function(require,module,exports) {
var x=function(x,r){return(x.x-r.x1)*(r.y2-r.y1)==(r.x2-r.x1)*(x.y-r.y1)};module.exports=x;
},{}],"mVIg":[function(require,module,exports) {
var r=require("./PointToLine"),t=function(t,x){if(!r(t,x))return!1;var a=Math.min(x.x1,x.x2),n=Math.max(x.x1,x.x2),e=Math.min(x.y1,x.y2),i=Math.max(x.y1,x.y2);return t.x>=a&&t.x<=n&&t.y>=e&&t.y<=i};module.exports=t;
},{"./PointToLine":"76kk"}],"P9q/":[function(require,module,exports) {
var x=function(x,y,o,r){void 0===o&&(o=!1),void 0===r&&(r=[]);for(var e,n,t,u,v,d,i=x.x3-x.x1,a=x.y3-x.y1,f=x.x2-x.x1,h=x.y2-x.y1,l=i*i+a*a,p=i*f+a*h,s=f*f+h*h,c=l*s-p*p,g=0===c?0:1/c,m=x.x1,b=x.y1,j=0;j<y.length&&(n=(l*(d=f*(t=y[j].x-m)+h*(u=y[j].y-b))-p*(v=i*t+a*u))*g,!((e=(s*v-p*d)*g)>=0&&n>=0&&e+n<1&&(r.push({x:y[j].x,y:y[j].y}),o)));j++);return r};module.exports=x;
},{}],"nyEt":[function(require,module,exports) {
var t=function(t,o){return void 0===o&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};module.exports=t;
},{}],"ftjn":[function(require,module,exports) {
var e=require("./LineToLine"),r=require("../rectangle/Contains"),t=require("../triangle/ContainsArray"),n=require("../rectangle/Decompose"),i=function(i,o){if(o.left>i.right||o.right<i.left||o.top>i.bottom||o.bottom<i.top)return!1;var u=o.getLineA(),g=o.getLineB(),a=o.getLineC();if(r(i,u.x1,u.y1)||r(i,u.x2,u.y2))return!0;if(r(i,g.x1,g.y1)||r(i,g.x2,g.y2))return!0;if(r(i,a.x1,a.y1)||r(i,a.x2,a.y2))return!0;var f=i.getLineA(),L=i.getLineB(),l=i.getLineC(),x=i.getLineD();if(e(u,f)||e(u,L)||e(u,l)||e(u,x))return!0;if(e(g,f)||e(g,L)||e(g,l)||e(g,x))return!0;if(e(a,f)||e(a,L)||e(a,l)||e(a,x))return!0;var y=n(i);return t(o,y,!0).length>0};module.exports=i;
},{"./LineToLine":"tBMy","../rectangle/Contains":"uD/l","../triangle/ContainsArray":"P9q/","../rectangle/Decompose":"nyEt"}],"dYnP":[function(require,module,exports) {
var t=function(t,o,r,e,i,n){return void 0===n&&(n=0),!(o>t.right+n||r<t.left-n||e>t.bottom+n||i<t.top-n)};module.exports=t;
},{}],"bhSn":[function(require,module,exports) {
var x=function(x,r,y){var e=x.x3-x.x1,n=x.y3-x.y1,o=x.x2-x.x1,t=x.y2-x.y1,u=r-x.x1,a=y-x.y1,v=e*e+n*n,c=e*o+n*t,d=e*u+n*a,f=o*o+t*t,i=o*u+t*a,l=v*f-c*c,m=0===l?0:1/l,p=(f*d-c*i)*m,s=(v*i-c*d)*m;return p>=0&&s>=0&&p+s<1};module.exports=x;
},{}],"tP1Y":[function(require,module,exports) {
var e=require("./LineToCircle"),t=require("../triangle/Contains"),i=function(i,r){return!(i.left>r.right||i.right<r.left||i.top>r.bottom||i.bottom<r.top)&&(!!t(i,r.x,r.y)||(!!e(i.getLineA(),r)||(!!e(i.getLineB(),r)||!!e(i.getLineC(),r))))};module.exports=i;
},{"./LineToCircle":"4r/d","../triangle/Contains":"bhSn"}],"Utkn":[function(require,module,exports) {
var e=require("../triangle/Contains"),n=require("./LineToLine"),i=function(i,t){return!(!e(i,t.getPointA())&&!e(i,t.getPointB()))||(!!n(i.getLineA(),t)||(!!n(i.getLineB(),t)||!!n(i.getLineC(),t)))};module.exports=i;
},{"../triangle/Contains":"bhSn","./LineToLine":"tBMy"}],"omV1":[function(require,module,exports) {
var x=function(x,u){return void 0===u&&(u=[]),u.push({x:x.x1,y:x.y1}),u.push({x:x.x2,y:x.y2}),u.push({x:x.x3,y:x.y3}),u};module.exports=x;
},{}],"VBFY":[function(require,module,exports) {
var e=require("../triangle/ContainsArray"),t=require("../triangle/Decompose"),r=require("./LineToLine"),i=function(i,n){if(i.left>n.right||i.right<n.left||i.top>n.bottom||i.bottom<n.top)return!1;var o=i.getLineA(),g=i.getLineB(),u=i.getLineC(),L=n.getLineA(),a=n.getLineB(),f=n.getLineC();if(r(o,L)||r(o,a)||r(o,f))return!0;if(r(g,L)||r(g,a)||r(g,f))return!0;if(r(u,L)||r(u,a)||r(u,f))return!0;var l=t(i),h=e(n,l,!0);return h.length>0||(l=t(n),(h=e(i,l,!0)).length>0)};module.exports=i;
},{"../triangle/ContainsArray":"P9q/","../triangle/Decompose":"omV1","./LineToLine":"tBMy"}],"Oahq":[function(require,module,exports) {
module.exports={CircleToCircle:require("./CircleToCircle"),CircleToRectangle:require("./CircleToRectangle"),GetRectangleIntersection:require("./GetRectangleIntersection"),LineToCircle:require("./LineToCircle"),LineToLine:require("./LineToLine"),LineToRectangle:require("./LineToRectangle"),PointToLine:require("./PointToLine"),PointToLineSegment:require("./PointToLineSegment"),RectangleToRectangle:require("./RectangleToRectangle"),RectangleToTriangle:require("./RectangleToTriangle"),RectangleToValues:require("./RectangleToValues"),TriangleToCircle:require("./TriangleToCircle"),TriangleToLine:require("./TriangleToLine"),TriangleToTriangle:require("./TriangleToTriangle")};
},{"./CircleToCircle":"s6If","./CircleToRectangle":"Uoyx","./GetRectangleIntersection":"hGli","./LineToCircle":"4r/d","./LineToLine":"tBMy","./LineToRectangle":"N3rv","./PointToLine":"76kk","./PointToLineSegment":"mVIg","./RectangleToRectangle":"ri9T","./RectangleToTriangle":"ftjn","./RectangleToValues":"dYnP","./TriangleToCircle":"tP1Y","./TriangleToLine":"Utkn","./TriangleToTriangle":"VBFY"}],"vY9T":[function(require,module,exports) {
var t=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};module.exports=t;
},{}],"PPTf":[function(require,module,exports) {
var r=function(r,x,y){var e=x-(r.x1+r.x2)/2,n=y-(r.y1+r.y2)/2;return r.x1+=e,r.y1+=n,r.x2+=e,r.y2+=n,r};module.exports=r;
},{}],"oL8l":[function(require,module,exports) {
var e=require("./Line"),r=function(r){return new e(r.x1,r.y1,r.x2,r.y2)};module.exports=r;
},{"./Line":"w43T"}],"kdyj":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2)};module.exports=e;
},{}],"iZ27":[function(require,module,exports) {
var x=function(x,r){return x.x1===r.x1&&x.y1===r.y1&&x.x2===r.x2&&x.y2===r.y2};module.exports=x;
},{}],"8/Wm":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new e),o.x=(n.x1+n.x2)/2,o.y=(n.y1+n.y2)/2,o};module.exports=n;
},{"../point/Point":"PzGB"}],"9zTs":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),n=require("../point/Point"),t=function(t,i){void 0===i&&(i=new n);var o=r(t)-e.TAU;return i.x=Math.cos(o),i.y=Math.sin(o),i};module.exports=t;
},{"../../math/const":"fj5M","./Angle":"vY9T","../point/Point":"PzGB"}],"Ymer":[function(require,module,exports) {
var r=function(r){return Math.abs(r.y1-r.y2)};module.exports=r;
},{}],"Xopi":[function(require,module,exports) {
var r=require("../../math/const"),e=require("../../math/Wrap"),t=require("./Angle"),a=function(a){var u=t(a)-r.TAU;return e(u,-Math.PI,Math.PI)};module.exports=a;
},{"../../math/const":"fj5M","../../math/Wrap":"Xl2Y","./Angle":"vY9T"}],"1/L9":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),t=function(t){return Math.cos(r(t)-e.TAU)};module.exports=t;
},{"../../math/const":"fj5M","./Angle":"vY9T"}],"nO3w":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),n=function(n){return Math.sin(r(n)-e.TAU)};module.exports=n;
},{"../../math/const":"fj5M","./Angle":"vY9T"}],"8/Em":[function(require,module,exports) {
var r=function(r,e,n){return r.x1+=e,r.y1+=n,r.x2+=e,r.y2+=n,r};module.exports=r;
},{}],"ZuG8":[function(require,module,exports) {
var r=function(r){return-(r.x2-r.x1)/(r.y2-r.y1)};module.exports=r;
},{}],"H5Rv":[function(require,module,exports) {
var e=require("./Angle"),r=require("./NormalAngle"),n=function(n,u){return 2*r(u)-Math.PI-e(n)};module.exports=n;
},{"./Angle":"vY9T","./NormalAngle":"Xopi"}],"lfg+":[function(require,module,exports) {
var r=function(r,t,x,a){var n=Math.cos(a),o=Math.sin(a),y=r.x1-t,e=r.y1-x;return r.x1=y*n-e*o+t,r.y1=y*o+e*n+x,y=r.x2-t,e=r.y2-x,r.x2=y*n-e*o+t,r.y2=y*o+e*n+x,r};module.exports=r;
},{}],"oswM":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o){var t=(e.x1+e.x2)/2,u=(e.y1+e.y2)/2;return r(e,t,u,o)};module.exports=e;
},{"./RotateAroundXY":"lfg+"}],"UAh3":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o,t){return r(e,o.x,o.y,t)};module.exports=e;
},{"./RotateAroundXY":"lfg+"}],"lDEH":[function(require,module,exports) {
var t=function(t,n,o,r,a){return t.x1=n,t.y1=o,t.x2=n+Math.cos(r)*a,t.y2=o+Math.sin(r)*a,t};module.exports=t;
},{}],"t34n":[function(require,module,exports) {
var r=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};module.exports=r;
},{}],"zqyu":[function(require,module,exports) {
var r=function(r){return Math.abs(r.x1-r.x2)};module.exports=r;
},{}],"eQrr":[function(require,module,exports) {
var e=require("./Line");e.Angle=require("./Angle"),e.BresenhamPoints=require("./BresenhamPoints"),e.CenterOn=require("./CenterOn"),e.Clone=require("./Clone"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.GetMidPoint=require("./GetMidPoint"),e.GetNormal=require("./GetNormal"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.Height=require("./Height"),e.Length=require("./Length"),e.NormalAngle=require("./NormalAngle"),e.NormalX=require("./NormalX"),e.NormalY=require("./NormalY"),e.Offset=require("./Offset"),e.PerpSlope=require("./PerpSlope"),e.Random=require("./Random"),e.ReflectAngle=require("./ReflectAngle"),e.Rotate=require("./Rotate"),e.RotateAroundPoint=require("./RotateAroundPoint"),e.RotateAroundXY=require("./RotateAroundXY"),e.SetToAngle=require("./SetToAngle"),e.Slope=require("./Slope"),e.Width=require("./Width"),module.exports=e;
},{"./Line":"w43T","./Angle":"vY9T","./BresenhamPoints":"amgp","./CenterOn":"PPTf","./Clone":"oL8l","./CopyFrom":"kdyj","./Equals":"iZ27","./GetMidPoint":"8/Wm","./GetNormal":"9zTs","./GetPoint":"IbW3","./GetPoints":"ioaQ","./Height":"Ymer","./Length":"WRC8","./NormalAngle":"Xopi","./NormalX":"1/L9","./NormalY":"nO3w","./Offset":"8/Em","./PerpSlope":"ZuG8","./Random":"v+uM","./ReflectAngle":"H5Rv","./Rotate":"oswM","./RotateAroundPoint":"UAh3","./RotateAroundXY":"lfg+","./SetToAngle":"lDEH","./Slope":"t34n","./Width":"zqyu"}],"bPd9":[function(require,module,exports) {
var e=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};module.exports=e;
},{}],"jSEN":[function(require,module,exports) {
var e=require("./Point"),r=function(r){return new e(r.x,r.y)};module.exports=r;
},{"./Point":"PzGB"}],"5uID":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x,e.y)};module.exports=e;
},{}],"lW0B":[function(require,module,exports) {
var r=function(r,e){return r.x===e.x&&r.y===e.y};module.exports=r;
},{}],"/Wf3":[function(require,module,exports) {
var o=function(o){return o.setTo(Math.floor(o.x),Math.floor(o.y))};module.exports=o;
},{}],"RNrj":[function(require,module,exports) {
var r=require("./Point"),e=function(e,t){if(void 0===t&&(t=new r),!Array.isArray(e))throw new Error("GetCentroid points argument must be an array");var n=e.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(1===n)t.x=e[0].x,t.y=e[0].y;else{for(var o=0;o<n;o++)t.x+=e[o].x,t.y+=e[o].y;t.x/=n,t.y/=n}return t};module.exports=e;
},{"./Point":"PzGB"}],"7kFG":[function(require,module,exports) {
var r=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};module.exports=r;
},{}],"4ms2":[function(require,module,exports) {
var r=function(r){return r.x*r.x+r.y*r.y};module.exports=r;
},{}],"Rc1I":[function(require,module,exports) {
var I=require("../rectangle/Rectangle"),e=function(e,r){void 0===r&&(r=new I);for(var N=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var x=e[n];x.x>N&&(N=x.x),x.x<t&&(t=x.x),x.y>u&&(u=x.y),x.y<T&&(T=x.y)}return r.x=t,r.y=T,r.width=N-t,r.height=u-T,r};module.exports=e;
},{"../rectangle/Rectangle":"hff6"}],"2sQm":[function(require,module,exports) {
var e=require("./Point"),o=function(o,r,i,n){return void 0===i&&(i=0),void 0===n&&(n=new e),n.x=o.x+(r.x-o.x)*i,n.y=o.y+(r.y-o.y)*i,n};module.exports=o;
},{"./Point":"PzGB"}],"/OsW":[function(require,module,exports) {
var e=function(e){return e.setTo(e.y,e.x)};module.exports=e;
},{}],"yXkP":[function(require,module,exports) {
var e=require("./Point"),o=function(o,r){return void 0===r&&(r=new e),r.setTo(-o.x,-o.y)};module.exports=o;
},{"./Point":"PzGB"}],"tWa9":[function(require,module,exports) {
var e=require("./Point"),r=require("./GetMagnitudeSq"),i=function(i,n,t){void 0===t&&(t=new e);var u=(i.x*n.x+i.y*n.y)/r(n);return 0!==u&&(t.x=u*n.x,t.y=u*n.y),t};module.exports=i;
},{"./Point":"PzGB","./GetMagnitudeSq":"4ms2"}],"pHrU":[function(require,module,exports) {
var r=require("./Point"),e=function(e,n,o){void 0===o&&(o=new r);var x=e.x*n.x+e.y*n.y;return 0!==x&&(o.x=x*n.x,o.y=x*n.y),o};module.exports=e;
},{"./Point":"PzGB"}],"jRJp":[function(require,module,exports) {
var e=require("./GetMagnitude"),r=function(r,t){if(0!==r.x||0!==r.y){var u=e(r);r.x/=u,r.y/=u}return r.x*=t,r.y*=t,r};module.exports=r;
},{"./GetMagnitude":"7kFG"}],"VKqD":[function(require,module,exports) {
var e=require("./Point");e.Ceil=require("./Ceil"),e.Clone=require("./Clone"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.Floor=require("./Floor"),e.GetCentroid=require("./GetCentroid"),e.GetMagnitude=require("./GetMagnitude"),e.GetMagnitudeSq=require("./GetMagnitudeSq"),e.GetRectangleFromPoints=require("./GetRectangleFromPoints"),e.Interpolate=require("./Interpolate"),e.Invert=require("./Invert"),e.Negative=require("./Negative"),e.Project=require("./Project"),e.ProjectUnit=require("./ProjectUnit"),e.SetMagnitude=require("./SetMagnitude"),module.exports=e;
},{"./Point":"PzGB","./Ceil":"bPd9","./Clone":"jSEN","./CopyFrom":"5uID","./Equals":"lW0B","./Floor":"/Wf3","./GetCentroid":"RNrj","./GetMagnitude":"7kFG","./GetMagnitudeSq":"4ms2","./GetRectangleFromPoints":"Rc1I","./Interpolate":"2sQm","./Invert":"/OsW","./Negative":"yXkP","./Project":"tWa9","./ProjectUnit":"pHrU","./SetMagnitude":"jRJp"}],"d8Oh":[function(require,module,exports) {
var n=function(n,t,o){for(var i=!1,p=-1,r=n.points.length-1;++p<n.points.length;r=p){var s=n.points[p].x,e=n.points[p].y,a=n.points[r].x,l=n.points[r].y;(e<=o&&o<l||l<=o&&o<e)&&t<(a-s)*(o-e)/(l-e)+s&&(i=!i)}return i};module.exports=n;
},{}],"aFSb":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=new t({initialize:function(t){this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,s){return i(this,t,s)},setTo:function(t){if(this.area=0,this.points=[],!Array.isArray(t))return this;for(var i,s=Number.MAX_VALUE,r=0;r<t.length;r++)i={x:0,y:0},"number"==typeof t[r]?(i.x=t[r],i.y=t[r+1],r++):Array.isArray(t[r])?(i.x=t[r][0],i.y=t[r][1]):(i.x=t[r].x,i.y=t[r].y),this.points.push(i),i.y<s&&(s=i.y);return this.calculateArea(s),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,i,s=0,r=0;r<this.points.length-1;r++)t=this.points[r],s+=((i=this.points[r+1]).x-t.x)*(t.y+i.y);return t=this.points[0],i=this.points[this.points.length-1],s+=(t.x-i.x)*(i.y+t.y),this.area=.5*-s,this.area}});module.exports=s;
},{"../../utils/Class":"f5Xp","./Contains":"d8Oh"}],"HOA0":[function(require,module,exports) {
var e=require("./Polygon"),n=function(n){return new e(n.points)};module.exports=n;
},{"./Polygon":"aFSb"}],"3XQr":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"d8Oh"}],"0mht":[function(require,module,exports) {
var t=require("../rectangle/Rectangle"),e=function(e,n){void 0===n&&(n=new t);for(var a,i=1/0,r=1/0,h=-i,o=-r,x=0;x<e.points.length;x++)a=e.points[x],i=Math.min(i,a.x),r=Math.min(r,a.y),h=Math.max(h,a.x),o=Math.max(o,a.y);return n.x=i,n.y=r,n.width=h-i,n.height=o-r,n};module.exports=e;
},{"../rectangle/Rectangle":"hff6"}],"t2p4":[function(require,module,exports) {
var o=function(o,n){void 0===n&&(n=[]);for(var t=0;t<o.points.length;t++)n.push(o.points[t].x),n.push(o.points[t].y);return n};module.exports=o;
},{}],"MUjk":[function(require,module,exports) {
var e=require("./Polygon");e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.GetAABB=require("./GetAABB"),e.GetNumberArray=require("./GetNumberArray"),module.exports=e;
},{"./Polygon":"aFSb","./Clone":"HOA0","./Contains":"d8Oh","./ContainsPoint":"3XQr","./GetAABB":"0mht","./GetNumberArray":"t2p4"}],"qSUN":[function(require,module,exports) {
var t=function(t){return t.width*t.height};module.exports=t;
},{}],"n7FZ":[function(require,module,exports) {
var e=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};module.exports=e;
},{}],"z1TT":[function(require,module,exports) {
var t=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};module.exports=t;
},{}],"QCjx":[function(require,module,exports) {
var e=require("./Rectangle"),r=function(r){return new e(r.x,r.y,r.width,r.height)};module.exports=r;
},{"./Rectangle":"hff6"}],"mbFh":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"uD/l"}],"3N9N":[function(require,module,exports) {
var t=function(t,o){return!(o.width*o.height>t.width*t.height)&&(o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom)};module.exports=t;
},{}],"PsXe":[function(require,module,exports) {
var t=function(t){return 0===t.height?NaN:t.width/t.height};module.exports=t;
},{}],"MWm4":[function(require,module,exports) {
var e=require("./GetAspectRatio"),t=function(t,i){var h=e(t);return h<e(i)?t.setSize(i.height*h,i.height):t.setSize(i.width,i.width/h),t.setPosition(i.centerX-t.width/2,i.centerY-t.height/2)};module.exports=t;
},{"./GetAspectRatio":"PsXe"}],"9Tb+":[function(require,module,exports) {
var e=require("./GetAspectRatio"),t=function(t,i){var h=e(t);return h>e(i)?t.setSize(i.height*h,i.height):t.setSize(i.width,i.width/h),t.setPosition(i.centerX-t.width/2,i.centerY-t.height/2)};module.exports=t;
},{"./GetAspectRatio":"PsXe"}],"G+Ez":[function(require,module,exports) {
var o=function(o){return o.x=Math.floor(o.x),o.y=Math.floor(o.y),o};module.exports=o;
},{}],"1REG":[function(require,module,exports) {
var o=function(o){return o.x=Math.floor(o.x),o.y=Math.floor(o.y),o.width=Math.floor(o.width),o.height=Math.floor(o.height),o};module.exports=o;
},{}],"EBrB":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,r){return void 0===r&&(r=new e),r.x=n.centerX,r.y=n.centerY,r};module.exports=n;
},{"../point/Point":"PzGB"}],"17Bd":[function(require,module,exports) {
var e=require("../point/Point"),i=function(i,t){return void 0===t&&(t=new e),t.x=i.width,t.y=i.height,t};module.exports=i;
},{"../point/Point":"PzGB"}],"usQ6":[function(require,module,exports) {
var e=require("./CenterOn"),r=function(r,t,n){var i=r.centerX,u=r.centerY;return r.setSize(r.width+2*t,r.height+2*n),e(r,i,u)};module.exports=r;
},{"./CenterOn":"F3Wk"}],"mFkv":[function(require,module,exports) {
var t=require("./Rectangle"),e=require("../intersects/RectangleToRectangle"),i=function(i,r,a){return void 0===a&&(a=new t),e(i,r)?(a.x=Math.max(i.x,r.x),a.y=Math.max(i.y,r.y),a.width=Math.min(i.right,r.right)-a.x,a.height=Math.min(i.bottom,r.bottom)-a.y):a.setEmpty(),a};module.exports=i;
},{"./Rectangle":"hff6","../intersects/RectangleToRectangle":"ri9T"}],"zrLg":[function(require,module,exports) {
var t=function(t,h){for(var a=t.x,r=t.right,x=t.y,i=t.bottom,m=0;m<h.length;m++)a=Math.min(a,h[m].x),r=Math.max(r,h[m].x),x=Math.min(x,h[m].y),i=Math.max(i,h[m].y);return t.x=a,t.y=x,t.width=r-a,t.height=i-x,t};module.exports=t;
},{}],"wGjM":[function(require,module,exports) {
var t=function(t,a){var h=Math.min(t.x,a.x),r=Math.max(t.right,a.right);t.x=h,t.width=r-h;var i=Math.min(t.y,a.y),m=Math.max(t.bottom,a.bottom);return t.y=i,t.height=m-i,t};module.exports=t;
},{}],"YJB9":[function(require,module,exports) {
var t=function(t,a,h){var r=Math.min(t.x,a),i=Math.max(t.right,a);t.x=r,t.width=i-r;var m=Math.min(t.y,h),n=Math.max(t.bottom,h);return t.y=m,t.height=n-m,t};module.exports=t;
},{}],"T8Pi":[function(require,module,exports) {
var t=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};module.exports=t;
},{}],"Xi4c":[function(require,module,exports) {
var t=require("../point/Point"),e=require("../../math/DegToRad"),h=function(h,i,r){void 0===r&&(r=new t),i=e(i);var a=Math.sin(i),n=Math.cos(i),o=n>0?h.width/2:h.width/-2,d=a>0?h.height/2:h.height/-2;return Math.abs(o*a)<Math.abs(d*n)?d=o*a/n:o=d*n/a,r.x=o+h.centerX,r.y=d+h.centerY,r};module.exports=h;
},{"../point/Point":"PzGB","../../math/DegToRad":"hyJn"}],"KYEo":[function(require,module,exports) {
var t=require("../../math/Between"),a=require("./ContainsRect"),o=require("../point/Point"),r=function(r,e,n){if(void 0===n&&(n=new o),a(r,e))switch(t(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y)}return n};module.exports=r;
},{"../../math/Between":"xL6l","./ContainsRect":"3N9N","../point/Point":"PzGB"}],"s+qX":[function(require,module,exports) {
var t=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t};module.exports=t;
},{}],"Vsnl":[function(require,module,exports) {
var e=require("./Rectangle");e.Area=require("./Area"),e.Ceil=require("./Ceil"),e.CeilAll=require("./CeilAll"),e.CenterOn=require("./CenterOn"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Decompose=require("./Decompose"),e.Equals=require("./Equals"),e.FitInside=require("./FitInside"),e.FitOutside=require("./FitOutside"),e.Floor=require("./Floor"),e.FloorAll=require("./FloorAll"),e.FromPoints=require("./FromPoints"),e.GetAspectRatio=require("./GetAspectRatio"),e.GetCenter=require("./GetCenter"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.GetSize=require("./GetSize"),e.Inflate=require("./Inflate"),e.Intersection=require("./Intersection"),e.MarchingAnts=require("./MarchingAnts"),e.MergePoints=require("./MergePoints"),e.MergeRect=require("./MergeRect"),e.MergeXY=require("./MergeXY"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Overlaps=require("./Overlaps"),e.Perimeter=require("./Perimeter"),e.PerimeterPoint=require("./PerimeterPoint"),e.Random=require("./Random"),e.RandomOutside=require("./RandomOutside"),e.Scale=require("./Scale"),e.Union=require("./Union"),module.exports=e;
},{"./Rectangle":"hff6","./Area":"qSUN","./Ceil":"n7FZ","./CeilAll":"z1TT","./CenterOn":"F3Wk","./Clone":"QCjx","./Contains":"uD/l","./ContainsPoint":"mbFh","./ContainsRect":"3N9N","./CopyFrom":"7xFp","./Decompose":"nyEt","./Equals":"n6JD","./FitInside":"MWm4","./FitOutside":"9Tb+","./Floor":"G+Ez","./FloorAll":"1REG","./FromPoints":"+g+2","./GetAspectRatio":"PsXe","./GetCenter":"EBrB","./GetPoint":"Sskl","./GetPoints":"dLrX","./GetSize":"17Bd","./Inflate":"usQ6","./Intersection":"mFkv","./MarchingAnts":"rpAq","./MergePoints":"zrLg","./MergeRect":"wGjM","./MergeXY":"YJB9","./Offset":"IRwL","./OffsetPoint":"SU+l","./Overlaps":"T8Pi","./Perimeter":"adeU","./PerimeterPoint":"Xi4c","./Random":"uPfd","./RandomOutside":"KYEo","./Scale":"s+qX","./Union":"qUqL"}],"kNLQ":[function(require,module,exports) {
var e=require("../point/Point"),x=require("../line/Length"),y=function(y,n,r){void 0===r&&(r=new e);var i=y.getLineA(),t=y.getLineB(),o=y.getLineC();if(n<=0||n>=1)return r.x=i.x1,r.y=i.y1,r;var u=x(i),g=x(t),v=x(o),L=(u+g+v)*n,a=0;return L<u?(a=L/u,r.x=i.x1+(i.x2-i.x1)*a,r.y=i.y1+(i.y2-i.y1)*a):L>u+g?(a=(L-=u+g)/v,r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a):(a=(L-=u)/g,r.x=t.x1+(t.x2-t.x1)*a,r.y=t.y1+(t.y2-t.y1)*a),r};module.exports=y;
},{"../point/Point":"PzGB","../line/Length":"WRC8"}],"Wolr":[function(require,module,exports) {
var e=require("../line/Length"),x=require("../point/Point"),r=function(r,y,n,i){void 0===i&&(i=[]);var t=r.getLineA(),o=r.getLineB(),u=r.getLineC(),v=e(t),a=e(o),g=e(u),L=v+a+g;y||(y=L/n);for(var p=0;p<y;p++){var d=L*(p/y),f=0,h=new x;d<v?(f=d/v,h.x=t.x1+(t.x2-t.x1)*f,h.y=t.y1+(t.y2-t.y1)*f):d>v+a?(f=(d-=v+a)/g,h.x=u.x1+(u.x2-u.x1)*f,h.y=u.y1+(u.y2-u.y1)*f):(f=(d-=v)/a,h.x=o.x1+(o.x2-o.x1)*f,h.y=o.y1+(o.y2-o.y1)*f),i.push(h)}return i};module.exports=r;
},{"../line/Length":"WRC8","../point/Point":"PzGB"}],"DbFt":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=require("./GetPoint"),h=require("./GetPoints"),n=require("../line/Line"),e=require("./Random"),o=new t({initialize:function(t,i,s,h,n,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===n&&(n=0),void 0===e&&(e=0),this.x1=t,this.y1=i,this.x2=s,this.y2=h,this.x3=n,this.y3=e},contains:function(t,s){return i(this,t,s)},getPoint:function(t,i){return s(this,t,i)},getPoints:function(t,i,s){return h(this,t,i,s)},getRandomPoint:function(t){return e(this,t)},setTo:function(t,i,s,h,n,e){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===n&&(n=0),void 0===e&&(e=0),this.x1=t,this.y1=i,this.x2=s,this.y2=h,this.x3=n,this.y3=e,this},getLineA:function(t){return void 0===t&&(t=new n),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new n),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new n),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var i=0;i=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=i,this.x2-=i,this.x3-=i}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var i=0;i=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=i,this.x2-=i,this.x3-=i}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var i=0;i=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=i,this.y2-=i,this.y3-=i}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var i=0;i=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=i,this.y2-=i,this.y3-=i}}});module.exports=o;
},{"../../utils/Class":"f5Xp","./Contains":"bhSn","./GetPoint":"kNLQ","./GetPoints":"Wolr","../line/Line":"w43T","./Random":"E/fV"}],"9YF5":[function(require,module,exports) {
var r=function(r){var a=r.x1,t=r.y1,x=r.x2,e=r.y2,n=r.x3,o=r.y3;return Math.abs(((n-a)*(e-t)-(x-a)*(o-t))/2)};module.exports=r;
},{}],"SM9s":[function(require,module,exports) {
var r=require("./Triangle"),e=function(e,n,t){var a=t*(Math.sqrt(3)/2);return new r(e,n,e+t/2,n+a,e-t/2,n+a)};module.exports=e;
},{"./Triangle":"DbFt"}],"k8HN":[function(require,module,exports) {
var r=require("../polygon/Earcut"),e=require("./Triangle"),o=function(o,i,n,u,l){void 0===i&&(i=null),void 0===n&&(n=1),void 0===u&&(u=1),void 0===l&&(l=[]);for(var v,d,t,a,g,p,c,f,h,q=r(o,i),s=0;s<q.length;s+=3)v=q[s],d=q[s+1],t=q[s+2],a=o[2*v]*n,g=o[2*v+1]*u,p=o[2*d]*n,c=o[2*d+1]*u,f=o[2*t]*n,h=o[2*t+1]*u,l.push(new e(a,g,p,c,f,h));return l};module.exports=o;
},{"../polygon/Earcut":"5IE5","./Triangle":"DbFt"}],"N6D+":[function(require,module,exports) {
var e=require("./Triangle"),r=function(r,n,i,o){return void 0===o&&(o=i),new e(r,n,r,n-o,r+i,n)};module.exports=r;
},{"./Triangle":"DbFt"}],"qRkE":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new e),o.x=(n.x1+n.x2+n.x3)/3,o.y=(n.y1+n.y2+n.y3)/3,o};module.exports=n;
},{"../point/Point":"PzGB"}],"Z+tH":[function(require,module,exports) {
var r=function(r,x,e){return r.x1+=x,r.y1+=e,r.x2+=x,r.y2+=e,r.x3+=x,r.y3+=e,r};module.exports=r;
},{}],"KPWJ":[function(require,module,exports) {
var r=require("./Centroid"),e=require("./Offset"),i=function(i,o,t,u){void 0===u&&(u=r);var n=u(i),d=o-n.x,f=t-n.y;return e(i,d,f)};module.exports=i;
},{"./Centroid":"qRkE","./Offset":"Z+tH"}],"Majv":[function(require,module,exports) {
var r=require("../../math/Vector2");function e(r,e,n,t){return r*t-e*n}var n=function(n,t){void 0===t&&(t=new r);var o=n.x3,u=n.y3,x=n.x1-o,a=n.y1-u,i=n.x2-o,v=n.y2-u,y=2*e(x,a,i,v),c=e(a,x*x+a*a,v,i*i+v*v),d=e(x,x*x+a*a,i,i*i+v*v);return t.x=o-c/y,t.y=u+d/y,t};module.exports=n;
},{"../../math/Vector2":"2OLl"}],"B0ig":[function(require,module,exports) {
var a=require("../circle/Circle"),r=function(r,t){void 0===t&&(t=new a);var e,i,x=r.x1,h=r.y1,s=r.x2,M=r.y2,n=r.x3,u=r.y3,y=s-x,m=M-h,c=n-x,d=u-h,l=y*(x+s)+m*(h+M),o=c*(x+n)+d*(h+u),v=2*(y*(u-M)-m*(n-s));if(Math.abs(v)<1e-6){var q=Math.min(x,s,n),f=Math.min(h,M,u);e=.5*(Math.max(x,s,n)-q),i=.5*(Math.max(h,M,u)-f),t.x=q+e,t.y=f+i,t.radius=Math.sqrt(e*e+i*i)}else t.x=(d*l-m*o)/v,t.y=(y*o-c*l)/v,e=t.x-x,i=t.y-h,t.radius=Math.sqrt(e*e+i*i);return t};module.exports=r;
},{"../circle/Circle":"kskV"}],"oKVD":[function(require,module,exports) {
var e=require("./Triangle"),r=function(r){return new e(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};module.exports=r;
},{"./Triangle":"DbFt"}],"rQUT":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"bhSn"}],"L/51":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};module.exports=e;
},{}],"8sTP":[function(require,module,exports) {
var x=function(x,y){return x.x1===y.x1&&x.y1===y.y1&&x.x2===y.x2&&x.y2===y.y2&&x.x3===y.x3&&x.y3===y.y3};module.exports=x;
},{}],"TevG":[function(require,module,exports) {
var r=require("../point/Point");function n(r,n,t,e){var o=r-t,i=n-e,u=o*o+i*i;return Math.sqrt(u)}var t=function(t,e){void 0===e&&(e=new r);var o=t.x1,i=t.y1,u=t.x2,a=t.y2,v=t.x3,x=t.y3,y=n(v,x,u,a),c=n(o,i,v,x),d=n(u,a,o,i),f=y+c+d;return e.x=(o*y+u*c+v*d)/f,e.y=(i*y+a*c+x*d)/f,e};module.exports=t;
},{"../point/Point":"PzGB"}],"N5K6":[function(require,module,exports) {
var e=require("../line/Length"),n=function(n){var r=n.getLineA(),t=n.getLineB(),i=n.getLineC();return e(r)+e(t)+e(i)};module.exports=n;
},{"../line/Length":"WRC8"}],"GmOq":[function(require,module,exports) {
var x=function(x,y,r,t){var a=Math.cos(t),n=Math.sin(t),o=x.x1-y,e=x.y1-r;return x.x1=o*a-e*n+y,x.y1=o*n+e*a+r,o=x.x2-y,e=x.y2-r,x.x2=o*a-e*n+y,x.y2=o*n+e*a+r,o=x.x3-y,e=x.y3-r,x.x3=o*a-e*n+y,x.y3=o*n+e*a+r,x};module.exports=x;
},{}],"mN97":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=require("./InCenter"),n=function(n,t){var u=e(n);return r(n,u.x,u.y,t)};module.exports=n;
},{"./RotateAroundXY":"GmOq","./InCenter":"TevG"}],"YH48":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o,t){return r(e,o.x,o.y,t)};module.exports=e;
},{"./RotateAroundXY":"GmOq"}],"UcP0":[function(require,module,exports) {
var e=require("./Triangle");e.Area=require("./Area"),e.BuildEquilateral=require("./BuildEquilateral"),e.BuildFromPolygon=require("./BuildFromPolygon"),e.BuildRight=require("./BuildRight"),e.CenterOn=require("./CenterOn"),e.Centroid=require("./Centroid"),e.CircumCenter=require("./CircumCenter"),e.CircumCircle=require("./CircumCircle"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsArray=require("./ContainsArray"),e.ContainsPoint=require("./ContainsPoint"),e.CopyFrom=require("./CopyFrom"),e.Decompose=require("./Decompose"),e.Equals=require("./Equals"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.InCenter=require("./InCenter"),e.Perimeter=require("./Perimeter"),e.Offset=require("./Offset"),e.Random=require("./Random"),e.Rotate=require("./Rotate"),e.RotateAroundPoint=require("./RotateAroundPoint"),e.RotateAroundXY=require("./RotateAroundXY"),module.exports=e;
},{"./Triangle":"DbFt","./Area":"9YF5","./BuildEquilateral":"SM9s","./BuildFromPolygon":"k8HN","./BuildRight":"N6D+","./CenterOn":"KPWJ","./Centroid":"qRkE","./CircumCenter":"Majv","./CircumCircle":"B0ig","./Clone":"oKVD","./Contains":"bhSn","./ContainsArray":"P9q/","./ContainsPoint":"rQUT","./CopyFrom":"L/51","./Decompose":"omV1","./Equals":"8sTP","./GetPoint":"kNLQ","./GetPoints":"Wolr","./InCenter":"TevG","./Perimeter":"N5K6","./Offset":"Z+tH","./Random":"E/fV","./Rotate":"mN97","./RotateAroundPoint":"YH48","./RotateAroundXY":"GmOq"}],"lAAI":[function(require,module,exports) {
module.exports={Circle:require("./circle"),Ellipse:require("./ellipse"),Intersects:require("./intersects"),Line:require("./line"),Point:require("./point"),Polygon:require("./polygon"),Rectangle:require("./rectangle"),Triangle:require("./triangle")};
},{"./circle":"d6ps","./ellipse":"0B3O","./intersects":"Oahq","./line":"eQrr","./point":"VKqD","./polygon":"MUjk","./rectangle":"Vsnl","./triangle":"UcP0"}],"uLnR":[function(require,module,exports) {
var a=function(a,r,e){return{gameObject:a,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:r,hitAreaCallback:e,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0}};module.exports=a;
},{}],"leU+":[function(require,module,exports) {
var t=require("../../utils/Class"),e=new t({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});module.exports=e;
},{"../../utils/Class":"f5Xp"}],"wYyl":[function(require,module,exports) {
var s=require("../../utils/Class"),t=new s({initialize:function(s,t){this.pad=s,this.events=s.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var t=this.pad,i=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit("down",t,this,s),this.pad.emit("down",i,s,this)):this.pressed&&(this.pressed=!1,this.events.emit("up",t,this,s),this.pad.emit("up",i,s,this))},destroy:function(){this.pad=null,this.events=null}});module.exports=t;
},{"../../utils/Class":"f5Xp"}],"+1Jf":[function(require,module,exports) {
var t=require("./Axis"),e=require("./Button"),i=require("../../utils/Class"),s=require("eventemitter3"),n=require("../../math/Vector2"),r=new i({Extends:s,initialize:function(i,r){s.call(this),this.manager=i,this.pad=r,this.id=r.id,this.index=r.index;for(var h=[],u=0;u<r.buttons.length;u++)h.push(new e(this,u));this.buttons=h;var o=[];for(u=0;u<r.axes.length;u++)o.push(new t(this,u));this.axes=o,this.vibration=r.vibrationActuator;var a={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:a,this._LCRight=h[15]?h[15]:a,this._LCTop=h[12]?h[12]:a,this._LCBottom=h[13]?h[13]:a,this._RCLeft=h[2]?h[2]:a,this._RCRight=h[1]?h[1]:a,this._RCTop=h[3]?h[3]:a,this._RCBottom=h[0]?h[0]:a,this._FBLeftTop=h[4]?h[4]:a,this._FBLeftBottom=h[6]?h[6]:a,this._FBRightTop=h[5]?h[5]:a,this._FBRightBottom=h[7]?h[7]:a;var g={value:0};this._HAxisLeft=o[0]?o[0]:g,this._VAxisLeft=o[1]?o[1]:g,this._HAxisRight=o[2]?o[2]:g,this._VAxisRight=o[3]?o[3]:g,this.leftStick=new n,this.rightStick=new n},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i=this.buttons,s=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(s[e].value);var r=this.axes,h=t.axes;for(n=r.length,e=0;e<n;e++)r[e].update(h[e]);n>=2&&(this.leftStick.set(r[0].getValue(),r[1].getValue()),n>=4&&this.rightStick.set(r[2].getValue(),r[3].getValue()))},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});module.exports=r;
},{"./Axis":"leU+","./Button":"wYyl","../../utils/Class":"f5Xp","eventemitter3":"LqgX","../../math/Vector2":"2OLl"}],"WbR9":[function(require,module,exports) {
var e=require("../utils/object/GetValue"),n={},i={register:function(e,i,t,r,g){n[e]={plugin:i,mapping:t,settingsKey:r,configKey:g}},getPlugin:function(e){return n[e]},install:function(i){var t=i.scene.sys,r=t.settings.input,g=t.game.config;for(var s in n){var o=n[s].plugin,u=n[s].mapping,a=n[s].settingsKey,c=n[s].configKey;e(r,a,g[c])&&(i[u]=new o(i))}},remove:function(e){n.hasOwnProperty(e)&&delete n[e]}};module.exports=i;
},{"../utils/object/GetValue":"8Li0"}],"6ycp":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("eventemitter3"),s=require("./Gamepad"),i=require("../../utils/object/GetValue"),n=require("../InputPluginCache"),a=new t({Extends:e,initialize:function(t){e.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once("boot",this.boot,this),t.pluginEvents.on("start",this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,s=t.config;this.enabled=i(e,"gamepad",s.inputGamepad)&&t.device.input.gamepads,this.target=i(e,"gamepad.target",s.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,s=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=s,e.addEventListener("gamepadconnected",s,!1),e.addEventListener("gamepaddisconnected",s,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(t)for(var e=this.gamepads,i=0;i<t.length;i++){var n=t[i];if(n){var a=n.id,d=n.index,h=e[d];if(h)h.id!==a?(h.destroy(),e[d]=new s(this,n)):h.update(n);else{var r=new s(this,n);e[d]=r,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=r):this._pad3=r:this._pad2=r:this._pad1=r}}}else this.disconnectAll()},getAll:function(){for(var t=[],e=this.gamepads,s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t},getPad:function(t){for(var e=this.gamepads,s=0;s<e.length;s++)if(e[s]&&e[s].index===t)return e[s]},update:function(){if(this.enabled){this.refreshPads();var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),s=0;s<t;s++){var i=e[s],n=this.getPad(i.gamepad.index);"gamepadconnected"===i.type?this.emit("connected",n,i):"gamepaddisconnected"===i.type&&this.emit("disconnected",n,i)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",a,"gamepad","gamepad","inputGamepad"),module.exports=a;
},{"../../utils/Class":"f5Xp","eventemitter3":"LqgX","./Gamepad":"+1Jf","../../utils/object/GetValue":"8Li0","../InputPluginCache":"WbR9"}],"FIAO":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};
},{}],"Pvta":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5};
},{}],"bNVH":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};
},{}],"i9TN":[function(require,module,exports) {
module.exports={DUALSHOCK_4:require("./Sony_PlayStation_DualShock_4"),SNES_USB:require("./SNES_USB_Controller"),XBOX_360:require("./XBox360_Controller")};
},{"./Sony_PlayStation_DualShock_4":"FIAO","./SNES_USB_Controller":"Pvta","./XBox360_Controller":"bNVH"}],"OnWR":[function(require,module,exports) {
module.exports={Axis:require("./Axis"),Button:require("./Button"),Gamepad:require("./Gamepad"),GamepadPlugin:require("./GamepadPlugin"),Configs:require("./configs/")};
},{"./Axis":"leU+","./Button":"wYyl","./Gamepad":"+1Jf","./GamepadPlugin":"6ycp","./configs/":"i9TN"}],"45kX":[function(require,module,exports) {
var e=function(e,r){return function(t,n,u,a){var o=e.getPixelAlpha(n,u,a.texture.key,a.frame.key);return o&&o>=r}};module.exports=e;
},{}],"d/vW":[function(require,module,exports) {
var t=require("../geom/circle/Circle"),e=require("../geom/circle/Contains"),i=require("../utils/Class"),r=require("./CreateInteractiveObject"),n=require("./CreatePixelPerfectHandler"),s=require("../math/distance/DistanceBetween"),a=require("../geom/ellipse/Ellipse"),o=require("../geom/ellipse/Contains"),h=require("eventemitter3"),l=require("../utils/object/GetFastValue"),g=require("./InputPluginCache"),u=require("../utils/object/IsPlainObject"),p=require("../plugins/PluginCache"),d=require("../geom/rectangle/Rectangle"),c=require("../geom/rectangle/Contains"),m=require("../geom/triangle/Triangle"),v=require("../geom/triangle/Contains"),f=new i({Extends:h,initialize:function(t){h.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new h,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once("destroy",this.destroy,this),this.pluginEvents.emit("boot")},start:function(){var t=this.systems.events;t.on("transitionstart",this.transitionIn,this),t.on("transitionout",this.transitionOut,this),t.on("transitioncomplete",this.transitionComplete,this),t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.enabled=!0,this.pluginEvents.emit("start")},preUpdate:function(){this.pluginEvents.emit("preUpdate");var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,r=e.length;if(0!==i||0!==r){for(var n=this._list,s=0;s<i;s++){var a=t[s],o=n.indexOf(a);o>-1&&(n.splice(o,1),this.clear(a))}t.length=0,this._pendingRemoval.length=0,this._list=n.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},update:function(t,e){if(this.isActive()){this.pluginEvents.emit("update",t,e);var i=this.manager;if(!i.globalTopOnly||!i.ignoreEvents){var r=i.dirty||0===this.pollRate;if(this.pollRate>-1&&(this._pollTimer-=e,this._pollTimer<0&&(r=!0,this._pollTimer=this.pollRate)),r)for(var n=this.manager.pointers,s=0;s<this.manager.pointersTotal;s++){var a=n[s];this._tempZones=[],this._temp=this.hitTestPointer(a),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));var o=this.processDragEvents(a,t);a.wasTouch||(o+=this.processOverOutEvents(a)),a.justDown&&(o+=this.processDownEvents(a)),a.justUp&&(o+=this.processUpEvents(a)),a.justMoved&&(o+=this.processMoveEvents(a)),o>0&&i.globalTopOnly&&(i.ignoreEvents=!0)}}}},clear:function(t){var e=t.input;if(e){this.queueForRemoval(t),e.gameObject=void 0,e.target=void 0,e.hitArea=void 0,e.hitAreaCallback=void 0,e.callbackContext=void 0,t.input=null;var i=this._draggable.indexOf(t);return i>-1&&this._draggable.splice(i,1),(i=this._drag[0].indexOf(t))>-1&&this._drag[0].splice(i,1),(i=this._over[0].indexOf(t))>-1&&this._over[0].splice(i,1),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,r){return void 0===r&&(r=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&r&&!t.input.dropZone&&(t.input.dropZone=r),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var r=e[i],n=this.manager.hitTest(t,this._list,r),s=0;s<n.length;s++){var a=n[s];a.input.dropZone&&this._tempZones.push(a)}if(n.length>0)return t.camera=r,n}return t.camera=e[0],[]},processDownEvents:function(t){var e=this._temp;this.emit("pointerdown",t,e);for(var i=0,r=0;r<e.length;r++){var n=e[r];n.input&&(i++,n.emit("pointerdown",t,n.input.localX,n.input.localY,t.camera),this.emit("gameobjectdown",t,n))}return i},processDragEvents:function(t,e){if(0===this._draggable.length)return 0;var i,r,n,a,o=this._temp;if(0===t.dragState&&t.primaryDown&&t.justDown&&o.length>0?t.dragState=1:t.dragState>0&&!t.primaryDown&&t.justUp&&(t.dragState=5),1===t.dragState){var h=[];for(i=0;i<o.length;i++)(r=o[i]).input.draggable&&0===r.input.dragState&&h.push(r);if(0===h.length)return t.dragState=0,0;h.length>1&&(this.sortGameObjects(h),this.topOnly&&h.splice(1)),this._drag[t.id]=h,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?t.dragState=3:t.dragState=2}if(2===t.dragState&&(this.dragDistanceThreshold>0&&s(t.x,t.y,t.downX,t.downY)>=this.dragDistanceThreshold&&(t.dragState=3),this.dragTimeThreshold>0&&e>=t.downTime+this.dragTimeThreshold&&(t.dragState=3)),3===t.dragState){for(n=this._drag[t.id],i=0;i<n.length;i++)(a=(r=n[i]).input).dragState=2,a.dragX=t.x-r.x,a.dragY=t.y-r.y,a.dragStartX=r.x,a.dragStartY=r.y,r.emit("dragstart",t,a.dragX,a.dragY),this.emit("dragstart",t,r);return t.dragState=4,n.length}if(4===t.dragState&&t.justMoved&&!t.justUp){var l=this._tempZones;for(n=this._drag[t.id],i=0;i<n.length;i++){if((a=(r=n[i]).input).target){var g=l.indexOf(a.target);0===g?(r.emit("dragover",t,a.target),this.emit("dragover",t,r,a.target)):g>0?(r.emit("dragleave",t,a.target),this.emit("dragleave",t,r,a.target),a.target=l[0],r.emit("dragenter",t,a.target),this.emit("dragenter",t,r,a.target)):(r.emit("dragleave",t,a.target),this.emit("dragleave",t,r,a.target),l[0]?(a.target=l[0],r.emit("dragenter",t,a.target),this.emit("dragenter",t,r,a.target)):a.target=null)}else!a.target&&l[0]&&(a.target=l[0],r.emit("dragenter",t,a.target),this.emit("dragenter",t,r,a.target));var u=t.x-r.input.dragX,p=t.y-r.input.dragY;r.emit("drag",t,u,p),this.emit("drag",t,r,u,p)}return n.length}if(5===t.dragState){for(n=this._drag[t.id],i=0;i<n.length;i++)if(2===(a=(r=n[i]).input).dragState){a.dragState=0,a.dragX=a.localX-r.displayOriginX,a.dragY=a.localY-r.displayOriginY;var d=!1;a.target&&(r.emit("drop",t,a.target),this.emit("drop",t,r,a.target),a.target=null,d=!0),r.emit("dragend",t,a.dragX,a.dragY,d),this.emit("dragend",t,r,d)}t.dragState=0,n.splice(0)}return 0},processMoveEvents:function(t){var e=this._temp;this.emit("pointermove",t,e);for(var i=0,r=0;r<e.length;r++){var n=e[r];if(n.input&&(i++,n.emit("pointermove",t,n.input.localX,n.input.localY),this.emit("gameobjectmove",t,n),this.topOnly))break}return i},processOverOutEvents:function(t){var e,i,r=this._temp,n=[],s=[],a=[],o=this._over[t.id],h=this._drag[t.id],l=this.manager;for(e=0;e<o.length;e++)i=o[e],-1===r.indexOf(i)&&-1===h.indexOf(i)?n.push(i):a.push(i);for(e=0;e<r.length;e++)i=r[e],-1===o.indexOf(i)&&s.push(i);var g=n.length,u=0;if(g>0)for(this.sortGameObjects(n),this.emit("pointerout",t,n),e=0;e<g;e++)(i=n[e]).input&&(this.emit("gameobjectout",t,i),i.emit("pointerout",t),l.resetCursor(i.input),u++);if((g=s.length)>0)for(this.sortGameObjects(s),this.emit("pointerover",t,s),e=0;e<g;e++)(i=s[e]).input&&(this.emit("gameobjectover",t,i),i.emit("pointerover",t,i.input.localX,i.input.localY),l.setCursor(i.input),u++);return o=a.concat(s),this._over[t.id]=this.sortGameObjects(o),u},processUpEvents:function(t){var e=this._temp;this.emit("pointerup",t,e);for(var i=0;i<e.length;i++){var r=e[i];r.input&&(r.emit("pointerup",t,r.input.localX,r.input.localY),this.emit("gameobjectup",t,r))}return e.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];r.input.draggable=e;var n=this._draggable.indexOf(r);e&&-1===n?this._draggable.push(r):!e&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return n(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var n=!1,s=!1,a=!1,o=!1;if(u(e)){var h=e;e=l(h,"hitArea",null),i=l(h,"hitAreaCallback",null),n=l(h,"draggable",!1),s=l(h,"dropZone",!1),a=l(h,"cursor",!1),o=l(h,"useHandCursor",!1);var g=l(h,"pixelPerfect",!1),p=l(h,"alphaTolerance",1);g&&(e={},i=this.makePixelPerfect(p)),e&&i||this.setHitAreaFromTexture(t)}else"function"!=typeof e||i||(i=e,e={});for(var d=0;d<t.length;d++){var c=t[d],m=c.input?c.input:r(c,e,i);m.dropZone=s,m.cursor=o?"pointer":a,c.input=m,n&&this.setDraggable(c),this.queueForInsertion(c)}return this},setHitAreaCircle:function(i,r,n,s,a){void 0===a&&(a=e);var o=new t(r,n,s);return this.setHitArea(i,o,a)},setHitAreaEllipse:function(t,e,i,r,n,s){void 0===s&&(s=o);var h=new a(e,i,r,n);return this.setHitArea(t,h,s)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=c),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i],s=n.frame,a=0,o=0;s?(a=s.realWidth,o=s.realHeight):n.width&&(a=n.width,o=n.height),"Container"!==n.type||0!==a&&0!==o?0!==a&&0!==o&&(n.input=r(n,new d(0,0,a,o),e),this.queueForInsertion(n)):console.warn("Container.setInteractive() must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(t,e,i,r,n,s){void 0===s&&(s=c);var a=new d(e,i,r,n);return this.setHitArea(t,a,s)},setHitAreaTriangle:function(t,e,i,r,n,s,a,o){void 0===o&&(o=v);var h=new m(e,i,r,n,s,a);return this.setHitArea(t,h,o)},setPollAlways:function(){return this.pollRate=0,this._pollTimer=0,this},setPollOnMove:function(){return this.pollRate=-1,this._pollTimer=0,this},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){if(!t.parentContainer&&!e.parentContainer)return this.displayList.getIndex(e)-this.displayList.getIndex(t);if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),r=e.getIndexList(),n=Math.min(i.length,r.length),s=0;s<n;s++){var a=i[s],o=r[s];if(a!==o)return o-a}return 0},stopPropagation:function(){return this.manager.globalTopOnly&&(this.manager.ignoreEvents=!0),this},addUpCallback:function(t,e){return this.manager.addUpCallback(t,e),this},addDownCallback:function(t,e){return this.manager.addDownCallback(t,e),this},addMoveCallback:function(t,e){return this.manager.addMoveCallback(t,e),this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit("shutdown"),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.systems.events;e.off("transitionstart",this.transitionIn,this),e.off("transitionout",this.transitionOut,this),e.off("transitioncomplete",this.transitionComplete,this),e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit("destroy"),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});p.register("InputPlugin",f,"input"),module.exports=f;
},{"../geom/circle/Circle":"kskV","../geom/circle/Contains":"GyfI","../utils/Class":"f5Xp","./CreateInteractiveObject":"uLnR","./CreatePixelPerfectHandler":"45kX","../math/distance/DistanceBetween":"EOwJ","../geom/ellipse/Ellipse":"RHAq","../geom/ellipse/Contains":"jKhh","eventemitter3":"LqgX","../utils/object/GetFastValue":"SgIk","./InputPluginCache":"WbR9","../utils/object/IsPlainObject":"ac6z","../plugins/PluginCache":"sYlk","../geom/rectangle/Rectangle":"hff6","../geom/rectangle/Contains":"uD/l","../geom/triangle/Triangle":"DbFt","../geom/triangle/Contains":"bhSn"}],"Q40z":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=new t({initialize:function(t){this.keyCode=t,this.originalEvent=void 0,this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this}});module.exports=i;
},{"../../../utils/Class":"f5Xp"}],"pV6+":[function(require,module,exports) {
var E={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221};module.exports=E;
},{}],"7rCP":[function(require,module,exports) {
var e=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)};module.exports=e;
},{}],"AM9+":[function(require,module,exports) {
var e=require("./AdvanceKeyCombo"),t=function(t,a){if(a.matched)return!0;var r=!1,m=!1;if(t.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var i=a.timeLastMatched+a.maxKeyDelay;t.timeStamp<=i&&(m=!0,r=e(t,a))}else m=!0,r=e(t,a);return!m&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=t.timeStamp,a.matched=!0,a.timeMatched=t.timeStamp),r};module.exports=t;
},{"./AdvanceKeyCombo":"7rCP"}],"HUPS":[function(require,module,exports) {
var e=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};module.exports=e;
},{}],"UVY0":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../../../utils/object/GetFastValue"),s=require("./ProcessKeyCombo"),i=require("./ResetKeyCombo"),h=new e({initialize:function(e,h,n){if(void 0===n&&(n={}),h.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var o=0;o<h.length;o++){var r=h[o];"string"==typeof r?this.keyCodes.push(r.toUpperCase().charCodeAt(0)):"number"==typeof r?this.keyCodes.push(r):r.hasOwnProperty("keyCode")&&this.keyCodes.push(r.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=t(n,"resetOnWrongKey",!0),this.maxKeyDelay=t(n,"maxKeyDelay",0),this.resetOnMatch=t(n,"resetOnMatch",!1),this.deleteOnMatch=t(n,"deleteOnMatch",!1);var a=this,d=function(e){!a.matched&&a.enabled&&(s(e,a)&&(a.manager.emit("keycombomatch",a,e),a.resetOnMatch?i(a):a.deleteOnMatch&&a.destroy()))};this.onKeyDown=d,this.manager.on("keydown",d)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off("keydown",this.onKeyDown),this.manager=null}});module.exports=h;
},{"../../../utils/Class":"f5Xp","../../../utils/object/GetFastValue":"SgIk","./ProcessKeyCombo":"AM9+","./ResetKeyCombo":"HUPS"}],"QEqr":[function(require,module,exports) {
var e=require("./KeyCodes"),r={};for(var o in e)r[e[o]]=o;module.exports=r;
},{"./KeyCodes":"pV6+"}],"DKwq":[function(require,module,exports) {
var t=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),t.enabled)return t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.location=e.location,!1===t.isDown&&(t.isDown=!0,t.isUp=!1,t.timeDown=e.timeStamp,t.duration=0,t._justDown=!0,t._justUp=!1),t.repeats++,t};module.exports=t;
},{}],"mZyZ":[function(require,module,exports) {
var e=function(e,t){if(e.originalEvent=t,e.preventDefault&&t.preventDefault(),e.enabled)return e.isDown=!1,e.isUp=!0,e.timeUp=t.timeStamp,e.duration=e.timeUp-e.timeDown,e.repeats=0,e._justDown=!1,e._justUp=!0,e._tick=-1,e};module.exports=e;
},{}],"guKg":[function(require,module,exports) {
var o=function(o,r,t){return void 0===t&&(t=0),0===r?o:(o-=t,t+(o=r*Math.floor(o/r)))};module.exports=o;
},{}],"vSWj":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("eventemitter3"),s=require("../../utils/object/GetValue"),i=require("../InputPluginCache"),n=require("./keys/Key"),r=require("./keys/KeyCodes"),o=require("./combo/KeyCombo"),u=require("./keys/KeyMap"),h=require("./keys/ProcessKeyDown"),a=require("./keys/ProcessKeyUp"),d=require("../../math/snap/SnapFloor"),y=new e({Extends:t,initialize:function(e){t.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.keys=[],this.combos=[],this.queue=[],this.onKeyHandler,this.time=0,e.pluginEvents.once("boot",this.boot,this),e.pluginEvents.on("start",this.start,this)},boot:function(){var e=this.settings.input,t=this.scene.sys.game.config;this.enabled=s(e,"keyboard",t.inputKeyboard),this.target=s(e,"keyboard.target",t.inputKeyboardEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=function(t){if(!t.defaultPrevented&&e.isActive()){e.queue.push(t);var s=e.keys[t.keyCode];s&&s.preventDefault&&t.preventDefault()}};this.onKeyHandler=t,this.target.addEventListener("keydown",t,!1),this.target.addEventListener("keyup",t,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("keydown",this.onKeyHandler),this.target.removeEventListener("keyup",this.onKeyHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},createCursorKeys:function(){return this.addKeys({up:r.UP,down:r.DOWN,left:r.LEFT,right:r.RIGHT,space:r.SPACE,shift:r.SHIFT})},addKeys:function(e){var t={};if("string"==typeof e){e=e.split(",");for(var s=0;s<e.length;s++)t[e[s]]=this.addKey(e[s])}else for(var i in e)t[i]=this.addKey(e[i]);return t},addKey:function(e){var t=this.keys;if(e instanceof n){var s=t.indexOf(e);return s>-1?t[s]=e:t[e.keyCode]=e,e}return"string"==typeof e&&(e=r[e.toUpperCase()]),t[e]||(t[e]=new n(e)),t[e]},removeKey:function(e){var t=this.keys;if(e instanceof n){var s=t.indexOf(e);s>-1&&(this.keys[s]=void 0)}else"string"==typeof e&&(e=r[e.toUpperCase()]);t[e]&&(t[e]=void 0)},createCombo:function(e,t){return new o(this,e,t)},checkDown:function(e,t){if(this.enabled&&e.isDown){var s=d(this.time-e.timeDown,t);if(s>e._tick)return e._tick=s,!0}return!1},update:function(e){this.time=e;var t=this.queue.length;if(this.enabled&&0!==t)for(var s=this.queue.splice(0,t),i=this.keys,n=0;n<t;n++){var r=s[n],o=r.keyCode;"keydown"===r.type?(!u[o]||void 0!==i[o]&&!1!==i[o].isDown||(this.emit(r.type,r),this.emit("keydown_"+u[o],r)),i[o]&&h(i[o],r)):(this.emit(r.type,r),this.emit("keyup_"+u[o],r),i[o]&&a(i[o],r))}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null}});i.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),module.exports=y;
},{"../../utils/Class":"f5Xp","eventemitter3":"LqgX","../../utils/object/GetValue":"8Li0","../InputPluginCache":"WbR9","./keys/Key":"Q40z","./keys/KeyCodes":"pV6+","./combo/KeyCombo":"UVY0","./keys/KeyMap":"QEqr","./keys/ProcessKeyDown":"DKwq","./keys/ProcessKeyUp":"mZyZ","../../math/snap/SnapFloor":"guKg"}],"T+0l":[function(require,module,exports) {
var n=function(n){return!!n._justDown&&(n._justDown=!1,!0)};module.exports=n;
},{}],"nQlm":[function(require,module,exports) {
var t=function(t){return!!t._justUp&&(t._justUp=!1,!0)};module.exports=t;
},{}],"o1oH":[function(require,module,exports) {
var o=function(o,n){return void 0===n&&(n=50),o.isDown&&o.duration<n};module.exports=o;
},{}],"19y3":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=50),o.isUp&&o.duration<r};module.exports=o;
},{}],"aOr3":[function(require,module,exports) {
module.exports={KeyboardPlugin:require("./KeyboardPlugin"),Key:require("./keys/Key"),KeyCodes:require("./keys/KeyCodes"),KeyCombo:require("./combo/KeyCombo"),JustDown:require("./keys/JustDown"),JustUp:require("./keys/JustUp"),DownDuration:require("./keys/DownDuration"),UpDuration:require("./keys/UpDuration")};
},{"./KeyboardPlugin":"vSWj","./keys/Key":"Q40z","./keys/KeyCodes":"pV6+","./combo/KeyCombo":"UVY0","./keys/JustDown":"T+0l","./keys/JustUp":"nQlm","./keys/DownDuration":"o1oH","./keys/UpDuration":"19y3"}],"xqMB":[function(require,module,exports) {
module.exports={MouseManager:require("./MouseManager")};
},{"./MouseManager":"n0x+"}],"Ov8I":[function(require,module,exports) {
module.exports={TouchManager:require("./TouchManager")};
},{"./TouchManager":"z/V3"}],"YArU":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),u={CreateInteractiveObject:require("./CreateInteractiveObject"),Gamepad:require("./gamepad"),InputManager:require("./InputManager"),InputPlugin:require("./InputPlugin"),InputPluginCache:require("./InputPluginCache"),Keyboard:require("./keyboard"),Mouse:require("./mouse"),Pointer:require("./Pointer"),Touch:require("./touch")};u=r(!1,u,e),module.exports=u;
},{"./const":"f4j1","../utils/object/Extend":"Wu2m","./CreateInteractiveObject":"uLnR","./gamepad":"OnWR","./InputManager":"NxIj","./InputPlugin":"d/vW","./InputPluginCache":"WbR9","./keyboard":"aOr3","./mouse":"xqMB","./Pointer":"equp","./touch":"Ov8I"}],"oYN3":[function(require,module,exports) {
var E={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};module.exports=E;
},{}],"Uo0C":[function(require,module,exports) {
var t=function(t,r){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:r+t.url)};module.exports=t;
},{}],"6pSW":[function(require,module,exports) {
var e=function(e,o,d,i,r){return void 0===e&&(e=""),void 0===o&&(o=!0),void 0===d&&(d=""),void 0===i&&(i=""),void 0===r&&(r=0),{responseType:e,async:o,user:d,password:i,timeout:r,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0}};module.exports=e;
},{}],"IhZ4":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3],e=require("../utils/object/Extend"),i=require("./XHRSettings"),t=function(r,t){var n=void 0===r?i():e({},r);if(t)for(var o in t)void 0!==t[o]&&(n[o]=t[o]);return n};module.exports=t;
},{"../utils/object/Extend":"Wu2m","./XHRSettings":"6pSW"}],"nrre":[function(require,module,exports) {
var e=require("./MergeXHRSettings"),r=function(r,s){var t=e(s,r.xhrSettings),o=new XMLHttpRequest;return o.open("GET",r.src,t.async,t.user,t.password),o.responseType=r.xhrSettings.responseType,o.timeout=t.timeout,t.header&&t.headerValue&&o.setRequestHeader(t.header,t.headerValue),t.requestedWith&&o.setRequestHeader("X-Requested-With",t.requestedWith),t.overrideMimeType&&o.overrideMimeType(t.overrideMimeType),o.onload=r.onLoad.bind(r,o),o.onerror=r.onError.bind(r),o.onprogress=r.onProgress.bind(r),o.send(),o};module.exports=r;
},{"./MergeXHRSettings":"IhZ4"}],"8qwU":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./const"),i=require("../utils/object/GetFastValue"),s=require("./GetURL"),r=require("./MergeXHRSettings"),o=require("./XHRLoader"),h=require("./XHRSettings"),n=new t({initialize:function(t,s){this.loader=t,this.cache=i(s,"cache",!1),this.type=i(s,"type",!1),this.key=i(s,"key",!1);var o=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+o),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=i(s,"url"),void 0===this.url?this.url=t.path+o+"."+i(s,"extension",""):"function"!=typeof this.url&&(this.url=t.path+this.url),this.src="",this.xhrSettings=h(i(s,"responseType",void 0)),i(s,"xhrSettings",!1)&&(this.xhrSettings=r(this.xhrSettings,i(s,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?e.FILE_POPULATED:e.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=i(s,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===e.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=s(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=o(this,this.loader.xhr))},onLoad:function(t,e){var i=!(e.target&&200!==e.target.status);4===t.readyState&&t.status>=400&&t.status<=599&&(i=!1),this.resetXHR(),this.loader.nextFile(this,i)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete))},onProcess:function(){this.state=e.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=e.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=e.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit("filecomplete",e,i,t),this.loader.emit("filecomplete-"+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var s=new FileReader;s.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+s.result.split(",")[1]},s.onerror=t.onerror,s.readAsDataURL(e)}},n.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},module.exports=n;
},{"../utils/Class":"f5Xp","./const":"oYN3","../utils/object/GetFastValue":"SgIk","./GetURL":"Uo0C","./MergeXHRSettings":"IhZ4","./XHRLoader":"nrre","./XHRSettings":"6pSW"}],"ijgl":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),i=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),a=require("../../utils/object/GetValue"),n=require("../../utils/object/IsPlainObject"),o=new e({Extends:s,initialize:function(e,i,o,l,h){var u="json";if(n(i)){var c=i;i=r(c,"key"),o=r(c,"url"),l=r(c,"xhrSettings"),u=r(c,"extension",u),h=r(c,"dataKey",h)}var d={type:"json",cache:e.cacheManager.json,extension:u,responseType:"text",key:i,url:o,xhrSettings:l,config:h};s.call(this,e,d),n(o)&&(this.data=h?a(o,h):o,this.state=t.FILE_POPULATED)},onProcess:function(){if(this.state!==t.FILE_POPULATED){this.state=t.FILE_PROCESSING;var e=JSON.parse(this.xhrLoader.responseText),s=this.config;this.data="string"==typeof s?a(e,s,e):e}this.onProcessComplete()}});i.register("json",function(e,t,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i,s));return this}),module.exports=o;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/GetValue":"8Li0","../../utils/object/IsPlainObject":"ac6z"}],"PbhR":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),s=new e({Extends:t,initialize:function(e,i,s,n,o){t.call(this,e,i,s,n,o),this.type="animationJSON"},onProcess:function(){this.loader.once("loadcomplete",this.onLoadComplete,this),t.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data),this.pendingDestroy()}});i.register("animation",function(e,i,t,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,i,n,t));return this}),module.exports=s;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","./JSONFile.js":"ijgl"}],"dEVJ":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),a=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),r=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function e(t,a,n,o,h){var d,c="png";if(r(a)){var l=a;a=s(l,"key"),n=s(l,"url"),d=s(l,"normalMap"),o=s(l,"xhrSettings"),c=s(l,"extension",c),h=s(l,"frameConfig")}Array.isArray(n)&&(d=n[1],n=n[0]);var g={type:"image",cache:t.textureManager,extension:c,responseType:"blob",key:a,url:n,xhrSettings:o,config:h};if(i.call(this,t,g),d){var u=new e(t,this.key,d,o,h);u.type="normalMap",this.setLink(u),t.addFile(u)}},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){i.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(e.data),e.onProcessError()},i.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var e,i=this.linkFile;i&&i.state===t.FILE_COMPLETE?(e="image"===this.type?this.cache.addImage(this.key,this.data,i.data):this.cache.addImage(i.key,i.data,this.data),this.pendingDestroy(e),i.pendingDestroy(e)):i||(e=this.cache.addImage(this.key,this.data),this.pendingDestroy(e))}});a.register("image",function(e,t,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,t,i));return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"9SIm":[function(require,module,exports) {
var i=require("../utils/Class"),e=new i({initialize:function(i,e,t,s){this.loader=i,this.type=e,this.key=t,this.files=s,this.complete=!1,this.pending=s.length,this.failed=0,this.config={};for(var n=0;n<s.length;n++)s[n].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){-1!==this.files.indexOf(i)&&this.pending--},onFileFailed:function(i){-1!==this.files.indexOf(i)&&this.failed++}});module.exports=e;
},{"../utils/Class":"f5Xp"}],"JIKD":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("./JSONFile.js"),r=require("../MultiFile.js"),n=new e({Extends:r,initialize:function(e,i,n,u,o,h){var d,f;if(a(i)){var c=i;i=t(c,"key"),d=new s(e,{key:i,url:t(c,"textureURL"),extension:t(c,"textureExtension","png"),normalMap:t(c,"normalMap"),xhrSettings:t(c,"textureXhrSettings")}),f=new l(e,{key:i,url:t(c,"atlasURL"),extension:t(c,"atlasExtension","json"),xhrSettings:t(c,"atlasXhrSettings")})}else d=new s(e,i,n,o),f=new l(e,i,u,h);d.linkFile?r.call(this,e,"atlasjson",i,[d,f,d.linkFile]):r.call(this,e,"atlasjson",i,[d,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],i=this.files[1],t=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,i.data,t),i.addToCache(),this.complete=!0}}});i.register("atlas",function(e,i,t,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,i,t,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./ImageFile.js":"dEVJ","../../utils/object/IsPlainObject":"ac6z","./JSONFile.js":"ijgl","../MultiFile.js":"9SIm"}],"3GBs":[function(require,module,exports) {
var e=require("../../utils/Class"),r=require("../const"),t=require("../File"),i=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=require("../../dom/ParseXML"),l=new e({Extends:t,initialize:function(e,r,i,a){var l="xml";if(n(r)){var o=r;r=s(o,"key"),i=s(o,"url"),a=s(o,"xhrSettings"),l=s(o,"extension",l)}var h={type:"xml",cache:e.cacheManager.xml,extension:l,responseType:"text",key:r,url:i,xhrSettings:a};t.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=a(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});i.register("xml",function(e,r,t){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new l(this,e[i]));else this.addFile(new l(this,e,r,t));return this}),module.exports=l;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z","../../dom/ParseXML":"hzPF"}],"5w2n":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("../MultiFile.js"),r=require("./XMLFile.js"),n=new e({Extends:l,initialize:function(e,i,n,u,h,o){var d,x;if(a(i)){var f=i;i=t(f,"key"),d=new s(e,{key:i,url:t(f,"textureURL"),extension:t(f,"textureExtension","png"),normalMap:t(f,"normalMap"),xhrSettings:t(f,"textureXhrSettings")}),x=new r(e,{key:i,url:t(f,"atlasURL"),extension:t(f,"atlasExtension","xml"),xhrSettings:t(f,"atlasXhrSettings")})}else d=new s(e,i,n,h),x=new r(e,i,u,o);d.linkFile?l.call(this,e,"atlasxml",i,[d,x,d.linkFile]):l.call(this,e,"atlasxml",i,[d,x])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],i=this.files[1],t=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,i.data,t),i.addToCache(),this.complete=!0}}});i.register("atlasXML",function(e,i,t,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,i,t,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./ImageFile.js":"dEVJ","../../utils/object/IsPlainObject":"ac6z","../MultiFile.js":"9SIm","./XMLFile.js":"3GBs"}],"HIBM":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../File"),i=require("../../utils/object/GetFastValue"),s=require("../GetURL"),o=require("../../utils/object/IsPlainObject"),a=new t({Extends:e,initialize:function(t,s,a,l){if(o(s)){var r=s;s=i(r,"key"),l=i(r,"config",l)}var n={type:"audio",cache:t.cacheManager.audio,extension:a.type,key:s,url:a.url,config:l};e.call(this,t,n),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=s(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});module.exports=a;
},{"../../utils/Class":"f5Xp","../File":"8qwU","../../utils/object/GetFastValue":"SgIk","../GetURL":"Uo0C","../../utils/object/IsPlainObject":"ac6z"}],"V647":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../../const"),r=require("../File"),t=require("../FileTypesManager"),o=require("../../utils/object/GetFastValue"),a=require("./HTML5AudioFile"),n=require("../../utils/object/IsPlainObject"),s=new e({Extends:r,initialize:function(e,i,t,a,s){if(n(i)){var u=i;i=o(u,"key"),a=o(u,"xhrSettings"),s=o(u,"context",s)}var c={type:"audio",cache:e.cacheManager.audio,extension:t.type,responseType:"arraybuffer",key:i,url:t.url,xhrSettings:a,config:{context:s}};r.call(this,e,c)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(i){e.data=i,e.onProcessComplete()},function(i){console.error("Error decoding audio: "+this.key+" - ",i.message),e.onProcessError()}),this.config.context=null}});s.create=function(e,i,r,t,u){var c=e.systems.game,d=c.config.audio,l=c.device.audio;n(i)&&(r=o(i,"url",[]),t=o(i,"config",{}));var f=s.getAudioURL(c,r);return f?!l.webAudio||d&&d.disableWebAudio?new a(e,i,f,t):new s(e,i,f,u,c.sound.context):null},s.getAudioURL=function(e,i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++){var t=o(i[r],"url",i[r]);if(0===t.indexOf("blob:")||0===t.indexOf("data:"))return t;var a=t.match(/\.([a-zA-Z0-9]+)($|\?)/);if(a=o(i[r],"type",a?a[1]:"").toLowerCase(),e.device.audio[a])return{url:t,type:a}}return null},t.register("audio",function(e,i,r,t){var o,a=this.systems.game,n=a.config.audio,u=a.device.audio;if(n&&n.noAudio||!u.webAudio&&!u.audioData)return this;if(Array.isArray(e))for(var c=0;c<e.length;c++)(o=s.create(this,e[c]))&&this.addFile(o);else(o=s.create(this,e,i,r,t))&&this.addFile(o);return this}),module.exports=s;
},{"../../utils/Class":"f5Xp","../../const":"rdvC","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./HTML5AudioFile":"HIBM","../../utils/object/IsPlainObject":"ac6z"}],"JMRv":[function(require,module,exports) {
var i=require("./AudioFile.js"),e=require("../../utils/Class"),s=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),o=require("./JSONFile.js"),r=require("../MultiFile.js"),n=new e({Extends:r,initialize:function(e,s,n,d,u,l,h){if(a(s)){var c=s;s=t(c,"key"),n=t(c,"jsonURL"),d=t(c,"audioURL"),u=t(c,"audioConfig"),l=t(c,"audioXhrSettings"),h=t(c,"jsonXhrSettings")}var f;if(d){var g=i.create(e,s,d,u,l);g&&(f=new o(e,s,n,h),r.call(this,e,"audiosprite",s,[g,f]),this.config.resourceLoad=!1)}else f=new o(e,s,n,h),r.call(this,e,"audiosprite",s,[f]),this.config.resourceLoad=!0,this.config.audioConfig=u,this.config.audioXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var s=e.data.resources,a=t(this.config,"audioConfig"),o=t(this.config,"audioXhrSettings"),r=i.create(this.loader,e.key,s,a,o);r&&(this.addToMultiFile(r),this.loader.addFile(r))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],e=this.files[1];i.addToCache(),e.addToCache(),this.complete=!0}}});s.register("audioSprite",function(i,e,s,t,a,o){var r,d=this.systems.game,u=d.config.audio,l=d.device.audio;if(u&&u.noAudio||!l.webAudio&&!l.audioData)return this;if(Array.isArray(i))for(var h=0;h<i.length;h++)(r=new n(this,i[h])).files&&this.addFile(r.files);else(r=new n(this,i,e,s,t,a,o)).files&&this.addFile(r.files);return this});
},{"./AudioFile.js":"V647","../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z","./JSONFile.js":"ijgl","../MultiFile.js":"9SIm"}],"UXgy":[function(require,module,exports) {
var e=require("../../utils/Class"),r=require("../const"),i=require("../File"),t=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function(e,r,t,n,o){var h="bin";if(a(r)){var l=r;r=s(l,"key"),t=s(l,"url"),n=s(l,"xhrSettings"),h=s(l,"extension",h),o=s(l,"dataType",o)}var u={type:"binary",cache:e.cacheManager.binary,extension:h,responseType:"arraybuffer",key:r,url:t,xhrSettings:n,config:{dataType:o}};i.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});t.register("binary",function(e,r,i,t){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,r,t,i));return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"0UaA":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),a=require("./ImageFile.js"),r=require("../../utils/object/IsPlainObject"),s=require("../MultiFile.js"),n=require("../../gameobjects/bitmaptext/ParseXMLBitmapFont.js"),l=require("./XMLFile.js"),o=new e({Extends:s,initialize:function(e,t,n,o,u,h){var d,f;if(r(t)){var c=t;t=i(c,"key"),d=new a(e,{key:t,url:i(c,"textureURL"),extension:i(c,"textureExtension","png"),normalMap:i(c,"normalMap"),xhrSettings:i(c,"textureXhrSettings")}),f=new l(e,{key:t,url:i(c,"fontDataURL"),extension:i(c,"fontDataExtension","xml"),xhrSettings:i(c,"fontDataXhrSettings")})}else d=new a(e,t,n,u),f=new l(e,t,o,h);d.linkFile?s.call(this,e,"bitmapfont",t,[d,f,d.linkFile]):s.call(this,e,"bitmapfont",t,[d,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.loader.cacheManager.bitmapFont.add(e.key,{data:n(t.data),texture:e.key,frame:null}),this.complete=!0}}});t.register("bitmapFont",function(e,t,i,a,r){var s;if(Array.isArray(e))for(var n=0;n<e.length;n++)s=new o(this,e[n]),this.addFile(s.files);else s=new o(this,e,t,i,a,r),this.addFile(s.files);return this}),module.exports=o;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./ImageFile.js":"dEVJ","../../utils/object/IsPlainObject":"ac6z","../MultiFile.js":"9SIm","../../gameobjects/bitmaptext/ParseXMLBitmapFont.js":"hNQH","./XMLFile.js":"3GBs"}],"ay6x":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),r=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:s,initialize:function(e,t,r,a){var l="glsl";if(n(t)){var o=t;t=i(o,"key"),r=i(o,"url"),a=i(o,"xhrSettings"),l=i(o,"extension",l)}var h={type:"glsl",cache:e.cacheManager.shader,extension:l,responseType:"text",key:t,url:r,xhrSettings:a};s.call(this,e,h)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("glsl",function(e,t,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new a(this,e[r]));else this.addFile(new a(this,e,t,s));return this}),module.exports=a;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"aRyW":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),s=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),h=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,s,a,n,o){void 0===a&&(a=512),void 0===n&&(n=512);var c="html";if(h(t)){var d=t;t=r(d,"key"),s=r(d,"url"),o=r(d,"xhrSettings"),c=r(d,"extension",c),a=r(d,"width",a),n=r(d,"height",n)}var g={type:"html",cache:e.textureManager,extension:c,responseType:"text",key:t,url:s,xhrSettings:o,config:{width:a,height:n}};i.call(this,e,g)},onProcess:function(){this.state=t.FILE_PROCESSING;var e=this.config.width,s=this.config.height,r=[];r.push('<svg width="'+e+'px" height="'+s+'px" viewBox="0 0 '+e+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),r.push('<foreignObject width="100%" height="100%">'),r.push('<body xmlns="http://www.w3.org/1999/xhtml">'),r.push(this.xhrLoader.responseText),r.push("</body>"),r.push("</foreignObject>"),r.push("</svg>");var h=[r.join("\n")],a=this;try{var n=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch(e){return a.state=t.FILE_ERRORED,void a.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){i.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(a.data),a.onProcessError()},i.createObjectURL(this.data,n,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});s.register("html",function(e,t,i,s,r){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new a(this,e[h]));else this.addFile(new a(this,e,t,i,s,r));return this}),module.exports=a;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"FwN/":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),a=require("./ImageFile.js"),s=require("../../utils/object/IsPlainObject"),r=require("./JSONFile.js"),l=require("../MultiFile.js"),n=new e({Extends:l,initialize:function(e,t,a,n,h,o,u){if(s(t)){var d=t;t=i(d,"key"),a=i(d,"url"),o=i(d,"xhrSettings"),n=i(d,"path"),h=i(d,"baseURL"),u=i(d,"textureXhrSettings")}var f=new r(e,t,a,o);l.call(this,e,"multiatlas",t,[f]),this.config.path=n,this.config.baseURL=h,this.config.textureXhrSettings=u},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,s=this.config,r=this.loader,l=r.baseURL,n=r.path,h=r.prefix,o=i(s,"baseURL",l),u=i(s,"path",n),d=i(s,"prefix",h),f=i(s,"textureXhrSettings");r.setBaseURL(o),r.setPath(u),r.setPrefix(d);for(var p=0;p<t.length;p++){var g=t[p].image,c="_MA_"+g,x=new a(r,c,g,f);if(this.addToMultiFile(x),r.addFile(x),t[p].normalMap){var v=new a(r,c,t[p].normalMap,f);v.type="normalMap",x.setLink(v),this.addToMultiFile(v),r.addFile(v)}}r.setBaseURL(l),r.setPath(n),r.setPrefix(h)}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0];e.addToCache();for(var t=[],i=[],a=[],s=1;s<this.files.length;s++){var r=this.files[s];if("normalMap"!==r.type)for(var l=r.key.substr(4),n=r.data,h=0;h<e.data.textures.length;h++){var o=e.data.textures[h];if(o.image===l){i.push(n),t.push(o),r.linkFile&&a.push(r.linkFile.data);break}}}for(0===a.length&&(a=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,a),this.complete=!0,s=0;s<this.files.length;s++)this.files[s].pendingDestroy()}}});t.register("multiatlas",function(e,t,i,a,s){var r;if(Array.isArray(e))for(var l=0;l<e.length;l++)r=new n(this,e[l]),this.addFile(r.files);else r=new n(this,e,t,i,a,s),this.addFile(r.files);return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./ImageFile.js":"dEVJ","../../utils/object/IsPlainObject":"ac6z","./JSONFile.js":"ijgl","../MultiFile.js":"9SIm"}],"urny":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../const"),s=require("../FileTypesManager"),t=require("./JSONFile.js"),r=new e({Extends:t,initialize:function(e,i,s,r,a){t.call(this,e,i,s,r,a),this.type="packfile"},onProcess:function(){this.state!==i.FILE_POPULATED&&(this.state=i.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,i,s,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t,s));return this}),module.exports=r;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../FileTypesManager":"fw5t","./JSONFile.js":"ijgl"}],"a32v":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../const"),i=require("../File"),s=require("../FileTypesManager"),a=require("../../utils/object/GetFastValue"),r=require("../../utils/object/IsPlainObject"),n=new t({Extends:i,initialize:function(t,s,n,l,h,o){var u="js";if(r(s)){var d=s;s=a(d,"key"),n=a(d,"url"),o=a(d,"xhrSettings"),u=a(d,"extension",u),l=a(d,"start"),h=a(d,"mapping")}var p={type:"plugin",cache:!1,extension:u,responseType:"text",key:s,url:n,xhrSettings:o,config:{start:l,mapping:h}};i.call(this,t,p),"function"==typeof n&&(this.data=n,this.state=e.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,i=this.config,s=a(i,"start",!1),r=a(i,"mapping",null);this.state===e.FILE_POPULATED?t.install(this.key,this.data,s,r):(this.state=e.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.install(this.key,window[this.key],s,r)),this.onProcessComplete()}});s.register("plugin",function(t,e,i,s,a){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new n(this,t[r]));else this.addFile(new n(this,t,e,i,s,a));return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"PEMW":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),i=require("../FileTypesManager"),a=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),r=new e({Extends:s,initialize:function(e,i,r,l,h,c){var o="js";if(n(i)){var u=i;i=a(u,"key"),r=a(u,"url"),c=a(u,"xhrSettings"),o=a(u,"extension",o),l=a(u,"systemKey"),h=a(u,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:c,config:{systemKey:l,sceneKey:h}};s.call(this,e,d),"function"==typeof r&&(this.data=r,this.state=t.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,s=this.config,i=this.key,n=a(s,"systemKey",i),r=a(s,"sceneKey",i);this.state===t.FILE_POPULATED?e.installScenePlugin(n,this.data,r,this.loader.scene):(this.state=t.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(n,window[this.key],r,this.loader.scene)),this.onProcessComplete()}});i.register("scenePlugin",function(e,t,s,i,a){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new r(this,e[n]));else this.addFile(new r(this,e,t,s,i,a));return this}),module.exports=r;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"xaxR":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),s=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function(e,t,s,n){var h="js";if(a(t)){var l=t;t=r(l,"key"),s=r(l,"url"),n=r(l,"xhrSettings"),h=r(l,"extension",h)}var o={type:"script",cache:!1,extension:h,responseType:"text",key:t,url:s,xhrSettings:n};i.call(this,e,o)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,t,i));return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"RPRt":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./ImageFile.js"),s=new e({Extends:t,initialize:function(e,i,s,r,a){t.call(this,e,i,s,a,r),this.type="spritesheet"},addToCache:function(){var e=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(e)}});i.register("spritesheet",function(e,i,t,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,t,r));return this}),module.exports=s;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","./ImageFile.js":"dEVJ"}],"CGEV":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),r=require("../File"),s=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:r,initialize:function(e,t,s,n){var o="svg";if(a(t)){var c=t;t=i(c,"key"),s=i(c,"url"),n=i(c,"xhrSettings"),o=i(c,"extension",o)}var h={type:"svg",cache:e.textureManager,extension:o,responseType:"text",key:t,url:s,xhrSettings:n};r.call(this,e,h)},onProcess:function(){this.state=t.FILE_PROCESSING;var e=[this.xhrLoader.responseText];try{var s=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(e){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this,a=!1;this.data.onload=function(){a||r.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a?i.onProcessError():(a=!0,r.revokeObjectURL(i.data),i.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},r.createObjectURL(this.data,s,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});s.register("svg",function(e,t,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,t,r));return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"hVqO":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,r,a){var l="txt";if(n(t)){var o=t;t=s(o,"key"),r=s(o,"url"),a=s(o,"xhrSettings"),l=s(o,"extension",l)}var u={type:"text",cache:e.cacheManager.text,extension:l,responseType:"text",key:t,url:r,xhrSettings:a};i.call(this,e,u)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new a(this,e[r]));else this.addFile(new a(this,e,t,i));return this}),module.exports=a;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z"}],"wt80":[function(require,module,exports) {
module.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3};
},{}],"1eAu":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=require("../../tilemaps/Formats"),o=new e({Extends:i,initialize:function(e,t,r,o){var l="csv";if(a(t)){var h=t;t=s(h,"key"),r=s(h,"url"),o=s(h,"xhrSettings"),l=s(h,"extension",l)}var c={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:l,responseType:"text",key:t,url:r,xhrSettings:o};i.call(this,e,c),this.tilemapFormat=n.CSV},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});r.register("tilemapCSV",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i));return this}),module.exports=o;
},{"../../utils/Class":"f5Xp","../const":"oYN3","../File":"8qwU","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","../../utils/object/IsPlainObject":"ac6z","../../tilemaps/Formats":"wt80"}],"daFh":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),a=require("../../tilemaps/Formats"),r=new e({Extends:t,initialize:function(e,i,a,r){t.call(this,e,i,a,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapImpact",function(e,i,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t));return this}),module.exports=r;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","./JSONFile.js":"ijgl","../../tilemaps/Formats":"wt80"}],"un1D":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),a=require("../../tilemaps/Formats"),r=new e({Extends:t,initialize:function(e,i,a,r){t.call(this,e,i,a,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapTiledJSON",function(e,i,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t));return this}),module.exports=r;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","./JSONFile.js":"ijgl","../../tilemaps/Formats":"wt80"}],"PqtB":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("../MultiFile.js"),r=require("./TextFile.js"),n=new e({Extends:l,initialize:function(e,t,n,u,h,o){var d,f;if(a(t)){var x=t;d=new s(e,{key:t,url:i(x,"textureURL"),extension:i(x,"textureExtension","png"),normalMap:i(x,"normalMap"),xhrSettings:i(x,"textureXhrSettings")}),f=new r(e,{key:t,url:i(x,"atlasURL"),extension:i(x,"atlasExtension","txt"),xhrSettings:i(x,"atlasXhrSettings")})}else d=new s(e,t,n,h),f=new r(e,t,u,o);d.linkFile?l.call(this,e,"unityatlas",t,[d,f,d.linkFile]):l.call(this,e,"unityatlas",t,[d,f])},addToCache:function(){if(0===this.failed&&!this.complete){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});t.register("unityAtlas",function(e,t,i,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,t,i,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"f5Xp","../FileTypesManager":"fw5t","../../utils/object/GetFastValue":"SgIk","./ImageFile.js":"dEVJ","../../utils/object/IsPlainObject":"ac6z","../MultiFile.js":"9SIm","./TextFile.js":"hVqO"}],"/Zoo":[function(require,module,exports) {
module.exports={AnimationJSONFile:require("./AnimationJSONFile"),AtlasJSONFile:require("./AtlasJSONFile"),AtlasXMLFile:require("./AtlasXMLFile"),AudioFile:require("./AudioFile"),AudioSpriteFile:require("./AudioSpriteFile"),BinaryFile:require("./BinaryFile"),BitmapFontFile:require("./BitmapFontFile"),GLSLFile:require("./GLSLFile"),HTML5AudioFile:require("./HTML5AudioFile"),HTMLFile:require("./HTMLFile"),ImageFile:require("./ImageFile"),JSONFile:require("./JSONFile"),MultiAtlasFile:require("./MultiAtlasFile"),PackFile:require("./PackFile"),PluginFile:require("./PluginFile"),ScenePluginFile:require("./ScenePluginFile"),ScriptFile:require("./ScriptFile"),SpriteSheetFile:require("./SpriteSheetFile"),SVGFile:require("./SVGFile"),TextFile:require("./TextFile"),TilemapCSVFile:require("./TilemapCSVFile"),TilemapImpactFile:require("./TilemapImpactFile"),TilemapJSONFile:require("./TilemapJSONFile"),UnityAtlasFile:require("./UnityAtlasFile"),XMLFile:require("./XMLFile")};
},{"./AnimationJSONFile":"PbhR","./AtlasJSONFile":"JIKD","./AtlasXMLFile":"5w2n","./AudioFile":"V647","./AudioSpriteFile":"JMRv","./BinaryFile":"UXgy","./BitmapFontFile":"0UaA","./GLSLFile":"ay6x","./HTML5AudioFile":"HIBM","./HTMLFile":"aRyW","./ImageFile":"dEVJ","./JSONFile":"ijgl","./MultiAtlasFile":"FwN/","./PackFile":"urny","./PluginFile":"a32v","./ScenePluginFile":"PEMW","./ScriptFile":"xaxR","./SpriteSheetFile":"RPRt","./SVGFile":"CGEV","./TextFile":"hVqO","./TilemapCSVFile":"1eAu","./TilemapImpactFile":"daFh","./TilemapJSONFile":"un1D","./UnityAtlasFile":"PqtB","./XMLFile":"3GBs"}],"a4TK":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("./const"),e=require("../structs/Set"),i=require("eventemitter3"),a=require("./FileTypesManager"),h=require("../utils/object/GetFastValue"),r=require("../plugins/PluginCache"),o=require("./XHRSettings"),n=new t({Extends:i,initialize:function(t){i.call(this);var r=t.sys.game.config,n=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(n,"baseURL",r.loaderBaseURL)),this.setPath(h(n,"path",r.loaderPath)),this.setPrefix(h(n,"prefix",r.loaderPrefix)),this.maxParallelDownloads=h(n,"maxParallelDownloads",r.loaderMaxParallelDownloads),this.xhr=o(h(n,"responseType",r.loaderResponseType),h(n,"async",r.loaderAsync),h(n,"user",r.loaderUser),h(n,"password",r.loaderPassword),h(n,"timeout",r.loaderTimeout)),this.crossOrigin=h(n,"crossOrigin",r.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new e,this.inflight=new e,this.queue=new e,this._deleteQueue=new e,this.totalFailed=0,this.totalComplete=0,this.state=s.LOADER_IDLE,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this.systems.events.once("shutdown",this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var e=t[s];this.keyExists(e)||(this.list.set(e),this.emit("addfile",e.key,e.type,this,e),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var s=t.hasCacheConflict();return s||this.list.iterate(function(e){if(e.type===t.type&&e.key===t.key)return s=!0,!1}),!s&&this.isLoading()&&(this.inflight.iterate(function(e){if(e.type===t.type&&e.key===t.key)return s=!0,!1}),this.queue.iterate(function(e){if(e.type===t.type&&e.key===t.key)return s=!0,!1})),s},addPack:function(t,s){s&&t.hasOwnProperty(s)&&(t={packKey:t[s]});var e=0,i=this.baseURL,a=this.path,r=this.prefix;for(var o in t){var n=t[o],l=h(n,"baseURL",i),u=h(n,"path",a),d=h(n,"prefix",r),c=h(n,"files",null),f=h(n,"defaultType","void");if(Array.isArray(c)){this.setBaseURL(l),this.setPath(u),this.setPrefix(d);for(var p=0;p<c.length;p++){var y=c[p],g=y.hasOwnProperty("type")?y.type:f;this[g]&&(this[g](y),e++)}}}return this.setBaseURL(i),this.setPath(a),this.setPrefix(r),e>0},isLoading:function(){return this.state===s.LOADER_LOADING||this.state===s.LOADER_PROCESSING},isReady:function(){return this.state===s.LOADER_IDLE||this.state===s.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit("start",this),0===this.list.size?this.loadComplete():(this.state=s.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on("update",this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit("progress",this.progress)},update:function(){this.state===s.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===s.FILE_POPULATED||t.state===s.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,s){this.inflight.delete(t),this.updateProgress(),s?(this.totalComplete++,this.queue.set(t),this.emit("load",t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit("loaderror",t),this.fileProcessComplete(t))},fileProcessComplete:function(t){t.state===s.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===s.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete()},loadComplete:function(){this.emit("loadcomplete",this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=s.LOADER_COMPLETE,this.systems.events.off("update",this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit("complete",this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,s){return this.save(JSON.stringify(t),s)},save:function(t,s,e){void 0===s&&(s="file.json"),void 0===e&&(e="application/json");var i=new Blob([t],{type:e}),a=URL.createObjectURL(i),h=document.createElement("a");return h.download=s,h.textContent="Download "+s,h.href=a,h.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(h(e,"baseURL",t.loaderBaseURL)),this.setPath(h(e,"path",t.loaderPath)),this.setPrefix(h(e,"prefix",t.loaderPrefix)),this.state=s.LOADER_IDLE},shutdown:function(){this.reset(),this.state=s.LOADER_SHUTDOWN,this.systems.events.off("update",this.update,this),this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.state=s.LOADER_DESTROYED,this.systems.events.off("update",this.update,this),this.systems.events.off("start",this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null}});r.register("Loader",n,"load"),module.exports=n;
},{"../utils/Class":"f5Xp","./const":"oYN3","../structs/Set":"jS4S","eventemitter3":"LqgX","./FileTypesManager":"fw5t","../utils/object/GetFastValue":"SgIk","../plugins/PluginCache":"sYlk","./XHRSettings":"6pSW"}],"OOlX":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),i={FileTypes:require("./filetypes"),File:require("./File"),FileTypesManager:require("./FileTypesManager"),GetURL:require("./GetURL"),LoaderPlugin:require("./LoaderPlugin"),MergeXHRSettings:require("./MergeXHRSettings"),MultiFile:require("./MultiFile"),XHRLoader:require("./XHRLoader"),XHRSettings:require("./XHRSettings")};i=r(!1,i,e),module.exports=i;
},{"./const":"oYN3","../utils/object/Extend":"Wu2m","./filetypes":"/Zoo","./File":"8qwU","./FileTypesManager":"fw5t","./GetURL":"Uo0C","./LoaderPlugin":"a4TK","./MergeXHRSettings":"IhZ4","./MultiFile":"9SIm","./XHRLoader":"nrre","./XHRSettings":"6pSW"}],"TeLg":[function(require,module,exports) {
var t=function(t,a,n,r){return Math.atan2(r-a,n-t)};module.exports=t;
},{}],"+1Ht":[function(require,module,exports) {
var t=function(t,a,n,r){return Math.atan2(n-t,r-a)};module.exports=t;
},{}],"lkiA":[function(require,module,exports) {
var t=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};module.exports=t;
},{}],"Xmlx":[function(require,module,exports) {
var t=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};module.exports=t;
},{}],"qi6i":[function(require,module,exports) {
var t=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI};module.exports=t;
},{}],"iRFd":[function(require,module,exports) {
var r=require("./Normalize"),e=function(e){return r(e+Math.PI)};module.exports=e;
},{"./Normalize":"qi6i"}],"Y/S8":[function(require,module,exports) {
var a=require("../const"),t=function(t,r,e){return void 0===e&&(e=.05),t===r?t:(Math.abs(r-t)<=e||Math.abs(r-t)>=a.PI2-e?t=r:(Math.abs(r-t)>Math.PI&&(r<t?r+=a.PI2:r-=a.PI2),r>t?t+=e:r<t&&(t-=e)),t)};module.exports=t;
},{"../const":"fj5M"}],"Wr3y":[function(require,module,exports) {
var r=function(r,o){var t=o-r;return 0===t?0:t-360*Math.floor((t- -180)/360)};module.exports=r;
},{}],"DioG":[function(require,module,exports) {
module.exports={Between:require("./Between"),BetweenY:require("./BetweenY"),BetweenPoints:require("./BetweenPoints"),BetweenPointsY:require("./BetweenPointsY"),Reverse:require("./Reverse"),RotateTo:require("./RotateTo"),ShortestBetween:require("./ShortestBetween"),Normalize:require("./Normalize"),Wrap:require("./Wrap"),WrapDegrees:require("./WrapDegrees")};
},{"./Between":"TeLg","./BetweenY":"+1Ht","./BetweenPoints":"lkiA","./BetweenPointsY":"Xmlx","./Reverse":"iRFd","./RotateTo":"Y/S8","./ShortestBetween":"Wr3y","./Normalize":"qi6i","./Wrap":"mxrD","./WrapDegrees":"JMSS"}],"a7Zp":[function(require,module,exports) {
var t=function(t,o,r,a,e){return void 0===e&&(e=2),Math.sqrt(Math.pow(r-t,e)+Math.pow(a-o,e))};module.exports=t;
},{}],"v31l":[function(require,module,exports) {
var r=function(r,e,n,o){var t=r-n,u=e-o;return t*t+u*u};module.exports=r;
},{}],"QOmE":[function(require,module,exports) {
module.exports={Between:require("./DistanceBetween"),Power:require("./DistancePower"),Squared:require("./DistanceSquared")};
},{"./DistanceBetween":"EOwJ","./DistancePower":"a7Zp","./DistanceSquared":"v31l"}],"LHhY":[function(require,module,exports) {
module.exports={Back:require("./back"),Bounce:require("./bounce"),Circular:require("./circular"),Cubic:require("./cubic"),Elastic:require("./elastic"),Expo:require("./expo"),Linear:require("./linear"),Quadratic:require("./quadratic"),Quartic:require("./quartic"),Quintic:require("./quintic"),Sine:require("./sine"),Stepped:require("./stepped")};
},{"./back":"h8GY","./bounce":"B0WK","./circular":"rbFN","./cubic":"sPY0","./elastic":"Ug0z","./expo":"5849","./linear":"cmiG","./quadratic":"oT3U","./quartic":"Zpf2","./quintic":"x9sO","./sine":"e8nc","./stepped":"WdbI"}],"T99W":[function(require,module,exports) {
var e=function(e,o){return void 0===o&&(o=1e-4),Math.ceil(e-o)};module.exports=e;
},{}],"ACqQ":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),Math.abs(e-o)<r};module.exports=e;
},{}],"xDsa":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1e-4),Math.floor(o+r)};module.exports=o;
},{}],"TeFa":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),e>o-r};module.exports=e;
},{}],"EqIl":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),e<o+r};module.exports=e;
},{}],"MMuR":[function(require,module,exports) {
module.exports={Ceil:require("./Ceil"),Equal:require("./Equal"),Floor:require("./Floor"),GreaterThan:require("./GreaterThan"),LessThan:require("./LessThan")};
},{"./Ceil":"T99W","./Equal":"ACqQ","./Floor":"xDsa","./GreaterThan":"TeFa","./LessThan":"EqIl"}],"kM46":[function(require,module,exports) {
var r=function(r){if(0===r)return 1;for(var e=r;--r;)e*=r;return e};module.exports=r;
},{}],"474f":[function(require,module,exports) {
var r=require("./Factorial"),e=function(e,o){return r(e)/r(o)/r(e-o)};module.exports=e;
},{"./Factorial":"kM46"}],"yZcR":[function(require,module,exports) {
var r=require("../Bernstein"),e=function(e,t){for(var n=0,o=e.length-1,a=0;a<=o;a++)n+=Math.pow(1-t,o-a)*Math.pow(t,a)*e[a]*r(o,a);return n};module.exports=e;
},{"../Bernstein":"474f"}],"fLdj":[function(require,module,exports) {
var r=require("../CatmullRom"),o=function(o,t){var e=o.length-1,l=e*t,a=Math.floor(l);return o[0]===o[e]?(t<0&&(a=Math.floor(l=e*(1+t))),r(l-a,o[(a-1+e)%e],o[a],o[(a+1)%e],o[(a+2)%e])):t<0?o[0]-(r(-l,o[0],o[0],o[1],o[1])-o[0]):t>1?o[e]-(r(l-e,o[e],o[e],o[e-1],o[e-1])-o[e]):r(l-a,o[a?a-1:0],o[a],o[e<a+1?e:a+1],o[e<a+2?e:a+2])};module.exports=o;
},{"../CatmullRom":"gNAz"}],"Q5Ls":[function(require,module,exports) {
var r=require("../Linear"),e=function(e,n){var o=e.length-1,t=o*n,a=Math.floor(t);return n<0?r(e[0],e[1],t):n>1?r(e[o],e[o-1],o-t):r(e[a],e[a+1>o?o:a+1],t-a)};module.exports=e;
},{"../Linear":"QBm/"}],"LpLL":[function(require,module,exports) {
var e=require("../SmootherStep"),r=function(r,o,t){return o+(t-o)*e(r,0,1)};module.exports=r;
},{"../SmootherStep":"5Vcq"}],"BeZw":[function(require,module,exports) {
module.exports={Bezier:require("./BezierInterpolation"),CatmullRom:require("./CatmullRomInterpolation"),CubicBezier:require("./CubicBezierInterpolation"),Linear:require("./LinearInterpolation"),QuadraticBezier:require("./QuadraticBezierInterpolation"),SmoothStep:require("./SmoothStepInterpolation"),SmootherStep:require("./SmootherStepInterpolation")};
},{"./BezierInterpolation":"yZcR","./CatmullRomInterpolation":"fLdj","./CubicBezierInterpolation":"pn/u","./LinearInterpolation":"Q5Ls","./QuadraticBezierInterpolation":"5MHD","./SmoothStepInterpolation":"8x5I","./SmootherStepInterpolation":"LpLL"}],"J5IW":[function(require,module,exports) {
var r=function(r){return r>0&&0==(r&r-1)};module.exports=r;
},{}],"mP3h":[function(require,module,exports) {
module.exports={GetNext:require("./GetPowerOfTwo"),IsSize:require("./IsSizePowerOfTwo"),IsValue:require("./IsValuePowerOfTwo")};
},{"./GetPowerOfTwo":"GcHX","./IsSizePowerOfTwo":"yiju","./IsValuePowerOfTwo":"J5IW"}],"35YO":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=0),0===o?e:(e-=r,r+(e=o*Math.ceil(e/o)))};module.exports=e;
},{}],"0jDa":[function(require,module,exports) {
var o=function(o,r,n){return void 0===n&&(n=0),0===r?o:(o-=n,n+(o=r*Math.round(o/r)))};module.exports=o;
},{}],"0r5i":[function(require,module,exports) {
module.exports={Ceil:require("./SnapCeil"),Floor:require("./SnapFloor"),To:require("./SnapTo")};
},{"./SnapCeil":"35YO","./SnapFloor":"guKg","./SnapTo":"0jDa"}],"fhOD":[function(require,module,exports) {
var r=function(r){for(var e=0,n=0;n<r.length;n++)e+=+r[n];return e/r.length};module.exports=r;
},{}],"Aoey":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.ceil(o*a)/a};module.exports=o;
},{}],"Kv2G":[function(require,module,exports) {
var r=function(r,t){return Math.abs(r-t)};module.exports=r;
},{}],"6nym":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.floor(o*a)/a};module.exports=o;
},{}],"gmkH":[function(require,module,exports) {
var e=function(e,r){return e/r/1e3};module.exports=e;
},{}],"rfDs":[function(require,module,exports) {
var o=function(o){return o==parseFloat(o)?!(o%2):void 0};module.exports=o;
},{}],"tlN5":[function(require,module,exports) {
var o=function(o){return o===parseFloat(o)?!(o%2):void 0};module.exports=o;
},{}],"8CS8":[function(require,module,exports) {
var n=function(n,r,t){return Math.min(n+r,t)};module.exports=n;
},{}],"MT2Y":[function(require,module,exports) {
var r=function(r,t,a){return Math.max(r-t,a)};module.exports=r;
},{}],"+kod":[function(require,module,exports) {
var o=function(o,r,v,d){void 0===v&&(v=r+1);var e=(o-r)/(v-r);return e>1?void 0!==d?(e=(d-o)/(d-v))<0&&(e=0):e=1:e<0&&(e=0),e};module.exports=o;
},{}],"KO1e":[function(require,module,exports) {
var a=function(a,t){void 0===t&&(t=1);var o=2*Math.random()*Math.PI;return a.x=Math.cos(o)*t,a.y=Math.sin(o)*t,a};module.exports=a;
},{}],"bM2g":[function(require,module,exports) {
var t=function(t,a){var n=t.x,o=t.y;return t.x=n*Math.cos(a)-o*Math.sin(a),t.y=n*Math.sin(a)+o*Math.cos(a),t};module.exports=t;
},{}],"giEf":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.round(o*a)/a};module.exports=o;
},{}],"jncM":[function(require,module,exports) {
var o=function(o,r,i,n){void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/o;for(var t=[],v=[],d=0;d<o;d++)r+=(i-=r*n)*n,t[d]=i,v[d]=r;return{sin:v,cos:t,length:o}};module.exports=o;
},{}],"g/Dr":[function(require,module,exports) {
var r=function(r,t,a){return Math.abs(r-t)<=a};module.exports=r;
},{}],"hq5V":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),i={Angle:require("./angle/"),Distance:require("./distance/"),Easing:require("./easing/"),Fuzzy:require("./fuzzy/"),Interpolation:require("./interpolation/"),Pow2:require("./pow2/"),Snap:require("./snap/"),RandomDataGenerator:require("./random-data-generator/RandomDataGenerator"),Average:require("./Average"),Bernstein:require("./Bernstein"),Between:require("./Between"),CatmullRom:require("./CatmullRom"),CeilTo:require("./CeilTo"),Clamp:require("./Clamp"),DegToRad:require("./DegToRad"),Difference:require("./Difference"),Factorial:require("./Factorial"),FloatBetween:require("./FloatBetween"),FloorTo:require("./FloorTo"),FromPercent:require("./FromPercent"),GetSpeed:require("./GetSpeed"),IsEven:require("./IsEven"),IsEvenStrict:require("./IsEvenStrict"),Linear:require("./Linear"),MaxAdd:require("./MaxAdd"),MinSub:require("./MinSub"),Percent:require("./Percent"),RadToDeg:require("./RadToDeg"),RandomXY:require("./RandomXY"),RandomXYZ:require("./RandomXYZ"),RandomXYZW:require("./RandomXYZW"),Rotate:require("./Rotate"),RotateAround:require("./RotateAround"),RotateAroundDistance:require("./RotateAroundDistance"),RoundAwayFromZero:require("./RoundAwayFromZero"),RoundTo:require("./RoundTo"),SinCosTableGenerator:require("./SinCosTableGenerator"),SmootherStep:require("./SmootherStep"),SmoothStep:require("./SmoothStep"),TransformXY:require("./TransformXY"),Within:require("./Within"),Wrap:require("./Wrap"),Vector2:require("./Vector2"),Vector3:require("./Vector3"),Vector4:require("./Vector4"),Matrix3:require("./Matrix3"),Matrix4:require("./Matrix4"),Quaternion:require("./Quaternion"),RotateVec3:require("./RotateVec3")};i=r(!1,i,e),module.exports=i;
},{"./const":"fj5M","../utils/object/Extend":"Wu2m","./angle/":"DioG","./distance/":"QOmE","./easing/":"LHhY","./fuzzy/":"MMuR","./interpolation/":"BeZw","./pow2/":"mP3h","./snap/":"0r5i","./random-data-generator/RandomDataGenerator":"BBN5","./Average":"fhOD","./Bernstein":"474f","./Between":"xL6l","./CatmullRom":"gNAz","./CeilTo":"Aoey","./Clamp":"mAiE","./DegToRad":"hyJn","./Difference":"Kv2G","./Factorial":"kM46","./FloatBetween":"S5AK","./FloorTo":"6nym","./FromPercent":"xPta","./GetSpeed":"gmkH","./IsEven":"rfDs","./IsEvenStrict":"tlN5","./Linear":"QBm/","./MaxAdd":"8CS8","./MinSub":"MT2Y","./Percent":"+kod","./RadToDeg":"M5ju","./RandomXY":"KO1e","./RandomXYZ":"fovb","./RandomXYZW":"w7gG","./Rotate":"bM2g","./RotateAround":"uRXW","./RotateAroundDistance":"3bNT","./RoundAwayFromZero":"oiOd","./RoundTo":"giEf","./SinCosTableGenerator":"jncM","./SmootherStep":"5Vcq","./SmoothStep":"YtqF","./TransformXY":"58iN","./Within":"g/Dr","./Wrap":"Xl2Y","./Vector2":"2OLl","./Vector3":"7XYV","./Vector4":"jZrB","./Matrix3":"Q1bX","./Matrix4":"Mwwo","./Quaternion":"4DQx","./RotateVec3":"HcV/"}],"bbIk":[function(require,module,exports) {
var A={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};module.exports=A;
},{}],"mUxU":[function(require,module,exports) {
var t={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};module.exports=t;
},{}],"D4PP":[function(require,module,exports) {
var t={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};module.exports=t;
},{}],"pQB8":[function(require,module,exports) {
var o={setBounce:function(o,t){return this.body.bounce.set(o,t),this},setBounceX:function(o){return this.body.bounce.x=o,this},setBounceY:function(o){return this.body.bounce.y=o,this},setCollideWorldBounds:function(o){return this.body.collideWorldBounds=o,this}};module.exports=o;
},{}],"f7AC":[function(require,module,exports) {
var o={setDebug:function(o,t,e){return this.debugShowBody=o,this.debugShowVelocity=t,this.debugBodyColor=e,this},setDebugBodyColor:function(o){return this.body.debugBodyColor=o,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(o){this.body.debugShowBody=o}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(o){this.body.debugShowVelocity=o}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(o){this.body.debugBodyColor=o}}};module.exports=o;
},{}],"0FJE":[function(require,module,exports) {
var t={setDrag:function(t,r){return this.body.drag.set(t,r),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};module.exports=t;
},{}],"1+Rg":[function(require,module,exports) {
var e={enableBody:function(e,t,i,o,b){return e&&this.body.reset(t,i),o&&(this.body.gameObject.active=!0),b&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};module.exports=e;
},{}],"aO8s":[function(require,module,exports) {
var t={setFriction:function(t,i){return this.body.friction.set(t,i),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};module.exports=t;
},{}],"hBcY":[function(require,module,exports) {
var t={setGravity:function(t,i){return this.body.gravity.set(t,i),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};module.exports=t;
},{}],"eXZ/":[function(require,module,exports) {
var o={setImmovable:function(o){return void 0===o&&(o=!0),this.body.immovable=o,this}};module.exports=o;
},{}],"gkye":[function(require,module,exports) {
var s={setMass:function(s){return this.body.mass=s,this}};module.exports=s;
},{}],"TGaW":[function(require,module,exports) {
var t={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,s){return this.body.setSize(t,e,s),this},setCircle:function(t,e,s){return this.body.setCircle(t,e,s),this}};module.exports=t;
},{}],"zNPV":[function(require,module,exports) {
var t={setVelocity:function(t,e){return this.body.velocity.set(t,e),this},setVelocityX:function(t){return this.body.velocity.x=t,this},setVelocityY:function(t){return this.body.velocity.y=t,this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}};module.exports=t;
},{}],"J4BS":[function(require,module,exports) {
module.exports={Acceleration:require("./Acceleration"),Angular:require("./Angular"),Bounce:require("./Bounce"),Debug:require("./Debug"),Drag:require("./Drag"),Enable:require("./Enable"),Friction:require("./Friction"),Gravity:require("./Gravity"),Immovable:require("./Immovable"),Mass:require("./Mass"),Size:require("./Size"),Velocity:require("./Velocity")};
},{"./Acceleration":"mUxU","./Angular":"D4PP","./Bounce":"pQB8","./Debug":"f7AC","./Drag":"0FJE","./Enable":"1+Rg","./Friction":"aO8s","./Gravity":"hBcY","./Immovable":"eXZ/","./Mass":"gkye","./Size":"TGaW","./Velocity":"zNPV"}],"pGJF":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),a=require("../../gameobjects/image/Image"),n=new e({Extends:a,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Size,i.Velocity],initialize:function(e,i,n,r,t){a.call(this,e,i,n,r,t)}});module.exports=n;
},{"../../utils/Class":"f5Xp","./components":"J4BS","../../gameobjects/image/Image":"hn+d"}],"MWVt":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),r=require("../../gameobjects/sprite/Sprite"),t=new e({Extends:r,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Size,i.Velocity],initialize:function(e,i,t,n,l){r.call(this,e,i,t,n,l),this.body=null}});module.exports=t;
},{"../../utils/Class":"f5Xp","./components":"J4BS","../../gameobjects/sprite/Sprite":"X5p1"}],"h7O2":[function(require,module,exports) {
var e=require("./ArcadeSprite"),t=require("../../utils/Class"),l=require("./const"),i=require("../../utils/object/GetFastValue"),r=require("../../gameobjects/group/Group"),o=new t({Extends:r,initialize:function(t,o,a,s){void 0!==s||Array.isArray(a)||"object"!=typeof a?void 0===s&&(s={}):(s=a,a=null),this.world=t,s.createCallback=this.createCallbackHandler,s.removeCallback=this.removeCallbackHandler,s.classType=i(s,"classType",e),this.physicsType=l.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:i(s,"collideWorldBounds",!1),setAccelerationX:i(s,"accelerationX",0),setAccelerationY:i(s,"accelerationY",0),setAllowDrag:i(s,"allowDrag",!0),setAllowGravity:i(s,"allowGravity",!0),setAllowRotation:i(s,"allowRotation",!0),setBounceX:i(s,"bounceX",0),setBounceY:i(s,"bounceY",0),setDragX:i(s,"dragX",0),setDragY:i(s,"dragY",0),setGravityX:i(s,"gravityX",0),setGravityY:i(s,"gravityY",0),setFrictionX:i(s,"frictionX",0),setFrictionY:i(s,"frictionY",0),setVelocityX:i(s,"velocityX",0),setVelocityY:i(s,"velocityY",0),setAngularVelocity:i(s,"angularVelocity",0),setAngularAcceleration:i(s,"angularAcceleration",0),setAngularDrag:i(s,"angularDrag",0),setMass:i(s,"mass",1),setImmovable:i(s,"immovable",!1)},r.call(this,o,a,s)},createCallbackHandler:function(e){e.body||this.world.enableBody(e,l.DYNAMIC_BODY);var t=e.body;for(var i in this.defaults)t[i](this.defaults[i])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,l){void 0===l&&(l=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.set(e+r*l,t+r*l);return this},setVelocityX:function(e,t){void 0===t&&(t=0);for(var l=this.getChildren(),i=0;i<l.length;i++)l[i].body.velocity.x=e+i*t;return this},setVelocityY:function(e,t){void 0===t&&(t=0);for(var l=this.getChildren(),i=0;i<l.length;i++)l[i].body.velocity.y=e+i*t;return this}});module.exports=o;
},{"./ArcadeSprite":"MWVt","../../utils/Class":"f5Xp","./const":"bbIk","../../utils/object/GetFastValue":"SgIk","../../gameobjects/group/Group":"+G/V"}],"W8hT":[function(require,module,exports) {
var e=require("./ArcadeSprite"),r=require("../../utils/Class"),l=require("./const"),a=require("../../gameobjects/group/Group"),t=new r({Extends:a,initialize:function(r,t,i,c){void 0!==c||Array.isArray(i)||"object"!=typeof i?void 0===c&&(c={}):(c=i,i=null),this.world=r,c.createCallback=this.createCallbackHandler,c.removeCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=e,this.physicsType=l.STATIC_BODY,a.call(this,t,i,c)},createCallbackHandler:function(e){e.body||this.world.enableBody(e,l.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,r=0;r<e.length;r++)e[r].body.reset();return this}});module.exports=t;
},{"./ArcadeSprite":"MWVt","../../utils/Class":"f5Xp","./const":"bbIk","../../gameobjects/group/Group":"+G/V"}],"ewCP":[function(require,module,exports) {
var s=require("./ArcadeImage"),e=require("./ArcadeSprite"),t=require("../../utils/Class"),i=require("./const"),r=require("./PhysicsGroup"),n=require("./StaticPhysicsGroup"),d=new t({initialize:function(s){this.world=s,this.scene=s.scene,this.sys=s.scene.sys},collider:function(s,e,t,i,r){return this.world.addCollider(s,e,t,i,r)},overlap:function(s,e,t,i,r){return this.world.addOverlap(s,e,t,i,r)},existing:function(s,e){var t=e?i.STATIC_BODY:i.DYNAMIC_BODY;return this.world.enableBody(s,t),s},staticImage:function(e,t,r,n){var d=new s(this.scene,e,t,r,n);return this.sys.displayList.add(d),this.world.enableBody(d,i.STATIC_BODY),d},image:function(e,t,r,n){var d=new s(this.scene,e,t,r,n);return this.sys.displayList.add(d),this.world.enableBody(d,i.DYNAMIC_BODY),d},staticSprite:function(s,t,r,n){var d=new e(this.scene,s,t,r,n);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,i.STATIC_BODY),d},sprite:function(s,t,r,n){var d=new e(this.scene,s,t,r,n);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,i.DYNAMIC_BODY),d},staticGroup:function(s,e){return this.sys.updateList.add(new n(this.world,this.world.scene,s,e))},group:function(s,e){return this.sys.updateList.add(new r(this.world,this.world.scene,s,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module.exports=d;
},{"./ArcadeImage":"pGJF","./ArcadeSprite":"MWVt","../../utils/Class":"f5Xp","./const":"bbIk","./PhysicsGroup":"h7O2","./StaticPhysicsGroup":"W8hT"}],"5ld7":[function(require,module,exports) {
var t=require("../../geom/circle/Contains"),i=require("../../utils/Class"),s=require("./const"),e=require("../../math/RadToDeg"),h=require("../../geom/rectangle/Rectangle"),o=require("../../geom/rectangle/Contains"),n=require("../../gameobjects/components/TransformMatrix"),r=require("../../math/Vector2"),a=new i({initialize:function(t,i){var e=i.width?i.width:64,o=i.height?i.height:64;this.world=t,this.gameObject=i,this.transform={x:i.x,y:i.y,rotation:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,displayOriginX:i.displayOriginX,displayOriginY:i.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(i.x,i.y),this.prev=new r(i.x,i.y),this.allowRotation=!0,this.rotation=i.angle,this.preRotation=i.angle,this.width=e,this.height=o,this.sourceWidth=e,this.sourceHeight=o,i.frame&&(this.sourceWidth=i.frame.realWidth,this.sourceHeight=i.frame.realHeight),this.halfWidth=Math.abs(e/2),this.halfHeight=Math.abs(o/2),this.center=new r(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.physicsType=s.DYNAMIC_BODY,this._reset=!0,this._sx=i.scaleX,this._sy=i.scaleY,this._dx=0,this._dy=0,this._bounds=new h,this._tempMatrix=new n},updateBounds:function(){var t=this.gameObject,i=this.transform;if(t.parentContainer){var s=t.getWorldTransformMatrix(this._tempMatrix);i.x=s.tx,i.y=s.ty,i.rotation=e(s.rotation),i.scaleX=s.scaleX,i.scaleY=s.scaleY}else i.x=t.x,i.y=t.y,i.rotation=t.angle,i.scaleX=t.scaleX,i.scaleY=t.scaleY;var h=!1;if(this.syncBounds){var o=t.getBounds(this._bounds);this.width=o.width,this.height=o.height,h=!0}else{var n=Math.abs(i.scaleX),r=Math.abs(i.scaleY);this._sx===n&&this._sy===r||(this.width=this.sourceWidth*n,this.height=this.sourceHeight*r,this._sx=n,this._sy=r,h=!0)}h&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},update:function(t){this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds();var i=this.transform;if(this.position.x=i.x+i.scaleX*(this.offset.x-i.displayOriginX),this.position.y=i.y+i.scaleY*(this.offset.y-i.displayOriginY),this.updateCenter(),this.rotation=i.rotation,this.preRotation=this.rotation,this._reset&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves){this.world.updateMotion(this,t);var s=this.velocity.x,e=this.velocity.y;this.newVelocity.set(s*t,e*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(e,s),this.speed=Math.sqrt(s*s+e*e),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit("worldbounds",this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.deltaX(),this._dy=this.deltaY()},postUpdate:function(){this._dx=this.deltaX(),this._dy=this.deltaY(),this.moves&&(0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.gameObject.x+=this._dx,this.gameObject.y+=this._dy,this._reset=!0),this._dx<0?this.facing=s.FACING_LEFT:this._dx>0&&(this.facing=s.FACING_RIGHT),this._dy<0?this.facing=s.FACING_UP:this._dy>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y},checkWorldBounds:function(){var t=this.position,i=this.world.bounds,s=this.world.checkCollision,e=this.worldBounce?-this.worldBounce.x:-this.bounce.x,h=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<i.x&&s.left?(t.x=i.x,this.velocity.x*=e,this.blocked.left=!0,this.blocked.none=!1):this.right>i.right&&s.right&&(t.x=i.right-this.width,this.velocity.x*=e,this.blocked.right=!0,this.blocked.none=!1),t.y<i.y&&s.up?(t.y=i.y,this.velocity.y*=h,this.blocked.up=!0,this.blocked.none=!1):this.bottom>i.bottom&&s.down&&(t.y=i.bottom-this.height,this.velocity.y*=h,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},setOffset:function(t,i){return void 0===i&&(i=t),this.offset.set(t,i),this},setSize:function(t,i,s){void 0===s&&(s=!0);var e=this.gameObject;if(this.sourceWidth=t,this.sourceHeight=i,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),s&&e.getCenter){var h=e.displayWidth/2,o=e.displayHeight/2;this.offset.set(h-this.halfWidth,o-this.halfHeight)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,i,s){return void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(i,s),this.updateCenter()):this.isCircle=!1,this},reset:function(t,i){this.stop();var s=this.gameObject;s.setPosition(t,i),s.getTopLeft(this.position),this.prev.copy(this.position),this.rotation=s.angle,this.preRotation=s.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(i,s){return this.isCircle?t(this,i,s):o(this,i,s)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var i=this.position,s=i.x+this.halfWidth,e=i.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor),this.isCircle?t.strokeCircle(s,e,this.width/2):t.strokeRect(i.x,i.y,this.width,this.height)),this.debugShowVelocity&&(t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(s,e,s+this.velocity.x/2,e+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t){return void 0===t&&(t=!0),this.collideWorldBounds=t,this},setVelocity:function(t,i){return this.velocity.set(t,i),this},setVelocityX:function(t){return this.velocity.x=t,this},setVelocityY:function(t){return this.velocity.y=t,this},setMaxVelocity:function(t,i){return this.maxVelocity.set(t,i),this},setBounce:function(t,i){return this.bounce.set(t,i),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,i){return this.acceleration.set(t,i),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,i){return this.drag.set(t,i),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,i){return this.gravity.set(t,i),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,i){return this.friction.set(t,i),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=a;
},{"../../geom/circle/Contains":"GyfI","../../utils/Class":"f5Xp","./const":"bbIk","../../math/RadToDeg":"M5ju","../../geom/rectangle/Rectangle":"hff6","../../geom/rectangle/Contains":"uD/l","../../gameobjects/components/TransformMatrix":"PEti","../../math/Vector2":"2OLl"}],"1o5O":[function(require,module,exports) {
var t=require("../../utils/Class"),l=new t({initialize:function(t,l,i,s,e,c,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=l,this.object1=i,this.object2=s,this.collideCallback=e,this.processCallback=c,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});module.exports=l;
},{"../../utils/Class":"f5Xp"}],"Kctt":[function(require,module,exports) {
var e=require("./const"),o=function(o,n,c,i){var t=0,l=o.deltaAbsX()+n.deltaAbsX()+i;return 0===o._dx&&0===n._dx?(o.embedded=!0,n.embedded=!0):o._dx>n._dx?(t=o.right-n.x)>l&&!c||!1===o.checkCollision.right||!1===n.checkCollision.left?t=0:(o.touching.none=!1,o.touching.right=!0,n.touching.none=!1,n.touching.left=!0,n.physicsType===e.STATIC_BODY&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===e.STATIC_BODY&&(n.blocked.none=!1,n.blocked.left=!0)):o._dx<n._dx&&(-(t=o.x-n.width-n.x)>l&&!c||!1===o.checkCollision.left||!1===n.checkCollision.right?t=0:(o.touching.none=!1,o.touching.left=!0,n.touching.none=!1,n.touching.right=!0,n.physicsType===e.STATIC_BODY&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===e.STATIC_BODY&&(n.blocked.none=!1,n.blocked.right=!0))),o.overlapX=t,n.overlapX=t,t};module.exports=o;
},{"./const":"bbIk"}],"2TtE":[function(require,module,exports) {
var o=require("./const"),e=function(e,n,c,d){var i=0,l=e.deltaAbsY()+n.deltaAbsY()+d;return 0===e._dy&&0===n._dy?(e.embedded=!0,n.embedded=!0):e._dy>n._dy?(i=e.bottom-n.y)>l&&!c||!1===e.checkCollision.down||!1===n.checkCollision.up?i=0:(e.touching.none=!1,e.touching.down=!0,n.touching.none=!1,n.touching.up=!0,n.physicsType===o.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0),e.physicsType===o.STATIC_BODY&&(n.blocked.none=!1,n.blocked.up=!0)):e._dy<n._dy&&(-(i=e.y-n.bottom)>l&&!c||!1===e.checkCollision.up||!1===n.checkCollision.down?i=0:(e.touching.none=!1,e.touching.up=!0,n.touching.none=!1,n.touching.down=!0,n.physicsType===o.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0),e.physicsType===o.STATIC_BODY&&(n.blocked.none=!1,n.blocked.down=!0))),e.overlapY=i,n.overlapY=i,i};module.exports=e;
},{"./const":"bbIk"}],"b9qP":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(){this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,this},remove:function(t){return this._destroy.push(t),this._toProcess++,this},update:function(){if(0===this._toProcess)return this._active;var t,i,s=this._destroy,e=this._active;for(t=0;t<s.length;t++){i=s[t];var n=e.indexOf(i);-1!==n&&e.splice(n,1)}for(s.length=0,s=this._pending,t=0;t<s.length;t++)i=s[t],this._active.push(i);return s.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},destroy:function(){this._pending=[],this._active=[],this._destroy=[]}});module.exports=i;
},{"../utils/Class":"f5Xp"}],"xxxi":[function(require,module,exports) {
var l=function(l,a){return l.collisionCallback?!l.collisionCallback.call(l.collisionCallbackContext,a,l):!l.layer.callbacks[l.index]||!l.layer.callbacks[l.index].callback.call(l.layer.callbacks[l.index].callbackContext,a,l)};module.exports=l;
},{}],"6kiY":[function(require,module,exports) {
var t=require("../utils/array/QuickSelect");function i(t){if(!(this instanceof i))return new i(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function r(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,h){h||(h=x(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(var a,o=i;o<n;o++)a=t.children[o],e(h,t.leaf?r(a):a);return h}function e(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function a(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function u(t,i){var n=Math.max(t.minX,i.minX),r=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,e-r)}function c(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,h,e){for(var a,o=[n,r];o.length;)(r=o.pop())-(n=o.pop())<=h||(a=n+Math.ceil((r-n)/h/2)*h,t(i,a,n,r,e),o.push(n,a,a,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],r=this.toBBox;if(!f(t,i))return n;for(var h,e,a,o,s=[];i;){for(h=0,e=i.children.length;h<e;h++)a=i.children[h],f(t,o=i.leaf?r(a):a)&&(i.leaf?n.push(a):c(t,o)?this._all(a,n):s.push(a));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var r,h,e,a,o=[];i;){for(r=0,h=i.children.length;r<h;r++)if(e=i.children[r],f(t,a=i.leaf?n(e):e)){if(i.leaf||c(t,a))return!0;o.push(e)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var h=this.data;this.data=r,r=h}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var r,h,e,a,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),h=l[l.length-1],r=m.pop(),a=!0),o.leaf&&-1!==(e=n(t,o.children,i)))return o.children.splice(e,1),l.push(o),this._condense(l),this;a||o.leaf||!c(o,s)?h?(r++,o=h.children[r],a=!1):o=null:(l.push(o),m.push(r),r=0,h=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:a,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var e,a=n-i+1,o=this._maxEntries;if(a<=o)return r(e=x(t.slice(i,n+1)),this.toBBox),e;h||(h=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,h-1))),(e=x([])).leaf=!1,e.height=h;var s,l,m,u,c=Math.ceil(a/o),f=c*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,m=Math.min(s+f-1,n),c,this.compareMinY),l=s;l<=m;l+=c)u=Math.min(l+c-1,m),e.children.push(this._build(t,l,u,h-1));return r(e,this.toBBox),e},_chooseSubtree:function(t,i,n,r){for(var h,e,a,o,l,u,c,f;r.push(i),!i.leaf&&r.length-1!==n;){for(c=f=1/0,h=0,e=i.children.length;h<e;h++)l=s(a=i.children[h]),(u=m(t,a)-l)<f?(f=u,c=l<c?l:c,o=a):u===f&&l<c&&(c=l,o=a);i=o||i.children[0]}return i},_insert:function(t,i,n){var r=this.toBBox,h=n?t:r(t),a=[],o=this._chooseSubtree(h,this.data,i,a);for(o.children.push(t),e(o,h);i>=0&&a[i].children.length>this._maxEntries;)this._split(a,i),i--;this._adjustParentBBoxes(h,a,i)},_split:function(t,i){var n=t[i],h=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,h);var a=this._chooseSplitIndex(n,e,h),o=x(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,r(n,this.toBBox),r(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var r,e,a,o,l,m,c,f;for(m=c=1/0,r=i;r<=n-i;r++)o=u(e=h(t,0,r,this.toBBox),a=h(t,r,n,this.toBBox)),l=s(e)+s(a),o<m?(m=o,f=r,c=l<c?l:c):o===m&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(t,i,n){var r=t.leaf?this.compareMinX:a,h=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,h)&&t.children.sort(r)},_allDistMargin:function(t,i,n,r){t.children.sort(r);var a,o,s=this.toBBox,m=h(t,0,i,s),u=h(t,n-i,n,s),c=l(m)+l(u);for(a=i;a<n-i;a++)o=t.children[a],e(m,t.leaf?s(o):o),c+=l(m);for(a=n-i-1;a>=i;a--)o=t.children[a],e(u,t.leaf?s(o):o),c+=l(u);return c},_adjustParentBBoxes:function(t,i,n){for(var r=n;r>=0;r--)e(i[r],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():r(t[n],this.toBBox)},compareMinX:function(t,i){return t.left-i.left},compareMinY:function(t,i){return t.top-i.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},module.exports=i;
},{"../utils/array/QuickSelect":"B0BC"}],"YjZL":[function(require,module,exports) {
var o=function(o,e){e<0?(o.blocked.none=!1,o.blocked.left=!0):e>0&&(o.blocked.none=!1,o.blocked.right=!0),o.position.x-=e,0===o.bounce.x?o.velocity.x=0:o.velocity.x=-o.velocity.x*o.bounce.x};module.exports=o;
},{}],"ZAQ6":[function(require,module,exports) {
var e=require("./ProcessTileSeparationX"),t=function(t,l,i,o,r){var c=0;return t.deltaX()<0&&!t.blocked.left&&l.collideRight&&t.checkCollision.left?l.faceRight&&t.x<o&&(c=t.x-o)<-r&&(c=0):t.deltaX()>0&&!t.blocked.right&&l.collideLeft&&t.checkCollision.right&&l.faceLeft&&t.right>i&&(c=t.right-i)>r&&(c=0),0!==c&&(t.customSeparateX?t.overlapX=c:e(t,c)),c};module.exports=t;
},{"./ProcessTileSeparationX":"YjZL"}],"xc33":[function(require,module,exports) {
var o=function(o,e){e<0?(o.blocked.none=!1,o.blocked.up=!0):e>0&&(o.blocked.none=!1,o.blocked.down=!0),o.position.y-=e,0===o.bounce.y?o.velocity.y=0:o.velocity.y=-o.velocity.y*o.bounce.y};module.exports=o;
},{}],"CO9t":[function(require,module,exports) {
var o=require("./ProcessTileSeparationY"),e=function(e,l,t,c,a){var r=0;return e.deltaY()<0&&!e.blocked.up&&l.collideDown&&e.checkCollision.up?l.faceBottom&&e.y<c&&(r=e.y-c)<-a&&(r=0):e.deltaY()>0&&!e.blocked.down&&l.collideUp&&e.checkCollision.down&&l.faceTop&&e.bottom>t&&(r=e.bottom-t)>a&&(r=0),0!==r&&(e.customSeparateY?e.overlapY=r:o(e,r)),r};module.exports=e;
},{"./ProcessTileSeparationY":"xc33"}],"oWZm":[function(require,module,exports) {
var t=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};module.exports=t;
},{}],"XxIF":[function(require,module,exports) {
var t=require("./TileCheckX"),e=require("./TileCheckY"),a=require("./TileIntersectsBody"),r=function(r,i,o,s,l,f){var h=s.left,n=s.top,b=s.right,u=s.bottom,c=o.faceLeft||o.faceRight,d=o.faceTop||o.faceBottom;if(!c&&!d)return!1;var m=0,M=0,p=0,A=1;if(i.deltaAbsX()>i.deltaAbsY()?p=-1:i.deltaAbsX()<i.deltaAbsY()&&(A=-1),0!==i.deltaX()&&0!==i.deltaY()&&c&&d&&(p=Math.min(Math.abs(i.position.x-b),Math.abs(i.right-h)),A=Math.min(Math.abs(i.position.y-u),Math.abs(i.bottom-n))),p<A){if(c&&0!==(m=t(i,o,h,b,f))&&!a(s,i))return!0;d&&(M=e(i,o,n,u,f))}else{if(d&&0!==(M=e(i,o,n,u,f))&&!a(s,i))return!0;c&&(m=t(i,o,h,b,f))}return 0!==m||0!==M};module.exports=r;
},{"./TileCheckX":"ZAQ6","./TileCheckY":"CO9t","./TileIntersectsBody":"oWZm"}],"QLo2":[function(require,module,exports) {
var e=require("./GetOverlapX"),o=function(o,m,t,a){var r=e(o,m,t,a);if(t||0===r||o.immovable&&m.immovable||o.customSeparateX||m.customSeparateX)return 0!==r||o.embedded&&m.embedded;var v=o.velocity.x,i=m.velocity.x;if(o.immovable||m.immovable)o.immovable?(m.x+=r,m.velocity.x=v-i*m.bounce.x,o.moves&&(m.y+=(o.y-o.prev.y)*o.friction.y)):(o.x-=r,o.velocity.x=i-v*o.bounce.x,m.moves&&(o.y+=(m.y-m.prev.y)*m.friction.y));else{r*=.5,o.x-=r,m.x+=r;var s=Math.sqrt(i*i*m.mass/o.mass)*(i>0?1:-1),c=Math.sqrt(v*v*o.mass/m.mass)*(v>0?1:-1),x=.5*(s+c);s-=x,c-=x,o.velocity.x=x+s*o.bounce.x,m.velocity.x=x+c*m.bounce.x}return!0};module.exports=o;
},{"./GetOverlapX":"Kctt"}],"UxBu":[function(require,module,exports) {
var e=require("./GetOverlapY"),o=function(o,m,t,a){var r=e(o,m,t,a);if(t||0===r||o.immovable&&m.immovable||o.customSeparateY||m.customSeparateY)return 0!==r||o.embedded&&m.embedded;var v=o.velocity.y,y=m.velocity.y;if(o.immovable||m.immovable)o.immovable?(m.y+=r,m.velocity.y=v-y*m.bounce.y,o.moves&&(m.x+=(o.x-o.prev.x)*o.friction.x)):(o.y-=r,o.velocity.y=y-v*o.bounce.y,m.moves&&(o.x+=(m.x-m.prev.x)*m.friction.x));else{r*=.5,o.y-=r,m.y+=r;var i=Math.sqrt(y*y*m.mass/o.mass)*(y>0?1:-1),s=Math.sqrt(v*v*o.mass/m.mass)*(v>0?1:-1),c=.5*(i+s);i-=c,s-=c,o.velocity.y=c+i*o.bounce.y,m.velocity.y=c+s*m.bounce.y}return!0};module.exports=o;
},{"./GetOverlapY":"2TtE"}],"OmFZ":[function(require,module,exports) {
var t=require("../../geom/circle/Contains"),i=require("../../utils/Class"),s=require("./const"),e=require("../../geom/rectangle/Contains"),h=require("../../math/Vector2"),o=new i({initialize:function(t,i){var e=i.width?i.width:64,o=i.height?i.height:64;this.world=t,this.gameObject=i,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(i.x-i.displayOriginX,i.y-i.displayOriginY),this.width=e,this.height=o,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,i){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),i&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,i){return void 0===i&&(i=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,i),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,i,s,e){return void 0===s&&(s=this.offset.x),void 0===e&&(e=this.offset.y),this.world.staticTree.remove(this),this.width=t,this.height=i,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(i/2),this.offset.set(s,e),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,i,s){return void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(i,s),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,i){var s=this.gameObject;void 0===t&&(t=s.x),void 0===i&&(i=s.y),this.world.staticTree.remove(this),s.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(i,s){return this.isCircle?t(this,i,s):e(this,i,s)},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var i=this.position;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(i.x,i.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=o;
},{"../../geom/circle/Contains":"GyfI","../../utils/Class":"f5Xp","./const":"bbIk","../../geom/rectangle/Contains":"uD/l","../../math/Vector2":"2OLl"}],"SVdZ":[function(require,module,exports) {
var e=require("./Body"),i=require("../../math/Clamp"),t=require("../../utils/Class"),r=require("./Collider"),s=require("./const"),o=require("../../math/distance/DistanceBetween"),a=require("eventemitter3"),l=require("../../math/fuzzy/Equal"),n=require("../../math/fuzzy/GreaterThan"),h=require("../../math/fuzzy/LessThan"),c=require("./GetOverlapX"),d=require("./GetOverlapY"),u=require("../../utils/object/GetValue"),y=require("../../structs/ProcessQueue"),m=require("./tilemap/ProcessTileCallbacks"),p=require("../../geom/rectangle/Rectangle"),v=require("../../structs/RTree"),b=require("./tilemap/SeparateTile"),g=require("./SeparateX"),f=require("./SeparateY"),x=require("../../structs/Set"),C=require("./StaticBody"),T=require("./tilemap/TileIntersectsBody"),w=require("../../math/Vector2"),O=require("../../math/Wrap"),B=new t({Extends:a,initialize:function(e,i){a.call(this),this.scene=e,this.bodies=new x,this.staticBodies=new x,this.pendingDestroy=new x,this.colliders=new y,this.gravity=new w(u(i,"gravity.x",0),u(i,"gravity.y",0)),this.bounds=new p(u(i,"x",0),u(i,"y",0),u(i,"width",e.sys.game.config.width),u(i,"height",e.sys.game.config.height)),this.checkCollision={up:u(i,"checkCollision.up",!0),down:u(i,"checkCollision.down",!0),left:u(i,"checkCollision.left",!0),right:u(i,"checkCollision.right",!0)},this.fps=u(i,"fps",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=u(i,"timeScale",1),this.OVERLAP_BIAS=u(i,"overlapBias",4),this.TILE_BIAS=u(i,"tileBias",16),this.forceX=u(i,"forceX",!1),this.isPaused=u(i,"isPaused",!1),this._total=0,this.drawDebug=u(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:u(i,"debugShowBody",!0),debugShowStaticBody:u(i,"debugShowStaticBody",!0),debugShowVelocity:u(i,"debugShowVelocity",!0),bodyDebugColor:u(i,"debugBodyColor",16711935),staticBodyDebugColor:u(i,"debugStaticBodyColor",255),velocityDebugColor:u(i,"debugVelocityColor",65280)},this.maxEntries=u(i,"maxEntries",16),this.useTree=u(i,"useTree",!0),this.tree=new v(this.maxEntries),this.staticTree=new v(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this.drawDebug&&this.createDebugGraphic()},enable:function(e,i){void 0===i&&(i=s.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(r.isParent)for(var o=r.getChildren(),a=0;a<o.length;a++){var l=o[a];l.isParent?this.enable(l,i):this.enableBody(l,i)}else this.enableBody(r,i)}},enableBody:function(i,t){return void 0===t&&(t=s.DYNAMIC_BODY),i.body||(t===s.DYNAMIC_BODY?i.body=new e(this,i):t===s.STATIC_BODY&&(i.body=new C(this,i))),this.add(i.body),i},add:function(e){return e.physicsType===s.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===s.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var t=e[i];if(t.isParent)for(var r=t.getChildren(),s=0;s<r.length;s++){var o=r[s];o.isParent?this.disable(o):this.disableBody(o)}else this.disableBody(t)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===s.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,i,t,r,s,o,a,l){return this.bounds.setTo(e,i,t,r),void 0!==s&&this.setBoundsCollision(s,o,a,l),this},setBoundsCollision:function(e,i,t,r){return void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),this.checkCollision.left=e,this.checkCollision.right=i,this.checkCollision.up=t,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit("pause"),this},resume:function(){return this.isPaused=!1,this.emit("resume"),this},addCollider:function(e,i,t,s,o){void 0===t&&(t=null),void 0===s&&(s=null),void 0===o&&(o=t);var a=new r(this,!1,e,i,t,s,o);return this.colliders.add(a),a},addOverlap:function(e,i,t,s,o){void 0===t&&(t=null),void 0===s&&(s=null),void 0===o&&(o=t);var a=new r(this,!0,e,i,t,s,o);return this.colliders.add(a),a},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,i){if(!this.isPaused&&0!==this.bodies.size){var t=0,r=this._frameTime,s=this._frameTimeMS*this.timeScale;for(this._elapsed+=i;this._elapsed>=s;)this._elapsed-=s,t++,this.step(r);this.stepsLastFrame=t}},step:function(e){var i,t,r=this.bodies.entries,s=r.length;for(i=0;i<s;i++)(t=r[i]).enable&&t.update(e);this.useTree&&(this.tree.clear(),this.tree.load(r));var o=this.colliders.update();for(i=0;i<o.length;i++){var a=o[i];a.active&&a.update()}for(s=r.length,i=0;i<s;i++)(t=r[i]).enable&&t.postUpdate()},postUpdate:function(){var e,i,t=this.bodies,r=this.staticBodies,o=this.pendingDestroy,a=t.entries,l=a.length;if(this.drawDebug){var n=this.debugGraphic;for(n.clear(),e=0;e<l;e++)(i=a[e]).willDrawDebug()&&i.drawDebug(n);for(l=(a=r.entries).length,e=0;e<l;e++)(i=a[e]).willDrawDebug()&&i.drawDebug(n)}if(o.size>0){var h=this.tree,c=this.staticTree;for(l=(a=o.entries).length,e=0;e<l;e++)(i=a[e]).physicsType===s.DYNAMIC_BODY?(h.remove(i),t.delete(i)):i.physicsType===s.STATIC_BODY&&(c.remove(i),r.delete(i)),i.world=void 0,i.gameObject=void 0;o.clear()}},updateMotion:function(e,i){e.allowRotation&&this.computeAngularVelocity(e,i),this.computeVelocity(e,i)},computeAngularVelocity:function(e,t){var r=e.angularVelocity,s=e.angularAcceleration,o=e.angularDrag,a=e.maxAngular;s?r+=s*t:e.allowDrag&&o&&(n(r-(o*=t),0,.1)?r-=o:h(r+o,0,.1)?r+=o:r=0);var l=(r=i(r,-a,a))-e.angularVelocity;e.angularVelocity+=l,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var r=e.velocity.x,s=e.acceleration.x,o=e.drag.x,a=e.maxVelocity.x,c=e.velocity.y,d=e.acceleration.y,u=e.drag.y,y=e.maxVelocity.y,m=e.speed,p=e.allowDrag,v=e.useDamping;e.allowGravity&&(r+=(this.gravity.x+e.gravity.x)*t,c+=(this.gravity.y+e.gravity.y)*t),s?r+=s*t:p&&o&&(v?(r*=o,l(m,0,.001)&&(r=0)):n(r-(o*=t),0,.01)?r-=o:h(r+o,0,.01)?r+=o:r=0),d?c+=d*t:p&&u&&(v?(c*=u,l(m,0,.001)&&(c=0)):n(c-(u*=t),0,.01)?c-=u:h(c+u,0,.01)?c+=u:c=0),r=i(r,-a,a),c=i(c,-y,y),e.velocity.set(r,c)},separate:function(e,i,t,r,s){if(!e.enable||!i.enable||e.checkCollision.none||i.checkCollision.none||!this.intersects(e,i))return!1;if(t&&!1===t.call(r,e.gameObject,i.gameObject))return!1;if(e.isCircle&&i.isCircle)return this.separateCircle(e,i,s);if(e.isCircle!==i.isCircle){var o=e.isCircle?i:e,a=e.isCircle?e:i,l={x:o.x,y:o.y,right:o.right,bottom:o.bottom},n=a.center;if((n.y<l.y||n.y>l.bottom)&&(n.x<l.x||n.x>l.right))return this.separateCircle(e,i,s)}var h=!1,c=!1;this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(h=g(e,i,s,this.OVERLAP_BIAS),this.intersects(e,i)&&(c=f(e,i,s,this.OVERLAP_BIAS))):(c=f(e,i,s,this.OVERLAP_BIAS),this.intersects(e,i)&&(h=g(e,i,s,this.OVERLAP_BIAS)));var d=h||c;return d&&(s&&(e.onOverlap||i.onOverlap)?this.emit("overlap",e.gameObject,i.gameObject,e,i):(e.onCollide||i.onCollide)&&this.emit("collide",e.gameObject,i.gameObject,e,i)),d},separateCircle:function(e,i,t,r){c(e,i,!1,r),d(e,i,!1,r);var s=i.center.x-e.center.x,a=i.center.y-e.center.y,l=Math.atan2(a,s),n=0;if(e.isCircle!==i.isCircle){var h={x:i.isCircle?e.position.x:i.position.x,y:i.isCircle?e.position.y:i.position.y,right:i.isCircle?e.right:i.right,bottom:i.isCircle?e.bottom:i.bottom},u={x:e.isCircle?e.center.x:i.center.x,y:e.isCircle?e.center.y:i.center.y,radius:e.isCircle?e.halfWidth:i.halfWidth};u.y<h.y?u.x<h.x?n=o(u.x,u.y,h.x,h.y)-u.radius:u.x>h.right&&(n=o(u.x,u.y,h.right,h.y)-u.radius):u.y>h.bottom&&(u.x<h.x?n=o(u.x,u.y,h.x,h.bottom)-u.radius:u.x>h.right&&(n=o(u.x,u.y,h.right,h.bottom)-u.radius)),n*=-1}else n=e.halfWidth+i.halfWidth-o(e.center.x,e.center.y,i.center.x,i.center.y);if(t||0===n||e.immovable&&i.immovable||e.customSeparateX||i.customSeparateX)return 0!==n&&(e.onOverlap||i.onOverlap)&&this.emit("overlap",e.gameObject,i.gameObject,e,i),0!==n;var y=e.velocity.x,m=e.velocity.y,p=e.mass,v=i.velocity.x,b=i.velocity.y,g=i.mass,f=y*Math.cos(l)+m*Math.sin(l),x=y*Math.sin(l)-m*Math.cos(l),C=v*Math.cos(l)+b*Math.sin(l),T=v*Math.sin(l)-b*Math.cos(l),w=((p-g)*f+2*g*C)/(p+g),O=(2*p*f+(g-p)*C)/(p+g);e.immovable||(e.velocity.x=(w*Math.cos(l)-x*Math.sin(l))*e.bounce.x,e.velocity.y=(x*Math.cos(l)+w*Math.sin(l))*e.bounce.y,y=e.velocity.x,m=e.velocity.y),i.immovable||(i.velocity.x=(O*Math.cos(l)-T*Math.sin(l))*i.bounce.x,i.velocity.y=(T*Math.cos(l)+O*Math.sin(l))*i.bounce.y,v=i.velocity.x,b=i.velocity.y),Math.abs(l)<Math.PI/2?y>0&&!e.immovable&&v>y?e.velocity.x*=-1:v<0&&!i.immovable&&y<v?i.velocity.x*=-1:m>0&&!e.immovable&&b>m?e.velocity.y*=-1:b<0&&!i.immovable&&m<b&&(i.velocity.y*=-1):Math.abs(l)>Math.PI/2&&(y<0&&!e.immovable&&v<y?e.velocity.x*=-1:v>0&&!i.immovable&&y>v?i.velocity.x*=-1:m<0&&!e.immovable&&b<m?e.velocity.y*=-1:b>0&&!i.immovable&&y>b&&(i.velocity.y*=-1));var B=this._frameTime;return e.immovable||(e.x+=e.velocity.x*B-n*Math.cos(l),e.y+=e.velocity.y*B-n*Math.sin(l)),i.immovable||(i.x+=i.velocity.x*B+n*Math.cos(l),i.y+=i.velocity.y*B+n*Math.sin(l)),(e.onCollide||i.onCollide)&&this.emit("collide",e.gameObject,i.gameObject,e,i),!0},intersects:function(e,i){return e!==i&&(e.isCircle||i.isCircle?e.isCircle?i.isCircle?o(e.center.x,e.center.y,i.center.x,i.center.y)<=e.halfWidth+i.halfWidth:this.circleBodyIntersects(e,i):this.circleBodyIntersects(i,e):!(e.right<=i.position.x||e.bottom<=i.position.y||e.position.x>=i.right||e.position.y>=i.bottom))},circleBodyIntersects:function(e,t){var r=i(e.center.x,t.left,t.right),s=i(e.center.y,t.top,t.bottom);return(e.center.x-r)*(e.center.x-r)+(e.center.y-s)*(e.center.y-s)<=e.halfWidth*e.halfWidth},overlap:function(e,i,t,r,s){return void 0===t&&(t=null),void 0===r&&(r=null),void 0===s&&(s=t),this.collideObjects(e,i,t,r,s,!0)},collide:function(e,i,t,r,s){return void 0===t&&(t=null),void 0===r&&(r=null),void 0===s&&(s=t),this.collideObjects(e,i,t,r,s,!1)},collideObjects:function(e,i,t,r,s,o){var a;e.isParent&&void 0===e.physicsType&&(e=e.children.entries),i&&i.isParent&&void 0===i.physicsType&&(i=i.children.entries);var l=Array.isArray(e),n=Array.isArray(i);if(this._total=0,l||n)if(!l&&n)for(a=0;a<i.length;a++)this.collideHandler(e,i[a],t,r,s,o);else if(l&&!n)for(a=0;a<e.length;a++)this.collideHandler(e[a],i,t,r,s,o);else for(a=0;a<e.length;a++)for(var h=0;h<i.length;h++)this.collideHandler(e[a],i[h],t,r,s,o);else this.collideHandler(e,i,t,r,s,o);return this._total>0},collideHandler:function(e,i,t,r,s,o){if(void 0===i&&e.isParent)return this.collideGroupVsGroup(e,e,t,r,s,o);if(!e||!i)return!1;if(e.body){if(i.body)return this.collideSpriteVsSprite(e,i,t,r,s,o);if(i.isParent)return this.collideSpriteVsGroup(e,i,t,r,s,o);if(i.isTilemap)return this.collideSpriteVsTilemapLayer(e,i,t,r,s,o)}else if(e.isParent){if(i.body)return this.collideSpriteVsGroup(i,e,t,r,s,o);if(i.isParent)return this.collideGroupVsGroup(e,i,t,r,s,o);if(i.isTilemap)return this.collideGroupVsTilemapLayer(e,i,t,r,s,o)}else if(e.isTilemap){if(i.body)return this.collideSpriteVsTilemapLayer(i,e,t,r,s,o);if(i.isParent)return this.collideGroupVsTilemapLayer(i,e,t,r,s,o)}},collideSpriteVsSprite:function(e,i,t,r,s,o){return!(!e.body||!i.body)&&(this.separate(e.body,i.body,r,s,o)&&(t&&t.call(s,e,i),this._total++),!0)},collideSpriteVsGroup:function(e,i,t,r,o,a){var l,n,h,c=e.body;if(0!==i.length&&c&&c.enable)if(this.useTree){var d=this.treeMinMax;d.minX=c.left,d.minY=c.top,d.maxX=c.right,d.maxY=c.bottom;var u=i.physicsType===s.DYNAMIC_BODY?this.tree.search(d):this.staticTree.search(d);for(n=u.length,l=0;l<n;l++)c!==(h=u[l])&&i.contains(h.gameObject)&&this.separate(c,h,r,o,a)&&(t&&t.call(o,c.gameObject,h.gameObject),this._total++)}else{var y=i.getChildren(),m=i.children.entries.indexOf(e);for(n=y.length,l=0;l<n;l++)(h=y[l].body)&&l!==m&&h.enable&&this.separate(c,h,r,o,a)&&(t&&t.call(o,c.gameObject,h.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(e,i,t,r,s,o){var a=e.getChildren();if(0===a.length)return!1;for(var l=!1,n=0;n<a.length;n++)a[n].body&&this.collideSpriteVsTilemapLayer(a[n],i,t,r,s,o)&&(l=!0);return l},collideSpriteVsTilemapLayer:function(e,i,t,r,s,o){var a=e.body;if(!a.enable)return!1;var l=a.position.x,n=a.position.y,h=a.width,c=a.height,d=i.layer;if(d.tileWidth>d.baseTileWidth){var u=(d.tileWidth-d.baseTileWidth)*i.scaleX;l-=u,h+=u}d.tileHeight>d.baseTileHeight&&(c+=(d.tileHeight-d.baseTileHeight)*i.scaleY);var y,p=i.getTilesWithinWorldXY(l,n,h,c);if(0===p.length)return!1;for(var v={left:0,right:0,top:0,bottom:0},g=0;g<p.length;g++)y=p[g],v.left=i.tileToWorldX(y.x),v.top=i.tileToWorldY(y.y),y.baseHeight!==y.height&&(v.top-=(y.height-y.baseHeight)*i.scaleY),v.right=v.left+y.width*i.scaleX,v.bottom=v.top+y.height*i.scaleY,T(v,a)&&(!r||r.call(s,e,y))&&m(y,e)&&(o||b(g,a,y,v,i,this.TILE_BIAS))&&(this._total++,t&&t.call(s,e,y),o&&a.onOverlap?e.emit("overlap",a.gameObject,y,a,null):a.onCollide&&e.emit("collide",a.gameObject,y,a,null))},collideGroupVsGroup:function(e,i,t,r,s,o){if(0!==e.length&&0!==i.length)for(var a=e.getChildren(),l=0;l<a.length;l++)this.collideSpriteVsGroup(a[l],i,t,r,s,o)},wrap:function(e,i){e.body?this.wrapObject(e,i):e.getChildren?this.wrapArray(e.getChildren(),i):Array.isArray(e)?this.wrapArray(e,i):this.wrapObject(e,i)},wrapArray:function(e,i){for(var t=0;t<e.length;t++)this.wrapObject(e[t],i)},wrapObject:function(e,i){void 0===i&&(i=0),e.x=O(e.x,this.bounds.left-i,this.bounds.right+i),e.y=O(e.y,this.bounds.top-i,this.bounds.bottom+i)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});module.exports=B;
},{"./Body":"5ld7","../../math/Clamp":"mAiE","../../utils/Class":"f5Xp","./Collider":"1o5O","./const":"bbIk","../../math/distance/DistanceBetween":"EOwJ","eventemitter3":"LqgX","../../math/fuzzy/Equal":"ACqQ","../../math/fuzzy/GreaterThan":"TeFa","../../math/fuzzy/LessThan":"EqIl","./GetOverlapX":"Kctt","./GetOverlapY":"2TtE","../../utils/object/GetValue":"8Li0","../../structs/ProcessQueue":"b9qP","./tilemap/ProcessTileCallbacks":"xxxi","../../geom/rectangle/Rectangle":"hff6","../../structs/RTree":"6kiY","./tilemap/SeparateTile":"XxIF","./SeparateX":"QLo2","./SeparateY":"UxBu","../../structs/Set":"jS4S","./StaticBody":"OmFZ","./tilemap/TileIntersectsBody":"oWZm","../../math/Vector2":"2OLl","../../math/Wrap":"Xl2Y"}],"iVj2":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../../math/DegToRad"),s=require("../../math/distance/DistanceBetween"),o=require("./Factory"),i=require("../../utils/object/GetFastValue"),r=require("../../utils/object/Merge"),n=require("../../plugins/PluginCache"),d=require("../../math/Vector2"),h=require("./World"),l=new t({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.world=new h(this.scene,this.config),this.add=new o(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new h(this.scene,this.config),this.add=new o(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return r(i(e,"arcade",{}),i(t,"arcade",{}))},overlap:function(t,e,s,o,i){return void 0===s&&(s=null),void 0===o&&(o=null),void 0===i&&(i=s),this.world.collideObjects(t,e,s,o,i,!0)},collide:function(t,e,s,o,i){return void 0===s&&(s=null),void 0===o&&(o=null),void 0===i&&(i=s),this.world.collideObjects(t,e,s,o,i,!1)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,s,o,i,r){void 0===o&&(o=60);var n=Math.atan2(s-t.y,e-t.x);return t.body.acceleration.setToPolar(n,o),void 0!==i&&void 0!==r&&t.body.maxVelocity.set(i,r),n},accelerateToObject:function(t,e,s,o,i){return this.accelerateTo(t,e.x,e.y,s,o,i)},closest:function(t){for(var e=this.tree.all(),o=Number.MAX_VALUE,i=null,r=t.x,n=t.y,d=e.length-1;d>=0;d--){var h=e[d],l=s(r,n,h.x,h.y);l<o&&(i=h,o=l)}return i},furthest:function(t){for(var e=this.tree.all(),o=-1,i=null,r=t.x,n=t.y,d=e.length-1;d>=0;d--){var h=e[d],l=s(r,n,h.x,h.y);l>o&&(i=h,o=l)}return i},moveTo:function(t,e,o,i,r){void 0===i&&(i=60),void 0===r&&(r=0);var n=Math.atan2(o-t.y,e-t.x);return r>0&&(i=s(t.x,t.y,e,o)/(r/1e3)),t.body.velocity.setToPolar(n,i),n},moveToObject:function(t,e,s,o){return this.moveTo(t,e.x,e.y,s,o)},velocityFromAngle:function(t,s,o){return void 0===s&&(s=60),void 0===o&&(o=new d),o.setToPolar(e(t),s)},velocityFromRotation:function(t,e,s){return void 0===e&&(e=60),void 0===s&&(s=new d),s.setToPolar(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});n.register("ArcadePhysics",l,"arcadePhysics"),module.exports=l;
},{"../../utils/Class":"f5Xp","../../math/DegToRad":"hyJn","../../math/distance/DistanceBetween":"EOwJ","./Factory":"ewCP","../../utils/object/GetFastValue":"SgIk","../../utils/object/Merge":"1u+y","../../plugins/PluginCache":"sYlk","../../math/Vector2":"2OLl","./World":"SVdZ"}],"m5Wu":[function(require,module,exports) {
var r=require("./const"),e=require("../../utils/object/Extend"),i={ArcadePhysics:require("./ArcadePhysics"),Body:require("./Body"),Collider:require("./Collider"),Factory:require("./Factory"),Group:require("./PhysicsGroup"),Image:require("./ArcadeImage"),Sprite:require("./ArcadeSprite"),StaticBody:require("./StaticBody"),StaticGroup:require("./StaticPhysicsGroup"),World:require("./World")};i=e(!1,i,r),module.exports=i;
},{"./const":"bbIk","../../utils/object/Extend":"Wu2m","./ArcadePhysics":"iVj2","./Body":"5ld7","./Collider":"1o5O","./Factory":"ewCP","./PhysicsGroup":"h7O2","./ArcadeImage":"pGJF","./ArcadeSprite":"MWVt","./StaticBody":"OmFZ","./StaticPhysicsGroup":"W8hT","./World":"SVdZ"}],"MTBG":[function(require,module,exports) {
module.exports={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};
},{}],"ED4q":[function(require,module,exports) {
var r=require("../../math/Clamp"),e=function(e,t,u,n,a){if(u)return r(t+u*e,-a,a);if(n){var i=n*e;return t-i>0?t-i:t+i<0?t+i:0}return r(t,-a,a)};module.exports=e;
},{"../../math/Clamp":"mAiE"}],"3vwV":[function(require,module,exports) {
module.exports={NONE:0,A:1,B:2,BOTH:3};
},{}],"PayL":[function(require,module,exports) {
var n=function(n,e){if(n.standing=!1,e.collision.y&&(n.bounciness>0&&Math.abs(n.vel.y)>n.minBounceVelocity?n.vel.y*=-n.bounciness:(n.vel.y>0&&(n.standing=!0),n.vel.y=0)),e.collision.x&&(n.bounciness>0&&Math.abs(n.vel.x)>n.minBounceVelocity?n.vel.x*=-n.bounciness:n.vel.x=0),e.collision.slope){var l=e.collision.slope;if(n.bounciness>0){var s=n.vel.x*l.nx+n.vel.y*l.ny;n.vel.x=(n.vel.x-l.nx*s*2)*n.bounciness,n.vel.y=(n.vel.y-l.ny*s*2)*n.bounciness}else{var o=l.x*l.x+l.y*l.y,i=(n.vel.x*l.x+n.vel.y*l.y)/o;n.vel.x=l.x*i,n.vel.y=l.y*i;var v=Math.atan2(l.x,l.y);v>n.slopeStanding.min&&v<n.slopeStanding.max&&(n.standing=!0)}}n.pos.x=e.pos.x,n.pos.y=e.pos.y};module.exports=n;
},{}],"oy5N":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("./COLLIDES"),s=require("./GetVelocity"),e=require("./TYPE"),h=require("./UpdateMotion"),l=new i({initialize:function(i,s,h,l,o){void 0===l&&(l=16),void 0===o&&(o=l),this.world=i,this.gameObject=null,this.enabled=!0,this.parent,this.id=i.getNextID(),this.name="",this.size={x:l,y:o},this.offset={x:0,y:0},this.pos={x:s,y:h},this.last={x:s,y:h},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:i.defaults.maxVelocityX,y:i.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=i.defaults.gravityFactor,this.bounciness=i.defaults.bounciness,this.minBounceVelocity=i.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=e.NONE,this.checkAgainst=e.NONE,this.collides=t.NEVER,this.debugShowBody=i.defaults.debugShowBody,this.debugShowVelocity=i.defaults.debugShowVelocity,this.debugBodyColor=i.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(i,s){this.pos={x:i,y:s},this.last={x:i,y:s},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=e.NONE,this.checkAgainst=e.NONE,this.collides=t.NEVER},update:function(i){var t=this.pos;this.last.x=t.x,this.last.y=t.y,this.vel.y+=this.world.gravity*i*this.gravityFactor,this.vel.x=s(i,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=s(i,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var e=this.vel.x*i,l=this.vel.y*i,o=this.world.collisionMap.trace(t.x,t.y,e,l,this.size.x,this.size.y);this.handleMovementTrace(o)&&h(this,o);var c=this.gameObject;c&&(c.x=t.x-this.offset.x+c.displayOriginX*c.scaleX,c.y=t.y-this.offset.y+c.displayOriginY*c.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(i){var t=this.pos;if(this.debugShowBody&&(i.lineStyle(1,this.debugBodyColor,1),i.strokeRect(t.x,t.y,this.size.x,this.size.y)),this.debugShowVelocity){var s=t.x+this.size.x/2,e=t.y+this.size.y/2;i.lineStyle(1,this.world.defaults.velocityDebugColor,1),i.lineBetween(s,e,s+this.vel.x,e+this.vel.y)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||0===this.type&&0===this.checkAgainst&&0===this.collides},touches:function(i){return!(this.pos.x>=i.pos.x+i.size.x||this.pos.x+this.size.x<=i.pos.x||this.pos.y>=i.pos.y+i.size.y||this.pos.y+this.size.y<=i.pos.y)},resetSize:function(i,t,s,e){return this.pos.x=i,this.pos.y=t,this.size.x=s,this.size.y=e,this},toJSON:function(){return{name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides}},fromJSON:function(){},check:function(){},collideWith:function(i,t){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,i,t)},handleMovementTrace:function(){return!0},destroy:function(){this.world.remove(this),this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}});module.exports=l;
},{"../../utils/Class":"f5Xp","./COLLIDES":"MTBG","./GetVelocity":"ED4q","./TYPE":"3vwV","./UpdateMotion":"PayL"}],"+S2j":[function(require,module,exports) {
var e=.5,o=1/3,r=2/3;module.exports={2:[0,1,1,0,!0],3:[0,1,1,e,!0],4:[0,e,1,0,!0],5:[0,1,1,r,!0],6:[0,r,1,o,!0],7:[0,o,1,0,!0],8:[e,1,0,0,!0],9:[1,0,e,1,!0],10:[e,1,1,0,!0],11:[0,0,e,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,e,0,0,!0],15:[1,1,0,e,!0],16:[1,o,0,0,!0],17:[1,r,0,o,!0],18:[1,1,0,r,!0],19:[1,1,e,0,!0],20:[e,0,0,1,!0],21:[0,1,e,0,!0],22:[e,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,e,!0],26:[0,e,1,1,!0],27:[0,0,1,o,!0],28:[0,o,1,r,!0],29:[0,r,1,1,!0],30:[o,1,0,0,!0],31:[1,0,r,1,!0],32:[r,1,1,0,!0],33:[0,0,o,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,e,0,1,!0],37:[1,0,0,e,!0],38:[1,r,0,1,!0],39:[1,o,0,r,!0],40:[1,0,0,o,!0],41:[r,1,o,0,!0],42:[r,0,o,1,!0],43:[o,1,r,0,!0],44:[o,0,r,1,!0],45:[0,1,0,0,!1],52:[1,1,r,0,!0],53:[o,0,0,1,!0],54:[0,1,o,0,!0],55:[r,0,1,1,!0]};
},{}],"O4+U":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("./DefaultDefs"),s=new i({initialize:function(i,s){void 0===i&&(i=32),this.tilesize=i,this.data=Array.isArray(s)?s:[],this.width=Array.isArray(s)?s[0].length:0,this.height=Array.isArray(s)?s.length:0,this.lastSlope=55,this.tiledef=t},trace:function(i,t,s,e,a,o){var l={collision:{x:!1,y:!1,slope:!1},pos:{x:i+s,y:t+e},tile:{x:0,y:0}};if(!this.data)return l;var h=Math.ceil(Math.max(Math.abs(s),Math.abs(e))/this.tilesize);if(h>1)for(var r=s/h,f=e/h,n=0;n<h&&(r||f)&&(this.step(l,i,t,r,f,a,o,s,e,n),i=l.pos.x,t=l.pos.y,l.collision.x&&(r=0,s=0),l.collision.y&&(f=0,e=0),!l.collision.slope);n++);else this.step(l,i,t,s,e,a,o,s,e,0);return l},step:function(i,t,s,e,a,o,l,h,r,f){var n,p,c=0,x=this.tilesize,y=this.width,M=this.height;if(e){var u=e>0?o:0,v=e<0?x:0,d=Math.max(Math.floor(s/x),0),k=Math.min(Math.ceil((s+l)/x),M);n=Math.floor((i.pos.x+u)/x);var D=Math.floor((t+u)/x);if((f>0||n===D||D<0||D>=y)&&(D=-1),n>=0&&n<y)for(p=d;p<k&&!(-1!==D&&(c=this.data[p][D])>1&&c<=this.lastSlope&&this.checkDef(i,c,t,s,h,r,o,l,D,p));p++)if(1===(c=this.data[p][n])||c>this.lastSlope||c>1&&this.checkDef(i,c,t,s,h,r,o,l,n,p)){if(c>1&&c<=this.lastSlope&&i.collision.slope)break;i.collision.x=!0,i.tile.x=c,i.pos.x=n*x-u+v,t=i.pos.x,h=0;break}}if(a){var S=a>0?l:0,b=a<0?x:0,m=Math.max(Math.floor(i.pos.x/x),0),A=Math.min(Math.ceil((i.pos.x+o)/x),y);p=Math.floor((i.pos.y+S)/x);var z=Math.floor((s+S)/x);if((f>0||p===z||z<0||z>=M)&&(z=-1),p>=0&&p<M)for(n=m;n<A&&!(-1!==z&&(c=this.data[z][n])>1&&c<=this.lastSlope&&this.checkDef(i,c,t,s,h,r,o,l,n,z));n++)if(1===(c=this.data[p][n])||c>this.lastSlope||c>1&&this.checkDef(i,c,t,s,h,r,o,l,n,p)){if(c>1&&c<=this.lastSlope&&i.collision.slope)break;i.collision.y=!0,i.tile.y=c,i.pos.y=p*x-S+b;break}}},checkDef:function(i,t,s,e,a,o,l,h,r,f){var n=this.tiledef[t];if(!n)return!1;var p=this.tilesize,c=(r+n[0])*p,x=(f+n[1])*p,y=(n[2]-n[0])*p,M=(n[3]-n[1])*p,u=n[4],v=s+a+(M<0?l:0)-c,d=e+o+(y>0?h:0)-x;if(y*d-M*v>0){if(a*-M+o*y<0)return u;var k=Math.sqrt(y*y+M*M),D=M/k,S=-y/k,b=v*D+d*S,m=D*b,A=S*b;return m*m+A*A>=a*a+o*o?u||y*(d-o)-M*(v-a)<.5:(i.pos.x=s+a-m,i.pos.y=e+o-A,i.collision.slope={x:y,y:M,nx:D,ny:S},!0)}return!1}});module.exports=s;
},{"../../utils/Class":"f5Xp","./DefaultDefs":"+S2j"}],"xJL+":[function(require,module,exports) {
var t={setAccelerationX:function(t){return this.accel.x=t,this},setAccelerationY:function(t){return this.accel.y=t,this},setAcceleration:function(t,e){return this.accel.x=t,this.accel.y=e,this}};module.exports=t;
},{}],"g/2T":[function(require,module,exports) {
var e={setBodySize:function(e,t){return void 0===t&&(t=e),this.body.size.x=Math.round(e),this.body.size.y=Math.round(t),this},setBodyScale:function(e,t){void 0===t&&(t=e);var i=this.body.gameObject;return i?(i.setScale(e,t),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*e,this.body.size.y*t)}};module.exports=e;
},{}],"Vk0H":[function(require,module,exports) {
var t=require("../TYPE"),e={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=t.NONE,this},setTypeA:function(){return this.body.type=t.A,this},setTypeB:function(){return this.body.type=t.B,this}};module.exports=e;
},{"../TYPE":"3vwV"}],"UWDS":[function(require,module,exports) {
var n={setBounce:function(n){return this.body.bounciness=n,this},setMinBounceVelocity:function(n){return this.body.minBounceVelocity=n,this},bounce:{get:function(){return this.body.bounciness},set:function(n){this.body.bounciness=n}}};module.exports=n;
},{}],"cNGs":[function(require,module,exports) {
var t=require("../TYPE"),s={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=t.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=t.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=t.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(t){this.body.checkAgainst=t}}};module.exports=s;
},{"../TYPE":"3vwV"}],"qC+S":[function(require,module,exports) {
var i=require("../COLLIDES"),l={_collideCallback:null,_callbackScope:null,setCollideCallback:function(i,l){return this._collideCallback=i,l&&(this._callbackScope=l),this},setCollidesNever:function(){return this.body.collides=i.NEVER,this},setLiteCollision:function(){return this.body.collides=i.LITE,this},setPassiveCollision:function(){return this.body.collides=i.PASSIVE,this},setActiveCollision:function(){return this.body.collides=i.ACTIVE,this},setFixedCollision:function(){return this.body.collides=i.FIXED,this},collides:{get:function(){return this.body.collides},set:function(i){this.body.collides=i}}};module.exports=l;
},{"../COLLIDES":"MTBG"}],"RXQi":[function(require,module,exports) {
var i={setFrictionX:function(i){return this.friction.x=i,this},setFrictionY:function(i){return this.friction.y=i,this},setFriction:function(i,t){return this.friction.x=i,this.friction.y=t,this}};module.exports=i;
},{}],"kwtc":[function(require,module,exports) {
var t={setGravity:function(t){return this.body.gravityFactor=t,this},gravity:{get:function(){return this.body.gravityFactor},set:function(t){this.body.gravityFactor=t}}};module.exports=t;
},{}],"lEph":[function(require,module,exports) {
var t={setOffset:function(t,s,e,o){return this.body.offset.x=t,this.body.offset.y=s,e&&this.setBodySize(e,o),this}};module.exports=t;
},{}],"kfUL":[function(require,module,exports) {
var e={setGameObject:function(e,t){return void 0===t&&(t=!0),e?(this.body.gameObject=e,t&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var e=this.body.gameObject;return e&&this.setBodySize(e.width*e.scaleX,e.height*e.scaleY),this}};module.exports=e;
},{}],"oUN1":[function(require,module,exports) {
var t={setVelocityX:function(t){return this.vel.x=t,this},setVelocityY:function(t){return this.vel.y=t,this},setVelocity:function(t,e){return void 0===e&&(e=t),this.vel.x=t,this.vel.y=e,this},setMaxVelocity:function(t,e){return void 0===e&&(e=t),this.maxVel.x=t,this.maxVel.y=e,this}};module.exports=t;
},{}],"nuoI":[function(require,module,exports) {
module.exports={Acceleration:require("./Acceleration"),BodyScale:require("./BodyScale"),BodyType:require("./BodyType"),Bounce:require("./Bounce"),CheckAgainst:require("./CheckAgainst"),Collides:require("./Collides"),Debug:require("./Debug"),Friction:require("./Friction"),Gravity:require("./Gravity"),Offset:require("./Offset"),SetGameObject:require("./SetGameObject"),Velocity:require("./Velocity")};
},{"./Acceleration":"xJL+","./BodyScale":"g/2T","./BodyType":"Vk0H","./Bounce":"UWDS","./CheckAgainst":"cNGs","./Collides":"qC+S","./Debug":"f7AC","./Friction":"RXQi","./Gravity":"kwtc","./Offset":"lEph","./SetGameObject":"kfUL","./Velocity":"oUN1"}],"h/MV":[function(require,module,exports) {
var i=require("../../utils/Class"),e=require("./components"),t=new i({Mixins:[e.Acceleration,e.BodyScale,e.BodyType,e.Bounce,e.CheckAgainst,e.Collides,e.Debug,e.Friction,e.Gravity,e.Offset,e.SetGameObject,e.Velocity],initialize:function(i,e,t,s,o){this.body=i.create(e,t,s,o),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});module.exports=t;
},{"../../utils/Class":"f5Xp","./components":"nuoI"}],"Kvrd":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),t=require("../../gameobjects/image/Image"),s=new e({Extends:t,Mixins:[i.Acceleration,i.BodyScale,i.BodyType,i.Bounce,i.CheckAgainst,i.Collides,i.Debug,i.Friction,i.Gravity,i.Offset,i.SetGameObject,i.Velocity],initialize:function(e,i,s,h,o){t.call(this,e.scene,i,s,h,o),this.body=e.create(i-this.frame.centerX,s-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});module.exports=s;
},{"../../utils/Class":"f5Xp","./components":"nuoI","../../gameobjects/image/Image":"hn+d"}],"M254":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),t=require("../../gameobjects/sprite/Sprite"),s=new e({Extends:t,Mixins:[i.Acceleration,i.BodyScale,i.BodyType,i.Bounce,i.CheckAgainst,i.Collides,i.Debug,i.Friction,i.Gravity,i.Offset,i.SetGameObject,i.Velocity],initialize:function(e,i,s,h,o){t.call(this,e.scene,i,s,h,o),this.body=e.create(i-this.frame.centerX,s-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});module.exports=s;
},{"../../utils/Class":"f5Xp","./components":"nuoI","../../gameobjects/sprite/Sprite":"X5p1"}],"OBSY":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("./ImpactBody"),i=require("./ImpactImage"),r=require("./ImpactSprite"),s=new t({initialize:function(t){this.world=t,this.sys=t.scene.sys},body:function(t,i,r,s){return new e(this.world,t,i,r,s)},existing:function(t){var e=t.x-t.frame.centerX,i=t.y-t.frame.centerY,r=t.width,s=t.height;return t.body=this.world.create(e,i,r,s),t.body.parent=t,t.body.gameObject=t,t},image:function(t,e,r,s){var n=new i(this.world,t,e,r,s);return this.sys.displayList.add(n),n},sprite:function(t,e,i,s){var n=new r(this.world,t,e,i,s);return this.sys.displayList.add(n),this.sys.updateList.add(n),n},destroy:function(){this.world=null,this.sys=null}});module.exports=s;
},{"../../utils/Class":"f5Xp","./ImpactBody":"h/MV","./ImpactImage":"Kvrd","./ImpactSprite":"M254"}],"u9l6":[function(require,module,exports) {
var s=function(s,o,e,x){var p=o.pos.x+o.size.x-e.pos.x;if(x){var i=o===x?e:o;x.vel.x=-x.vel.x*x.bounciness+i.vel.x;var l=s.collisionMap.trace(x.pos.x,x.pos.y,x===o?-p:p,0,x.size.x,x.size.y);x.pos.x=l.pos.x}else{var a=(o.vel.x-e.vel.x)/2;o.vel.x=-a,e.vel.x=a;var v=s.collisionMap.trace(o.pos.x,o.pos.y,-p/2,0,o.size.x,o.size.y);o.pos.x=Math.floor(v.pos.x);var r=s.collisionMap.trace(e.pos.x,e.pos.y,p/2,0,e.size.x,e.size.y);e.pos.x=Math.ceil(r.pos.x)}};module.exports=s;
},{}],"X9gu":[function(require,module,exports) {
var s=function(s,e,o,y){var i,l,p=e.pos.y+e.size.y-o.pos.y;if(y){var a=e===y?o:e;y.vel.y=-y.vel.y*y.bounciness+a.vel.y,i=0,y===e&&Math.abs(y.vel.y-a.vel.y)<y.minBounceVelocity&&(y.standing=!0,i=a.vel.x*s.delta);var n=s.collisionMap.trace(y.pos.x,y.pos.y,i,y===e?-p:p,y.size.x,y.size.y);y.pos.y=n.pos.y,y.pos.x=n.pos.x}else if(s.gravity&&(o.standing||e.vel.y>0))l=s.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-o.pos.y),e.size.x,e.size.y),e.pos.y=l.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0);else{var v=(e.vel.y-o.vel.y)/2;e.vel.y=-v,o.vel.y=v,i=o.vel.x*s.delta,l=s.collisionMap.trace(e.pos.x,e.pos.y,i,-p/2,e.size.x,e.size.y),e.pos.y=l.pos.y;var c=s.collisionMap.trace(o.pos.x,o.pos.y,0,p/2,o.size.x,o.size.y);o.pos.y=c.pos.y}};module.exports=s;
},{}],"A4d5":[function(require,module,exports) {
var l=require("./COLLIDES"),e=require("./SeperateX"),i=require("./SeperateY"),t=function(t,s,a){var o=null;s.collides===l.LITE||a.collides===l.FIXED?o=s:a.collides!==l.LITE&&s.collides!==l.FIXED||(o=a),s.last.x+s.size.x>a.last.x&&s.last.x<a.last.x+a.size.x?(s.last.y<a.last.y?i(t,s,a,o):i(t,a,s,o),s.collideWith(a,"y"),a.collideWith(s,"y"),t.emit("collide",s,a,"y")):s.last.y+s.size.y>a.last.y&&s.last.y<a.last.y+a.size.y&&(s.last.x<a.last.x?e(t,s,a,o):e(t,a,s,o),s.collideWith(a,"x"),a.collideWith(s,"x"),t.emit("collide",s,a,"x"))};module.exports=t;
},{"./COLLIDES":"MTBG","./SeperateX":"u9l6","./SeperateY":"X9gu"}],"64/M":[function(require,module,exports) {
var e=require("./Body"),t=require("../../utils/Class"),i=require("./COLLIDES"),s=require("./CollisionMap"),o=require("eventemitter3"),l=require("../../utils/object/GetFastValue"),r=require("../../utils/object/HasValue"),n=require("../../structs/Set"),a=require("./Solver"),h=require("../../tilemaps/Formats"),c=require("./TYPE"),u=new t({Extends:o,initialize:function(e,t){o.call(this),this.scene=e,this.bodies=new n,this.gravity=l(t,"gravity",0),this.cellSize=l(t,"cellSize",64),this.collisionMap=new s,this.timeScale=l(t,"timeScale",1),this.maxStep=l(t,"maxStep",.05),this.enabled=!0,this.drawDebug=l(t,"debug",!1),this.debugGraphic;var i=l(t,"maxVelocity",100);if(this.defaults={debugShowBody:l(t,"debugShowBody",!0),debugShowVelocity:l(t,"debugShowVelocity",!0),bodyDebugColor:l(t,"debugBodyColor",16711935),velocityDebugColor:l(t,"debugVelocityColor",65280),maxVelocityX:l(t,"maxVelocityX",i),maxVelocityY:l(t,"maxVelocityY",i),minBounceVelocity:l(t,"minBounceVelocity",40),gravityFactor:l(t,"gravityFactor",1),bounciness:l(t,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,l(t,"setBounds",!1)){var r=t.setBounds;if("boolean"==typeof r)this.setBounds();else{var a=l(r,"x",0),h=l(r,"y",0),c=l(r,"width",e.sys.game.config.width),u=l(r,"height",e.sys.game.config.height),d=l(r,"thickness",64),f=l(r,"left",!0),g=l(r,"right",!0),p=l(r,"top",!0),v=l(r,"bottom",!0);this.setBounds(a,h,c,u,d,f,g,p,v)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(e,t){if("string"==typeof e){var i=this.scene.cache.tilemap.get(e);if(!i||i.format!==h.WELTMEISTER)return console.warn("The specified key does not correspond to a Weltmeister tilemap: "+e),null;for(var o,l=i.data.layer,r=0;r<l.length;r++)if("collision"===l[r].name){o=l[r];break}void 0===t&&(t=o.tilesize),this.collisionMap=new s(t,o.data)}else Array.isArray(e)?this.collisionMap=new s(t,e):console.warn("Invalid Weltmeister collision map data: "+e);return this.collisionMap},setCollisionMapFromTilemapLayer:function(e,t){void 0===t&&(t={});for(var i=l(t,"slopeProperty",null),o=l(t,"slopeMap",null),n=l(t,"defaultCollidingSlope",null),a=l(t,"defaultNonCollidingSlope",0),h=e.layer,c=h.baseTileWidth,u=[],d=0;d<h.height;d++){u[d]=[];for(var f=0;f<h.width;f++){var g=h.data[d][f];g&&g.collides?null!==i&&r(g.properties,i)?u[d][f]=parseInt(g.properties[i],10):null!==o&&r(o,g.index)?u[d][f]=o[g.index]:u[d][f]=null!==n?n:g.index:u[d][f]=a}}return this.collisionMap=new s(c,u),this.collisionMap},setBounds:function(e,t,i,s,o,l,r,n,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===s&&(s=this.scene.sys.game.config.height),void 0===o&&(o=64),void 0===l&&(l=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),void 0===a&&(a=!0),this.updateWall(l,"left",e-o,t,o,s),this.updateWall(r,"right",e+i,t,o,s),this.updateWall(n,"top",e,t-o,i,o),this.updateWall(a,"bottom",e,t+s,i,o),this},updateWall:function(e,t,s,o,l,r){var n=this.walls[t];e?n?n.resetSize(s,o,l,r):(this.walls[t]=this.create(s,o,l,r),this.walls[t].name=t,this.walls[t].gravityFactor=0,this.walls[t].collides=i.FIXED):(n&&this.bodies.remove(n),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},getNextID:function(){return this._lastId++},create:function(t,i,s,o){var l=new e(this,t,i,s,o);return this.bodies.set(l),l},remove:function(e){this.bodies.delete(e)},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(e,t){if(this.enabled&&0!==this.bodies.size){var i,s,o=Math.min(t/1e3,this.maxStep)*this.timeScale;this.delta=o;var l=this.bodies.entries,r=l.length,n={},a=this.cellSize;for(i=0;i<r;i++)(s=l[i]).enabled&&s.update(o);for(i=0;i<r;i++)(s=l[i])&&!s.skipHash()&&this.checkHash(s,n,a);if(this.drawDebug){var h=this.debugGraphic;for(h.clear(),i=0;i<r;i++)(s=l[i])&&s.willDrawDebug()&&s.drawDebug(h)}}},checkHash:function(e,t,i){for(var s={},o=Math.floor(e.pos.x/i),l=Math.floor(e.pos.y/i),r=Math.floor((e.pos.x+e.size.x)/i)+1,n=Math.floor((e.pos.y+e.size.y)/i)+1,a=o;a<r;a++)for(var h=l;h<n;h++)if(t[a])if(t[a][h]){for(var c=t[a][h],u=0;u<c.length;u++)e.touches(c[u])&&!s[c[u].id]&&(s[c[u].id]=!0,this.checkBodies(e,c[u]));c.push(e)}else t[a][h]=[e];else t[a]={},t[a][h]=[e]},checkBodies:function(e,t){e.collides===i.FIXED&&t.collides===i.FIXED||(e.checkAgainst&t.type&&e.check(t),t.checkAgainst&e.type&&t.check(e),e.collides&&t.collides&&e.collides+t.collides>i.ACTIVE&&a(this,e,t))},setCollidesNever:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.NEVER;return this},setLite:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.LITE;return this},setPassive:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.PASSIVE;return this},setActive:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.ACTIVE;return this},setFixed:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.FIXED;return this},setTypeNone:function(e){for(var t=0;t<e.length;t++)e[t].type=c.NONE;return this},setTypeA:function(e){for(var t=0;t<e.length;t++)e[t].type=c.A;return this},setTypeB:function(e){for(var t=0;t<e.length;t++)e[t].type=c.B;return this},setAvsB:function(e){for(var t=0;t<e.length;t++)e[t].type=c.A,e[t].checkAgainst=c.B;return this},setBvsA:function(e){for(var t=0;t<e.length;t++)e[t].type=c.B,e[t].checkAgainst=c.A;return this},setCheckAgainstNone:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=c.NONE;return this},setCheckAgainstA:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=c.A;return this},setCheckAgainstB:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=c.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}});module.exports=u;
},{"./Body":"oy5N","../../utils/Class":"f5Xp","./COLLIDES":"MTBG","./CollisionMap":"O4+U","eventemitter3":"LqgX","../../utils/object/GetFastValue":"SgIk","../../utils/object/HasValue":"tWBw","../../structs/Set":"jS4S","./Solver":"A4d5","../../tilemaps/Formats":"wt80","./TYPE":"3vwV"}],"QTBv":[function(require,module,exports) {
var s=require("../../utils/Class"),t=require("./Factory"),i=require("../../utils/object/GetFastValue"),e=require("../../utils/object/Merge"),n=require("../../plugins/PluginCache"),h=require("./World"),o=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.config=this.getConfig(),this.world,this.add,s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.world=new h(this.scene,this.config),this.add=new t(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new h(this.scene,this.config),this.add=new t(this.world));var s=this.systems.events;s.on("update",this.world.update,this.world),s.once("shutdown",this.shutdown,this)},getConfig:function(){var s=this.systems.game.config.physics,t=this.systems.settings.physics;return e(i(t,"impact",{}),i(s,"impact",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},shutdown:function(){var s=this.systems.events;s.off("update",this.world.update,this.world),s.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});n.register("ImpactPhysics",o,"impactPhysics"),module.exports=o;
},{"../../utils/Class":"f5Xp","./Factory":"OBSY","../../utils/object/GetFastValue":"SgIk","../../utils/object/Merge":"1u+y","../../plugins/PluginCache":"sYlk","./World":"64/M"}],"pF7b":[function(require,module,exports) {
module.exports={Body:require("./Body"),COLLIDES:require("./COLLIDES"),CollisionMap:require("./CollisionMap"),Factory:require("./Factory"),Image:require("./ImpactImage"),ImpactBody:require("./ImpactBody"),ImpactPhysics:require("./ImpactPhysics"),Sprite:require("./ImpactSprite"),TYPE:require("./TYPE"),World:require("./World")};
},{"./Body":"oy5N","./COLLIDES":"MTBG","./CollisionMap":"O4+U","./Factory":"OBSY","./ImpactImage":"Kvrd","./ImpactBody":"h/MV","./ImpactPhysics":"QTBv","./ImpactSprite":"M254","./TYPE":"3vwV","./World":"64/M"}],"L3fN":[function(require,module,exports) {
var n={};module.exports=n,n.create=function(n,t){return{x:n||0,y:t||0}},n.clone=function(n){return{x:n.x,y:n.y}},n.magnitude=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},n.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},n.rotate=function(n,t,r){var e=Math.cos(t),x=Math.sin(t);r||(r={});var y=n.x*e-n.y*x;return r.y=n.x*x+n.y*e,r.x=y,r},n.rotateAbout=function(n,t,r,e){var x=Math.cos(t),y=Math.sin(t);e||(e={});var u=r.x+((n.x-r.x)*x-(n.y-r.y)*y);return e.y=r.y+((n.x-r.x)*y+(n.y-r.y)*x),e.x=u,e},n.normalise=function(t){var r=n.magnitude(t);return 0===r?{x:0,y:0}:{x:t.x/r,y:t.y/r}},n.dot=function(n,t){return n.x*t.x+n.y*t.y},n.cross=function(n,t){return n.x*t.y-n.y*t.x},n.cross3=function(n,t,r){return(t.x-n.x)*(r.y-n.y)-(t.y-n.y)*(r.x-n.x)},n.add=function(n,t,r){return r||(r={}),r.x=n.x+t.x,r.y=n.y+t.y,r},n.sub=function(n,t,r){return r||(r={}),r.x=n.x-t.x,r.y=n.y-t.y,r},n.mult=function(n,t){return{x:n.x*t,y:n.y*t}},n.div=function(n,t){return{x:n.x/t,y:n.y/t}},n.perp=function(n,t){return{x:(t=!0===t?-1:1)*-n.y,y:t*n.x}},n.neg=function(n){return{x:-n.x,y:-n.y}},n.angle=function(n,t){return Math.atan2(t.y-n.y,t.x-n.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()];
},{}],"38z7":[function(require,module,exports) {
var n={};module.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(e,r){var t,o;"boolean"==typeof r?(t=2,o=r):(t=1,o=!0);for(var c=t;c<arguments.length;c++){var a=arguments[c];if(a)for(var i in a)o&&a[i]&&a[i].constructor===Object?e[i]&&e[i].constructor!==Object?e[i]=a[i]:(e[i]=e[i]||{},n.extend(e[i],o,a[i])):e[i]=a[i]}return e},n.clone=function(e,r){return n.extend({},r,e)},n.keys=function(n){if(Object.keys)return Object.keys(n);var e=[];for(var r in n)e.push(r);return e},n.values=function(n){var e=[];if(Object.keys){for(var r=Object.keys(n),t=0;t<r.length;t++)e.push(n[r[t]]);return e}for(var o in n)e.push(n[o]);return e},n.get=function(n,e,r,t){e=e.split(".").slice(r,t);for(var o=0;o<e.length;o+=1)n=n[e[o]];return n},n.set=function(e,r,t,o,c){var a=r.split(".").slice(o,c);return n.get(e,r,0,-1)[a[a.length-1]]=t,t},n.shuffle=function(e){for(var r=e.length-1;r>0;r--){var t=Math.floor(n.random()*(r+1)),o=e[r];e[r]=e[t],e[t]=o}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(n){return n instanceof HTMLElement},n.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)},n.isFunction=function(n){return"function"==typeof n},n.isPlainObject=function(n){return"object"==typeof n&&n.constructor===Object},n.isString=function(n){return"[object String]"===Object.prototype.toString.call(n)},n.clamp=function(n,e,r){return n<e?e:n>r?r:n},n.sign=function(n){return n<0?-1:1},n.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(n,r){return r=void 0!==r?r:1,(n=void 0!==n?n:0)+e()*(r-n)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(n){return 3==(n=n.replace("#","")).length&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.map=function(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t+=1)r.push(e(n[t]));return r},n.topologicalSort=function(n){var e=[],t=[],o=[];for(var c in n)t[c]||o[c]||r(c,t,o,n,e);return e};var r=function(n,e,t,o,c){var a=o[n]||[];t[n]=!0;for(var i=0;i<a.length;i+=1){var u=a[i];t[u]||(e[u]||r(u,e,t,o,c))}t[n]=!1,e[n]=!0,c.push(n)};n.chain=function(){for(var n=[],e=0;e<arguments.length;e+=1){var r=arguments[e];r._chained?n.push.apply(n,r._chained):n.push(r)}var t=function(){for(var e,r=new Array(arguments.length),t=0,o=arguments.length;t<o;t++)r[t]=arguments[t];for(t=0;t<n.length;t+=1){var c=n[t].apply(e,r);void 0!==c&&(e=c)}return e};return t._chained=n,t},n.chainPathBefore=function(e,r,t){return n.set(e,r,n.chain(t,n.get(e,r)))},n.chainPathAfter=function(e,r,t){return n.set(e,r,n.chain(n.get(e,r),t))}}();
},{}],"D80X":[function(require,module,exports) {
var r={};module.exports=r;var t=require("../geometry/Vector"),n=require("../core/Common");r.create=function(r,t){for(var n=[],e=0;e<r.length;e++){var o=r[e],a={x:o.x,y:o.y,index:e,body:t,isInternal:!1,contact:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},n.push(a)}return n},r.fromPath=function(t,n){var e=[];return t.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(r,t,n){e.push({x:parseFloat(t),y:parseFloat(n)})}),r.create(e,n)},r.centre=function(n){for(var e,o,a,l=r.area(n,!0),u={x:0,y:0},h=0;h<n.length;h++)a=(h+1)%n.length,e=t.cross(n[h],n[a]),o=t.mult(t.add(n[h],n[a]),e),u=t.add(u,o);return t.div(u,6*l)},r.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return t.div(n,r.length)},r.area=function(r,t){for(var n=0,e=r.length-1,o=0;o<r.length;o++)n+=(r[e].x-r[o].x)*(r[e].y+r[o].y),e=o;return t?n/2:Math.abs(n)/2},r.inertia=function(r,n){for(var e,o,a=0,l=0,u=r,h=0;h<u.length;h++)o=(h+1)%u.length,a+=(e=Math.abs(t.cross(u[o],u[h])))*(t.dot(u[o],u[o])+t.dot(u[o],u[h])+t.dot(u[h],u[h])),l+=e;return n/6*(a/l)},r.translate=function(r,t,n){var e;if(n)for(e=0;e<r.length;e++)r[e].x+=t.x*n,r[e].y+=t.y*n;else for(e=0;e<r.length;e++)r[e].x+=t.x,r[e].y+=t.y;return r},r.rotate=function(r,t,n){if(0!==t){for(var e=Math.cos(t),o=Math.sin(t),a=0;a<r.length;a++){var l=r[a],u=l.x-n.x,h=l.y-n.y;l.x=n.x+(u*e-h*o),l.y=n.y+(u*o+h*e)}return r}},r.contains=function(r,t){for(var n=0;n<r.length;n++){var e=r[n],o=r[(n+1)%r.length];if((t.x-e.x)*(o.y-e.y)+(t.y-e.y)*(e.x-o.x)>0)return!1}return!0},r.scale=function(n,e,o,a){if(1===e&&1===o)return n;var l,u;a=a||r.centre(n);for(var h=0;h<n.length;h++)l=n[h],u=t.sub(l,a),n[h].x=a.x+u.x*e,n[h].y=a.y+u.y*o;return n},r.chamfer=function(r,e,o,a,l){(e="number"==typeof e?[e]:e||[8]).length||(e=[e]),o=void 0!==o?o:-1,a=a||2,l=l||14;for(var u=[],h=0;h<r.length;h++){var c=r[h-1>=0?h-1:r.length-1],f=r[h],s=r[(h+1)%r.length],i=e[h<e.length?h:e.length-1];if(0!==i){var x=t.normalise({x:f.y-c.y,y:c.x-f.x}),y=t.normalise({x:s.y-f.y,y:f.x-s.x}),g=Math.sqrt(2*Math.pow(i,2)),v=t.mult(n.clone(x),i),p=t.normalise(t.mult(t.add(x,y),.5)),d=t.sub(f,t.mult(p,g)),m=o;-1===o&&(m=1.75*Math.pow(i,.32)),(m=n.clamp(m,a,l))%2==1&&(m+=1);for(var M=Math.acos(t.dot(x,y))/m,b=0;b<m;b++)u.push(t.add(t.rotate(v,M*b),d))}else u.push(f)}return u},r.clockwiseSort=function(n){var e=r.mean(n);return n.sort(function(r,n){return t.angle(e,r)-t.angle(e,n)}),n},r.isConvex=function(r){var t,n,e,o,a=0,l=r.length;if(l<3)return null;for(t=0;t<l;t++)if(e=(t+2)%l,o=(r[n=(t+1)%l].x-r[t].x)*(r[e].y-r[n].y),(o-=(r[n].y-r[t].y)*(r[e].x-r[n].x))<0?a|=1:o>0&&(a|=2),3===a)return!1;return 0!==a||null},r.hull=function(r){var n,e,o=[],a=[];for((r=r.slice(0)).sort(function(r,t){var n=r.x-t.x;return 0!==n?n:r.y-t.y}),e=0;e<r.length;e+=1){for(n=r[e];a.length>=2&&t.cross3(a[a.length-2],a[a.length-1],n)<=0;)a.pop();a.push(n)}for(e=r.length-1;e>=0;e-=1){for(n=r[e];o.length>=2&&t.cross3(o[o.length-2],o[o.length-1],n)<=0;)o.pop();o.push(n)}return o.pop(),a.pop(),o.concat(a)};
},{"../geometry/Vector":"L3fN","../core/Common":"38z7"}],"qSml":[function(require,module,exports) {
var e={};module.exports=e;var n=require("./Common");e.on=function(e,n,t){for(var r,s=n.split(" "),v=0;v<s.length;v++)r=s[v],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(t);return t},e.off=function(e,t,r){if(t){"function"==typeof t&&(r=t,t=n.keys(e.events).join(" "));for(var s=t.split(" "),v=0;v<s.length;v++){var o=e.events[s[v]],f=[];if(r&&o)for(var i=0;i<o.length;i++)o[i]!==r&&f.push(o[i]);e.events[s[v]]=f}}else e.events={}},e.trigger=function(e,t,r){var s,v,o,f;if(e.events){r||(r={}),s=t.split(" ");for(var i=0;i<s.length;i++)if(v=s[i],o=e.events[v]){(f=n.clone(r,!1)).name=v,f.source=e;for(var l=0;l<o.length;l++)o[l].apply(e,[f])}}};
},{"./Common":"38z7"}],"Qv2P":[function(require,module,exports) {
var e={};module.exports=e;var i=require("./Events");e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,o){for(var s=o*o*o,n=0;n<i.length;n++){var t=i[n],r=t.speed*t.speed+t.angularSpeed*t.angularSpeed;if(0===t.force.x&&0===t.force.y){var l=Math.min(t.motion,r),p=Math.max(t.motion,r);t.motion=e._minBias*l+(1-e._minBias)*p,t.sleepThreshold>0&&t.motion<e._motionSleepThreshold*s?(t.sleepCounter+=1,t.sleepCounter>=t.sleepThreshold&&e.set(t,!0)):t.sleepCounter>0&&(t.sleepCounter-=1)}else e.set(t,!1)}},e.afterCollisions=function(i,o){for(var s=o*o*o,n=0;n<i.length;n++){var t=i[n];if(t.isActive){var r=t.collision,l=r.bodyA.parent,p=r.bodyB.parent;if(!(l.isSleeping&&p.isSleeping||l.isStatic||p.isStatic)&&(l.isSleeping||p.isSleeping)){var a=l.isSleeping&&!l.isStatic?l:p,g=a===l?p:l;!a.isStatic&&g.motion>e._motionWakeThreshold*s&&e.set(a,!1)}}}},e.set=function(e,o){var s=e.isSleeping;o?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,s||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,s&&i.trigger(e,"sleepEnd"))};
},{"./Events":"qSml"}],"y1JA":[function(require,module,exports) {
var x={};module.exports=x,x.create=function(m){var n={min:{x:0,y:0},max:{x:0,y:0}};return m&&x.update(n,m),n},x.update=function(x,m,n){x.min.x=1/0,x.max.x=-1/0,x.min.y=1/0,x.max.y=-1/0;for(var y=0;y<m.length;y++){var a=m[y];a.x>x.max.x&&(x.max.x=a.x),a.x<x.min.x&&(x.min.x=a.x),a.y>x.max.y&&(x.max.y=a.y),a.y<x.min.y&&(x.min.y=a.y)}n&&(n.x>0?x.max.x+=n.x:x.min.x+=n.x,n.y>0?x.max.y+=n.y:x.min.y+=n.y)},x.contains=function(x,m){return m.x>=x.min.x&&m.x<=x.max.x&&m.y>=x.min.y&&m.y<=x.max.y},x.overlaps=function(x,m){return x.min.x<=m.max.x&&x.max.x>=m.min.x&&x.max.y>=m.min.y&&x.min.y<=m.max.y},x.translate=function(x,m){x.min.x+=m.x,x.max.x+=m.x,x.min.y+=m.y,x.max.y+=m.y},x.shift=function(x,m){var n=x.max.x-x.min.x,y=x.max.y-x.min.y;x.min.x=m.x,x.max.x=m.x+n,x.min.y=m.y,x.max.y=m.y+y};
},{}],"FLqH":[function(require,module,exports) {
var r={};module.exports=r;var e=require("../geometry/Vector"),o=require("../core/Common");r.fromVertices=function(r){for(var t={},n=0;n<r.length;n++){var a=(n+1)%r.length,i=e.normalise({x:r[a].y-r[n].y,y:r[n].x-r[a].x}),x=0===i.y?1/0:i.x/i.y;t[x=x.toFixed(3).toString()]=i}return o.values(t)},r.rotate=function(r,e){if(0!==e)for(var o=Math.cos(e),t=Math.sin(e),n=0;n<r.length;n++){var a,i=r[n];a=i.x*o-i.y*t,i.y=i.x*t+i.y*o,i.x=a}};
},{"../geometry/Vector":"L3fN","../core/Common":"38z7"}],"e/rv":[function(require,module,exports) {
var e={};module.exports=e;var t=require("../geometry/Vertices"),i=require("../geometry/Vector"),s=require("../core/Sleeping"),r=require("../core/Common"),n=require("../geometry/Bounds"),a=require("../geometry/Axes");!function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(e){var i={id:r.nextId(),type:"body",label:"Body",gameObject:null,parts:[],plugin:{},angle:0,vertices:t.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,ignoreGravity:!1,ignorePointer:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},s=r.extend(i,e);return o(s,e),s},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var o=function(s,o){o=o||{},e.set(s,{bounds:s.bounds||n.create(s.vertices),positionPrev:s.positionPrev||i.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),t.rotate(s.vertices,s.angle,s.position),a.rotate(s.axes,s.angle),n.update(s.bounds,s.vertices,s.velocity),e.set(s,{axes:o.axes||s.axes,area:o.area||s.area,mass:o.mass||s.mass,inertia:o.inertia||s.inertia});var l=s.isStatic?"#2e2b44":r.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);s.render.fillStyle=s.render.fillStyle||l,s.render.strokeStyle=s.render.strokeStyle||"#000",s.render.sprite.xOffset+=-(s.bounds.min.x-s.position.x)/(s.bounds.max.x-s.bounds.min.x),s.render.sprite.yOffset+=-(s.bounds.min.y-s.position.y)/(s.bounds.max.y-s.bounds.min.y)};e.set=function(t,i){var r,n;for(r in"string"==typeof i&&(r=i,(i={})[r]=n),i)if(i.hasOwnProperty(r))switch(n=i[r],r){case"isStatic":e.setStatic(t,n);break;case"isSleeping":s.set(t,n);break;case"mass":e.setMass(t,n);break;case"density":e.setDensity(t,n);break;case"inertia":e.setInertia(t,n);break;case"vertices":e.setVertices(t,n);break;case"position":e.setPosition(t,n);break;case"angle":e.setAngle(t,n);break;case"velocity":e.setVelocity(t,n);break;case"angularVelocity":e.setAngularVelocity(t,n);break;case"parts":e.setParts(t,n);break;default:t[r]=n}},e.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var s=e.parts[i];s.isStatic=t,t?(s._original={restitution:s.restitution,friction:s.friction,mass:s.mass,inertia:s.inertia,density:s.density,inverseMass:s.inverseMass,inverseInertia:s.inverseInertia},s.restitution=0,s.friction=1,s.mass=s.inertia=s.density=1/0,s.inverseMass=s.inverseInertia=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.angularVelocity=0,s.speed=0,s.angularSpeed=0,s.motion=0):s._original&&(s.restitution=s._original.restitution,s.friction=s._original.friction,s.mass=s._original.mass,s.inertia=s._original.inertia,s.density=s._original.density,s.inverseMass=s._original.inverseMass,s.inverseInertia=s._original.inverseInertia,s._original=null)}},e.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=i*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},e.setDensity=function(t,i){e.setMass(t,i*t.area),t.density=i},e.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},e.setVertices=function(i,s){s[0].body===i?i.vertices=s:i.vertices=t.create(s,i),i.axes=a.fromVertices(i.vertices),i.area=t.area(i.vertices),e.setMass(i,i.density*i.area);var r=t.centre(i.vertices);t.translate(i.vertices,r,-1),e.setInertia(i,e._inertiaScale*t.inertia(i.vertices,i.mass)),t.translate(i.vertices,i.position),n.update(i.bounds,i.vertices,i.velocity)},e.setParts=function(i,s,r){var n;for(s=s.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,n=0;n<s.length;n++){var a=s[n];a!==i&&(a.parent=i,i.parts.push(a))}if(1!==i.parts.length){if(r=void 0===r||r){var o=[];for(n=0;n<s.length;n++)o=o.concat(s[n].vertices);t.clockwiseSort(o);var c=t.hull(o),p=t.centre(c);e.setVertices(i,c),t.translate(i.vertices,p)}var y=l(i);i.area=y.area,i.parent=i,i.position.x=y.centre.x,i.position.y=y.centre.y,i.positionPrev.x=y.centre.x,i.positionPrev.y=y.centre.y,e.setMass(i,y.mass),e.setInertia(i,y.inertia),e.setPosition(i,y.centre)}},e.setPosition=function(e,s){var r=i.sub(s,e.position);e.positionPrev.x+=r.x,e.positionPrev.y+=r.y;for(var a=0;a<e.parts.length;a++){var o=e.parts[a];o.position.x+=r.x,o.position.y+=r.y,t.translate(o.vertices,r),n.update(o.bounds,o.vertices,e.velocity)}},e.setAngle=function(e,s){var r=s-e.angle;e.anglePrev+=r;for(var o=0;o<e.parts.length;o++){var l=e.parts[o];l.angle+=r,t.rotate(l.vertices,r,e.position),a.rotate(l.axes,r),n.update(l.bounds,l.vertices,e.velocity),o>0&&i.rotateAbout(l.position,r,e.position,l.position)}},e.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=i.magnitude(e.velocity)},e.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},e.translate=function(t,s){e.setPosition(t,i.add(t.position,s))},e.rotate=function(t,i,s){if(s){var r=Math.cos(i),n=Math.sin(i),a=t.position.x-s.x,o=t.position.y-s.y;e.setPosition(t,{x:s.x+(a*r-o*n),y:s.y+(a*n+o*r)}),e.setAngle(t,t.angle+i)}else e.setAngle(t,t.angle+i)},e.scale=function(i,s,r,o){o=o||i.position;for(var c=0;c<i.parts.length;c++){var p=i.parts[c];p.position.x=o.x+(p.position.x-o.x)*s,p.position.y=o.y+(p.position.y-o.y)*r,t.scale(p.vertices,s,r,o),p.axes=a.fromVertices(p.vertices),i.isStatic||(p.area=t.area(p.vertices),e.setMass(p,i.density*p.area),t.translate(p.vertices,{x:-p.position.x,y:-p.position.y}),e.setInertia(p,t.inertia(p.vertices,p.mass)),t.translate(p.vertices,{x:p.position.x,y:p.position.y})),n.update(p.bounds,p.vertices,i.velocity)}if(i.circleRadius&&(s===r?i.circleRadius*=s:i.circleRadius=null),!i.isStatic){var y=l(i);i.area=y.area,e.setMass(i,y.mass),e.setInertia(i,y.inertia)}},e.update=function(e,s,r,o){var l=Math.pow(s*r*e.timeScale,2),c=1-e.frictionAir*r*e.timeScale,p=e.position.x-e.positionPrev.x,y=e.position.y-e.positionPrev.y;e.velocity.x=p*c*o+e.force.x/e.mass*l,e.velocity.y=y*c*o+e.force.y/e.mass*l,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*c*o+e.torque/e.inertia*l,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=i.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var v=0;v<e.parts.length;v++){var u=e.parts[v];t.translate(u.vertices,e.velocity),v>0&&(u.position.x+=e.velocity.x,u.position.y+=e.velocity.y),0!==e.angularVelocity&&(t.rotate(u.vertices,e.angularVelocity,e.position),a.rotate(u.axes,e.angularVelocity),v>0&&i.rotateAbout(u.position,e.angularVelocity,e.position,u.position)),n.update(u.bounds,u.vertices,e.velocity)}},e.applyForce=function(e,t,i){e.force.x+=i.x,e.force.y+=i.y;var s=t.x-e.position.x,r=t.y-e.position.y;e.torque+=s*i.y-r*i.x};var l=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=1===e.parts.length?0:1;s<e.parts.length;s++){var r=e.parts[s],n=r.mass!==1/0?r.mass:1;t.mass+=r.mass,t.area+=r.area,t.inertia+=r.inertia,t.centre=i.add(t.centre,i.mult(r.position,n))}return t.centre=i.div(t.centre,t.mass),t}}();
},{"../geometry/Vertices":"D80X","../geometry/Vector":"L3fN","../core/Sleeping":"Qv2P","../core/Common":"38z7","../geometry/Bounds":"y1JA","../geometry/Axes":"FLqH"}],"irpP":[function(require,module,exports) {
function r(r,n,t){t=t||0;var e,u,f,o,h,i,a,l=[0,0];return e=r[1][1]-r[0][1],u=r[0][0]-r[1][0],f=e*r[0][0]+u*r[0][1],o=n[1][1]-n[0][1],h=n[0][0]-n[1][0],i=o*n[0][0]+h*n[0][1],N(a=e*h-o*u,0,t)||(l[0]=(h*f-u*i)/a,l[1]=(e*i-o*f)/a),l}function n(r,n,t,e){var u=n[0]-r[0],f=n[1]-r[1],o=e[0]-t[0],h=e[1]-t[1];if(o*f-h*u==0)return!1;var i=(u*(t[1]-r[1])+f*(r[0]-t[0]))/(o*f-h*u),a=(o*(r[1]-t[1])+h*(t[0]-r[0]))/(h*u-o*f);return i>=0&&i<=1&&a>=0&&a<=1}function t(r,n,t){return(n[0]-r[0])*(t[1]-r[1])-(t[0]-r[0])*(n[1]-r[1])}function e(r,n,e){return t(r,n,e)>0}function u(r,n,e){return t(r,n,e)>=0}function f(r,n,e){return t(r,n,e)<0}function o(r,n,e){return t(r,n,e)<=0}module.exports={decomp:q,quickDecomp:E,isSimple:y,removeCollinearPoints:L,makeCCW:s};var h=[],i=[];function a(r,n,e,u){if(u){var f=h,o=i;f[0]=n[0]-r[0],f[1]=n[1]-r[1],o[0]=e[0]-n[0],o[1]=e[1]-n[1];var a=f[0]*o[0]+f[1]*o[1],l=Math.sqrt(f[0]*f[0]+f[1]*f[1]),c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(a/(l*c))<u}return 0===t(r,n,e)}function l(r,n){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function c(r,n){var t=r.length;return r[n<0?n%t+t:n%t]}function g(r){r.length=0}function v(r,n,t,e){for(var u=t;u<e;u++)r.push(n[u])}function s(r){for(var n=0,t=r,u=1;u<r.length;++u)(t[u][1]<t[n][1]||t[u][1]===t[n][1]&&t[u][0]>t[n][0])&&(n=u);e(c(r,n-1),c(r,n),c(r,n+1))||p(r)}function p(r){for(var n=[],t=r.length,e=0;e!==t;e++)n.push(r.pop());for(e=0;e!==t;e++)r[e]=n[e]}function m(r,n){return f(c(r,n-1),c(r,n),c(r,n+1))}var A=[],M=[];function d(n,t,e){var f,h,i=A,a=M;if(u(c(n,t+1),c(n,t),c(n,e))&&o(c(n,t-1),c(n,t),c(n,e)))return!1;h=l(c(n,t),c(n,e));for(var g=0;g!==n.length;++g)if((g+1)%n.length!==t&&g!==t&&u(c(n,t),c(n,e),c(n,g+1))&&o(c(n,t),c(n,e),c(n,g))&&(i[0]=c(n,t),i[1]=c(n,e),a[0]=c(n,g),a[1]=c(n,g+1),f=r(i,a),l(c(n,t),f)<h))return!1;return!0}function b(r,n,t,e){var u=e||[];if(g(u),n<t)for(var f=n;f<=t;f++)u.push(r[f]);else{for(f=0;f<=t;f++)u.push(r[f]);for(f=n;f<r.length;f++)u.push(r[f])}return u}function k(r){for(var n=[],t=[],e=[],u=[],f=Number.MAX_VALUE,o=0;o<r.length;++o)if(m(r,o))for(var h=0;h<r.length;++h)if(d(r,o,h)){t=k(b(r,o,h,u)),e=k(b(r,h,o,u));for(var i=0;i<e.length;i++)t.push(e[i]);t.length<f&&(n=t,f=t.length,n.push([c(r,o),c(r,h)]))}return n}function q(r){var n=k(r);return n.length>0?x(r,n):[r]}function x(r,n){if(0===n.length)return[r];if(n instanceof Array&&n.length&&n[0]instanceof Array&&2===n[0].length&&n[0][0]instanceof Array){for(var t=[r],e=0;e<n.length;e++)for(var u=n[e],f=0;f<t.length;f++){var o=x(t[f],u);if(o){t.splice(f,1),t.push(o[0],o[1]);break}}return t}u=n,e=r.indexOf(u[0]),f=r.indexOf(u[1]);return-1!==e&&-1!==f&&[b(r,e,f),b(r,f,e)]}function y(r){var t,e=r;for(t=0;t<e.length-1;t++)for(var u=0;u<t-1;u++)if(n(e[t],e[t+1],e[u],e[u+1]))return!1;for(t=1;t<e.length-2;t++)if(n(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0}function C(r,n,t,e,u){u=u||0;var f=n[1]-r[1],o=r[0]-n[0],h=f*r[0]+o*r[1],i=e[1]-t[1],a=t[0]-e[0],l=i*t[0]+a*t[1],c=f*a-i*o;return N(c,0,u)?[0,0]:[(a*h-o*l)/c,(f*l-i*h)/c]}function E(r,n,t,h,i,a,g){a=a||100,g=g||0,i=i||25,n=void 0!==n?n:[],t=t||[],h=h||[];var s=[0,0],p=[0,0],A=[0,0],M=0,d=0,b=0,k=0,q=0,x=0,y=0,L=[],N=[],U=r,V=r;if(V.length<3)return n;if(++g>a)return console.warn("quickDecomp: max level ("+a+") reached."),n;for(var X=0;X<r.length;++X)if(m(U,X)){t.push(U[X]),M=d=Number.MAX_VALUE;for(var _=0;_<r.length;++_)e(c(U,X-1),c(U,X),c(U,_))&&o(c(U,X-1),c(U,X),c(U,_-1))&&(A=C(c(U,X-1),c(U,X),c(U,_),c(U,_-1)),f(c(U,X+1),c(U,X),A)&&(b=l(U[X],A))<d&&(d=b,p=A,x=_)),e(c(U,X+1),c(U,X),c(U,_+1))&&o(c(U,X+1),c(U,X),c(U,_))&&(A=C(c(U,X+1),c(U,X),c(U,_),c(U,_+1)),e(c(U,X-1),c(U,X),A)&&(b=l(U[X],A))<M&&(M=b,s=A,q=_));if(x===(q+1)%r.length)A[0]=(p[0]+s[0])/2,A[1]=(p[1]+s[1])/2,h.push(A),X<q?(v(L,U,X,q+1),L.push(A),N.push(A),0!==x&&v(N,U,x,U.length),v(N,U,0,X+1)):(0!==X&&v(L,U,X,U.length),v(L,U,0,q+1),L.push(A),N.push(A),v(N,U,x,X+1));else{if(x>q&&(q+=r.length),k=Number.MAX_VALUE,q<x)return n;for(_=x;_<=q;++_)u(c(U,X-1),c(U,X),c(U,_))&&o(c(U,X+1),c(U,X),c(U,_))&&(b=l(c(U,X),c(U,_)))<k&&(k=b,y=_%r.length);X<y?(v(L,U,X,y+1),0!==y&&v(N,U,y,V.length),v(N,U,0,X+1)):(0!==X&&v(L,U,X,V.length),v(L,U,0,y+1),v(N,U,y,X+1))}return L.length<N.length?(E(L,n,t,h,i,a,g),E(N,n,t,h,i,a,g)):(E(N,n,t,h,i,a,g),E(L,n,t,h,i,a,g)),n}return n.push(r),n}function L(r,n){for(var t=0,e=r.length-1;r.length>3&&e>=0;--e)a(c(r,e-1),c(r,e),c(r,e+1),n)&&(r.splice(e%r.length,1),t++);return t}function N(r,n,t){return t=t||0,Math.abs(r-n)<t}
},{}],"xBEe":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../geometry/Vertices"),t=require("../core/Common"),i=require("../body/Body"),a=require("../geometry/Bounds"),o=require("../geometry/Vector"),n=require("../../poly-decomp");e.rectangle=function(e,a,o,n,c){c=c||{};var l={label:"Rectangle Body",position:{x:e,y:a},vertices:r.fromPath("L 0 0 L "+o+" 0 L "+o+" "+n+" L 0 "+n)};if(c.chamfer){var s=c.chamfer;l.vertices=r.chamfer(l.vertices,s.radius,s.quality,s.qualityMin,s.qualityMax),delete c.chamfer}return i.create(t.extend({},l,c))},e.trapezoid=function(e,a,o,n,c,l){l=l||{};var s,u=o*(c*=.5),v=u+(1-2*c)*o,d=v+u;s=c<.5?"L 0 0 L "+u+" "+-n+" L "+v+" "+-n+" L "+d+" 0":"L 0 0 L "+v+" "+-n+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:e,y:a},vertices:r.fromPath(s)};if(l.chamfer){var h=l.chamfer;f.vertices=r.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete l.chamfer}return i.create(t.extend({},f,l))},e.circle=function(r,i,a,o,n){o=o||{};var c={label:"Circle Body",circleRadius:a};n=n||25;var l=Math.ceil(Math.max(10,Math.min(n,a)));return l%2==1&&(l+=1),e.polygon(r,i,l,a,t.extend({},c,o))},e.polygon=function(a,o,n,c,l){if(l=l||{},n<3)return e.circle(a,o,c,l);for(var s=2*Math.PI/n,u="",v=.5*s,d=0;d<n;d+=1){var f=v+d*s,h=Math.cos(f)*c,m=Math.sin(f)*c;u+="L "+h.toFixed(3)+" "+m.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:a,y:o},vertices:r.fromPath(u)};if(l.chamfer){var p=l.chamfer;y.vertices=r.chamfer(y.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete l.chamfer}return i.create(t.extend({},y,l))},e.fromVertices=function(e,c,l,s,u,v,d){var f,h,m,y,p,x,g,q,L;for(s=s||{},h=[],u=void 0!==u&&u,v=void 0!==v?v:.01,d=void 0!==d?d:10,n||t.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),t.isArray(l[0])||(l=[l]),q=0;q<l.length;q+=1)if(y=l[q],(m=r.isConvex(y))||!n)y=m?r.clockwiseSort(y):r.hull(y),h.push({position:{x:e,y:c},vertices:y});else{var M=y.map(function(e){return[e.x,e.y]});n.makeCCW(M),!1!==v&&n.removeCollinearPoints(M,v);var b=n.quickDecomp(M);for(p=0;p<b.length;p++){var B=b[p].map(function(e){return{x:e[0],y:e[1]}});d>0&&r.area(B)<d||h.push({position:r.centre(B),vertices:B})}}for(p=0;p<h.length;p++)h[p]=i.create(t.extend(h[p],s));if(u)for(p=0;p<h.length;p++){var C=h[p];for(x=p+1;x<h.length;x++){var P=h[x];if(a.overlaps(C.bounds,P.bounds)){var k=C.vertices,V=P.vertices;for(g=0;g<C.vertices.length;g++)for(L=0;L<P.vertices.length;L++){var F=o.magnitudeSquared(o.sub(k[(g+1)%k.length],V[L])),I=o.magnitudeSquared(o.sub(k[g],V[(L+1)%V.length]));F<5&&I<5&&(k[g].isInternal=!0,V[L].isInternal=!0)}}}}return h.length>1?(f=i.create(t.extend({parts:h.slice(0)},s)),i.setPosition(f,{x:e,y:c}),f):h[0]};
},{"../geometry/Vertices":"D80X","../core/Common":"38z7","../body/Body":"e/rv","../geometry/Bounds":"y1JA","../geometry/Vector":"L3fN","../../poly-decomp":"irpP"}],"txh8":[function(require,module,exports) {
var e={};module.exports=e;var o=require("../core/Events"),t=require("../core/Common"),i=require("./Body");e.create=function(e){return t.extend({id:t.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},e.setModified=function(o,t,i,n){if(o.isModified=t,i&&o.parent&&e.setModified(o.parent,t,i,n),n)for(var r=0;r<o.composites.length;r++){var s=o.composites[r];e.setModified(s,t,i,n)}},e.add=function(i,n){var r=[].concat(n);o.trigger(i,"beforeAdd",{object:n});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":if(a.parent!==a){t.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,a);break;case"constraint":e.addConstraint(i,a);break;case"composite":e.addComposite(i,a);break;case"mouseConstraint":e.addConstraint(i,a.constraint)}}return o.trigger(i,"afterAdd",{object:n}),i},e.remove=function(t,i,n){var r=[].concat(i);o.trigger(t,"beforeRemove",{object:i});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":e.removeBody(t,a,n);break;case"constraint":e.removeConstraint(t,a,n);break;case"composite":e.removeComposite(t,a,n);break;case"mouseConstraint":e.removeConstraint(t,a.constraint)}}return o.trigger(t,"afterRemove",{object:i}),t},e.addComposite=function(o,t){return o.composites.push(t),t.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,t,i){var n=o.composites.indexOf(t);if(-1!==n&&(e.removeCompositeAt(o,n),e.setModified(o,!0,!0,!1)),i)for(var r=0;r<o.composites.length;r++)e.removeComposite(o.composites[r],t,!0);return o},e.removeCompositeAt=function(o,t){return o.composites.splice(t,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,t){return o.bodies.push(t),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,t,i){var n=o.bodies.indexOf(t);if(-1!==n&&(e.removeBodyAt(o,n),e.setModified(o,!0,!0,!1)),i)for(var r=0;r<o.composites.length;r++)e.removeBody(o.composites[r],t,!0);return o},e.removeBodyAt=function(o,t){return o.bodies.splice(t,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,t){return o.constraints.push(t),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,t,i){var n=o.constraints.indexOf(t);if(-1!==n&&e.removeConstraintAt(o,n),i)for(var r=0;r<o.composites.length;r++)e.removeConstraint(o.composites[r],t,!0);return o},e.removeConstraintAt=function(o,t){return o.constraints.splice(t,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,t,i){if(i)for(var n=0;n<o.composites.length;n++)e.clear(o.composites[n],t,!0);return t?o.bodies=o.bodies.filter(function(e){return e.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){for(var t=[].concat(o.bodies),i=0;i<o.composites.length;i++)t=t.concat(e.allBodies(o.composites[i]));return t},e.allConstraints=function(o){for(var t=[].concat(o.constraints),i=0;i<o.composites.length;i++)t=t.concat(e.allConstraints(o.composites[i]));return t},e.allComposites=function(o){for(var t=[].concat(o.composites),i=0;i<o.composites.length;i++)t=t.concat(e.allComposites(o.composites[i]));return t},e.get=function(o,t,i){var n,r;switch(i){case"body":n=e.allBodies(o);break;case"constraint":n=e.allConstraints(o);break;case"composite":n=e.allComposites(o).concat(o)}return n?0===(r=n.filter(function(e){return e.id.toString()===t.toString()})).length?null:r[0]:null},e.move=function(o,t,i){return e.remove(o,t),e.add(i,t),o},e.rebase=function(o){for(var i=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),n=0;n<i.length;n++)i[n].id=t.nextId();return e.setModified(o,!0,!0,!1),o},e.translate=function(o,t,n){for(var r=n?e.allBodies(o):o.bodies,s=0;s<r.length;s++)i.translate(r[s],t);return e.setModified(o,!0,!0,!1),o},e.rotate=function(o,t,n,r){for(var s=Math.cos(t),a=Math.sin(t),c=r?e.allBodies(o):o.bodies,d=0;d<c.length;d++){var f=c[d],l=f.position.x-n.x,u=f.position.y-n.y;i.setPosition(f,{x:n.x+(l*s-u*a),y:n.y+(l*a+u*s)}),i.rotate(f,t)}return e.setModified(o,!0,!0,!1),o},e.scale=function(o,t,n,r,s){for(var a=s?e.allBodies(o):o.bodies,c=0;c<a.length;c++){var d=a[c],f=d.position.x-r.x,l=d.position.y-r.y;i.setPosition(d,{x:r.x+f*t,y:r.y+l*n}),i.scale(d,t,n)}return e.setModified(o,!0,!0,!1),o},e.bounds=function(e){for(var o=Matter.Composite.allBodies(e),t=[],i=0;i<o.length;i+=1){var n=o[i];t.push(n.bounds.min,n.bounds.max)}return Matter.Bounds.create(t)};
},{"../core/Events":"qSml","../core/Common":"38z7","./Body":"e/rv"}],"tbz2":[function(require,module,exports) {
var e={};module.exports=e;var n=require("../geometry/Vertices"),i=require("../geometry/Vector"),t=require("../core/Sleeping"),o=require("../geometry/Bounds"),s=require("../geometry/Axes"),a=require("../core/Common");e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(e){var n=e;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var t=n.bodyA?i.add(n.bodyA.position,n.pointA):n.pointA,o=n.bodyB?i.add(n.bodyB.position,n.pointB):n.pointB,s=i.magnitude(i.sub(t,o));n.length=void 0!==n.length?n.length:s,n.id=n.id||a.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var r={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===n.length&&n.stiffness>.1?(r.type="pin",r.anchors=!1):n.stiffness<.9&&(r.type="spring"),n.render=a.extend(r,n.render),n},e.preSolveAll=function(e){for(var n=0;n<e.length;n+=1){var i=e[n],t=i.constraintImpulse;i.isStatic||0===t.x&&0===t.y&&0===t.angle||(i.position.x+=t.x,i.position.y+=t.y,i.angle+=t.angle)}},e.solveAll=function(n,i){for(var t=0;t<n.length;t+=1){var o=n[t],s=!o.bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(s||a)&&e.solve(n[t],i)}for(t=0;t<n.length;t+=1)s=!(o=n[t]).bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic,s||a||e.solve(n[t],i)},e.solve=function(n,t){var o=n.bodyA,s=n.bodyB,a=n.pointA,r=n.pointB;if(o||s){o&&!o.isStatic&&(i.rotate(a,o.angle-n.angleA,a),n.angleA=o.angle),s&&!s.isStatic&&(i.rotate(r,s.angle-n.angleB,r),n.angleB=s.angle);var l=a,p=r;if(o&&(l=i.add(o.position,a)),s&&(p=i.add(s.position,r)),l&&p){var g=i.sub(l,p),d=i.magnitude(g);d<e._minLength&&(d=e._minLength);var y,v,f,u,c,m=(d-n.length)/d,b=n.stiffness<1?n.stiffness*t:n.stiffness,x=i.mult(g,m*b),A=(o?o.inverseMass:0)+(s?s.inverseMass:0),B=A+((o?o.inverseInertia:0)+(s?s.inverseInertia:0));if(n.damping){var S=i.create();f=i.div(g,d),c=i.sub(s&&i.sub(s.position,s.positionPrev)||S,o&&i.sub(o.position,o.positionPrev)||S),u=i.dot(f,c)}o&&!o.isStatic&&(v=o.inverseMass/A,o.constraintImpulse.x-=x.x*v,o.constraintImpulse.y-=x.y*v,o.position.x-=x.x*v,o.position.y-=x.y*v,n.damping&&(o.positionPrev.x-=n.damping*f.x*u*v,o.positionPrev.y-=n.damping*f.y*u*v),y=i.cross(a,x)/B*e._torqueDampen*o.inverseInertia*(1-n.angularStiffness),o.constraintImpulse.angle-=y,o.angle-=y),s&&!s.isStatic&&(v=s.inverseMass/A,s.constraintImpulse.x+=x.x*v,s.constraintImpulse.y+=x.y*v,s.position.x+=x.x*v,s.position.y+=x.y*v,n.damping&&(s.positionPrev.x+=n.damping*f.x*u*v,s.positionPrev.y+=n.damping*f.y*u*v),y=i.cross(r,x)/B*e._torqueDampen*s.inverseInertia*(1-n.angularStiffness),s.constraintImpulse.angle+=y,s.angle+=y)}}},e.postSolveAll=function(a){for(var r=0;r<a.length;r++){var l=a[r],p=l.constraintImpulse;if(!(l.isStatic||0===p.x&&0===p.y&&0===p.angle)){t.set(l,!1);for(var g=0;g<l.parts.length;g++){var d=l.parts[g];n.translate(d.vertices,p),g>0&&(d.position.x+=p.x,d.position.y+=p.y),0!==p.angle&&(n.rotate(d.vertices,p.angle,l.position),s.rotate(d.axes,p.angle),g>0&&i.rotateAbout(d.position,p.angle,l.position,d.position)),o.update(d.bounds,d.vertices,l.velocity)}p.angle*=e._warming,p.x*=e._warming,p.y*=e._warming}}};
},{"../geometry/Vertices":"D80X","../geometry/Vector":"L3fN","../core/Sleeping":"Qv2P","../geometry/Bounds":"y1JA","../geometry/Axes":"FLqH","../core/Common":"38z7"}],"htOB":[function(require,module,exports) {
var n={};module.exports=n;var e=require("../body/Composite"),r=require("../constraint/Constraint"),o=require("../core/Common"),t=require("../body/Body"),a=require("./Bodies");n.stack=function(n,r,o,a,d,i,s){for(var c,u=e.create({label:"Stack"}),y=n,b=r,l=0,x=0;x<a;x++){for(var f=0,m=0;m<o;m++){var B=s(y,b,m,x,c,l);if(B){var C=B.bounds.max.y-B.bounds.min.y,p=B.bounds.max.x-B.bounds.min.x;C>f&&(f=C),t.translate(B,{x:.5*p,y:.5*C}),y=B.bounds.max.x+d,e.addBody(u,B),c=B,l+=1}else y+=d}b+=f+i,y=n}return u},n.chain=function(n,t,a,d,i,s){for(var c=n.bodies,u=1;u<c.length;u++){var y=c[u-1],b=c[u],l=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x,f=b.bounds.max.y-b.bounds.min.y,m={bodyA:y,pointA:{x:x*t,y:l*a},bodyB:b,pointB:{x:(b.bounds.max.x-b.bounds.min.x)*d,y:f*i}},B=o.extend(m,s);e.addConstraint(n,r.create(B))}return n.label+=" Chain",n},n.mesh=function(n,t,a,d,i){var s,c,u,y,b,l=n.bodies;for(s=0;s<a;s++){for(c=1;c<t;c++)u=l[c-1+s*t],y=l[c+s*t],e.addConstraint(n,r.create(o.extend({bodyA:u,bodyB:y},i)));if(s>0)for(c=0;c<t;c++)u=l[c+(s-1)*t],y=l[c+s*t],e.addConstraint(n,r.create(o.extend({bodyA:u,bodyB:y},i))),d&&c>0&&(b=l[c-1+(s-1)*t],e.addConstraint(n,r.create(o.extend({bodyA:b,bodyB:y},i)))),d&&c<t-1&&(b=l[c+1+(s-1)*t],e.addConstraint(n,r.create(o.extend({bodyA:b,bodyB:y},i))))}return n.label+=" Mesh",n},n.pyramid=function(e,r,o,a,d,i,s){return n.stack(e,r,o,a,d,i,function(n,r,i,c,u,y){var b=Math.min(a,Math.ceil(o/2)),l=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>b||i<(c=b-c)||i>o-1-c))return 1===y&&t.translate(u,{x:(i+(o%2==1?1:-1))*l,y:0}),s(e+(u?i*l:0)+i*d,r,i,c,u,y)})},n.newtonsCradle=function(n,o,t,d,i){for(var s=e.create({label:"Newtons Cradle"}),c=0;c<t;c++){var u=a.circle(n+c*(1.9*d),o+i,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=r.create({pointA:{x:n+c*(1.9*d),y:o},bodyB:u});e.addBody(s,u),e.addConstraint(s,y)}return s},n.car=function(n,o,d,i,s){var c=t.nextGroup(!0),u=.5*-d+20,y=.5*d-20,b=e.create({label:"Car"}),l=a.rectangle(n,o,d,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),x=a.circle(n+u,o+0,s,{collisionFilter:{group:c},friction:.8}),f=a.circle(n+y,o+0,s,{collisionFilter:{group:c},friction:.8}),m=r.create({bodyB:l,pointB:{x:u,y:0},bodyA:x,stiffness:1,length:0}),B=r.create({bodyB:l,pointB:{x:y,y:0},bodyA:f,stiffness:1,length:0});return e.addBody(b,l),e.addBody(b,x),e.addBody(b,f),e.addConstraint(b,m),e.addConstraint(b,B),b},n.softBody=function(e,r,t,d,i,s,c,u,y,b){y=o.extend({inertia:1/0},y),b=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var l=n.stack(e,r,t,d,i,s,function(n,e){return a.circle(n,e,u,y)});return n.mesh(l,t,d,c,b),l.label="Soft Body",l};
},{"../body/Composite":"txh8","../constraint/Constraint":"tbz2","../core/Common":"38z7","../body/Body":"e/rv","./Bodies":"xBEe"}],"8Ije":[function(require,module,exports) {
var t={setBounce:function(t){return this.body.restitution=t,this}};module.exports=t;
},{}],"LN38":[function(require,module,exports) {
var i={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var o=0;if(Array.isArray(i))for(var t=0;t<i.length;t++)o|=i[t];else o=i;return this.body.collisionFilter.mask=o,this}};module.exports=i;
},{}],"ZNed":[function(require,module,exports) {
var t=require("../lib/body/Body"),i={applyForce:function(i){return this._tempVec2.set(this.body.position.x,this.body.position.y),t.applyForce(this.body,this._tempVec2,i),this},applyForceFrom:function(i,s){return t.applyForce(this.body,i,s),this},thrust:function(i){var s=this.body.angle;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(i){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(i){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(i){var s=this.body.angle-Math.PI;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};module.exports=i;
},{"../lib/body/Body":"e/rv"}],"6xjW":[function(require,module,exports) {
var i={setFriction:function(i,t,o){return this.body.friction=i,void 0!==t&&(this.body.frictionAir=t),void 0!==o&&(this.body.frictionStatic=o),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};module.exports=i;
},{}],"Z3Ox":[function(require,module,exports) {
var r={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};module.exports=r;
},{}],"96T5":[function(require,module,exports) {
var t=require("../lib/body/Body"),e=require("../../../math/Vector2"),s={setMass:function(e){return t.setMass(this.body,e),this},setDensity:function(e){return t.setDensity(this.body,e),this},centerOfMass:{get:function(){return new e(this.body.render.sprite.xOffset*this.width,this.body.render.sprite.yOffset*this.height)}}};module.exports=s;
},{"../lib/body/Body":"e/rv","../../../math/Vector2":"2OLl"}],"hb0z":[function(require,module,exports) {
var t=require("../lib/body/Body"),i={setStatic:function(i){return t.setStatic(this.body,i),this},isStatic:function(){return this.body.isStatic}};module.exports=i;
},{"../lib/body/Body":"e/rv"}],"25kZ":[function(require,module,exports) {
var s={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};module.exports=s;
},{}],"McOg":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),r=require("./lib/body/Body"),t=require("./lib/geometry/Bounds"),i=require("./lib/core/Common"),s=require("../../utils/object/GetFastValue"),n=require("./lib/geometry/Vector"),o=require("./lib/geometry/Vertices"),c={parseBody:function(e,t,n,o,c){for(var l=s(c,"fixtures",[]),u=[],a=0;a<l.length;a++)for(var d=this.parseFixture(l[a]),v=0;v<d.length;v++)u.push(d[v]);var f=i.extend({},!1,c);delete f.fixtures,delete f.type;var p=r.create(f);return r.setParts(p,u),p.render.sprite.xOffset=p.position.x/n,p.render.sprite.yOffset=p.position.y/o,r.setPosition(p,{x:e,y:t}),p},parseFixture:function(r){var t,n=i.extend({},!1,r);if(delete n.circle,delete n.vertices,r.circle){var o=s(r.circle,"x"),c=s(r.circle,"y"),l=s(r.circle,"radius");t=[e.circle(o,c,l,n)]}else r.vertices&&(t=this.parseVertices(r.vertices,n));return t},parseVertices:function(e,s){var c,l,u,a,d,v=[];for(s=s||{},a=0;a<e.length;a+=1)v.push(r.create(i.extend({position:o.centre(e[a]),vertices:e[a]},s)));for(c=0;c<v.length;c++){var f=v[c];for(l=c+1;l<v.length;l++){var p=v[l];if(t.overlaps(f.bounds,p.bounds)){var g=f.vertices,h=p.vertices;for(u=0;u<f.vertices.length;u++)for(d=0;d<p.vertices.length;d++){var b=n.magnitudeSquared(n.sub(g[(u+1)%g.length],h[d])),x=n.magnitudeSquared(n.sub(g[u],h[(d+1)%h.length]));b<5&&x<5&&(g[u].isInternal=!0,h[d].isInternal=!0)}}}}return v}};module.exports=c;
},{"./lib/factory/Bodies":"xBEe","./lib/body/Body":"e/rv","./lib/geometry/Bounds":"y1JA","./lib/core/Common":"38z7","../../utils/object/GetFastValue":"SgIk","./lib/geometry/Vector":"L3fN","./lib/geometry/Vertices":"D80X"}],"aq4g":[function(require,module,exports) {
var e=require("../lib/factory/Bodies"),t=require("../lib/body/Body"),i=require("../../../utils/object/GetFastValue"),r=require("../PhysicsEditorParser"),s={setRectangle:function(e,t,i){return this.setBody({type:"rectangle",width:e,height:t},i)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,i){return this.setBody({type:"polygon",sides:t,radius:e},i)},setTrapezoid:function(e,t,i,r){return this.setBody({type:"trapezoid",width:e,height:t,slope:i},r)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body),this.body=e,this.body.gameObject=this;var i=this;return e.destroy=function(){i.world.remove(i.body),i.body.gameObject=null},t&&this.world.add(e),this._originComponent&&this.setOrigin(e.render.sprite.xOffset,e.render.sprite.yOffset),this},setBody:function(s,o){if(!s)return this;var a;"string"==typeof s&&(s={type:s});var d=i(s,"type","rectangle"),n=i(s,"x",this._tempVec2.x),h=i(s,"y",this._tempVec2.y),c=i(s,"width",this.width),y=i(s,"height",this.height);switch(d){case"rectangle":a=e.rectangle(n,h,c,y,o);break;case"circle":var l=i(s,"radius",Math.max(c,y)/2),u=i(s,"maxSides",25);a=e.circle(n,h,l,o,u);break;case"trapezoid":var p=i(s,"slope",.5);a=e.trapezoid(n,h,c,y,p,o);break;case"polygon":var g=i(s,"sides",5),b=i(s,"radius",Math.max(c,y)/2);a=e.polygon(n,h,g,b,o);break;case"fromVertices":case"fromVerts":var f=i(s,"verts",[]);if(this.body)t.setVertices(this.body,f),a=this.body;else{var m=i(s,"flagInternal",!1),v=i(s,"removeCollinear",.01),B=i(s,"minimumArea",10);a=e.fromVertices(n,h,f,o,m,v,B)}break;case"fromPhysicsEditor":a=r.parseBody(n,h,c,y,s)}return this.setExistingBody(a,s.addToWorld),this}};module.exports=s;
},{"../lib/factory/Bodies":"xBEe","../lib/body/Body":"e/rv","../../../utils/object/GetFastValue":"SgIk","../PhysicsEditorParser":"McOg"}],"iyE8":[function(require,module,exports) {
var e=require("../lib/core/Events"),t={setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(t){if(t){var s=this.world;e.on(this.body,"sleepStart",function(e){s.emit("sleepstart",e,this)})}else e.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var s=this.world;e.on(this.body,"sleepEnd",function(e){s.emit("sleepend",e,this)})}else e.off(this.body,"sleepEnd");return this}};module.exports=t;
},{"../lib/core/Events":"qSml"}],"Hbfg":[function(require,module,exports) {
var t=require("../lib/body/Body"),e=require("../../../math/const"),i=require("../../../math/angle/Wrap"),s=require("../../../math/angle/WrapDegrees"),n=4,o={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),t.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),t.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,0===this._scaleX?this.renderFlags&=~n:this.renderFlags|=n,t.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,0===this._scaleY?this.renderFlags&=~n:this.renderFlags|=n,t.scale(this.body,this._scaleX,e)}},angle:{get:function(){return s(this.body.angle*e.RAD_TO_DEG)},set:function(t){this.rotation=s(t)*e.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=i(e),t.setAngle(this.body,this._rotation)}},setPosition:function(e,i){return void 0===e&&(e=0),void 0===i&&(i=e),this._tempVec2.set(e,i),t.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return void 0===e&&(e=0),this._rotation=i(e),t.setAngle(this.body,e),this},setFixedRotation:function(){return t.setInertia(this.body,1/0),this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,t.setAngle(this.body,this.rotation),this},setScale:function(e,i,s){return void 0===e&&(e=1),void 0===i&&(i=e),this._scaleX=e,this._scaleY=i,t.scale(this.body,e,i,s),this}};module.exports=o;
},{"../lib/body/Body":"e/rv","../../../math/const":"fj5M","../../../math/angle/Wrap":"mxrD","../../../math/angle/WrapDegrees":"JMSS"}],"IKew":[function(require,module,exports) {
var t=require("../lib/body/Body"),e={setAngularVelocity:function(e){return t.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),t.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),t.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,i){return this._tempVec2.set(e,i),t.setVelocity(this.body,this._tempVec2),this}};module.exports=e;
},{"../lib/body/Body":"e/rv"}],"TPHl":[function(require,module,exports) {
module.exports={Bounce:require("./Bounce"),Collision:require("./Collision"),Force:require("./Force"),Friction:require("./Friction"),Gravity:require("./Gravity"),Mass:require("./Mass"),Static:require("./Static"),Sensor:require("./Sensor"),SetBody:require("./SetBody"),Sleep:require("./Sleep"),Transform:require("./Transform"),Velocity:require("./Velocity")};
},{"./Bounce":"8Ije","./Collision":"LN38","./Force":"ZNed","./Friction":"6xjW","./Gravity":"Z3Ox","./Mass":"96T5","./Static":"hb0z","./Sensor":"25kZ","./SetBody":"aq4g","./Sleep":"iyE8","./Transform":"Hbfg","./Velocity":"IKew"}],"aksV":[function(require,module,exports) {
var e=require("./components"),t=require("../../utils/object/GetFastValue"),o=require("../../math/Vector2");function r(e){return!!e.get&&"function"==typeof e.get||!!e.set&&"function"==typeof e.set}var n=function(n,i,c){void 0===c&&(c={});var a=i.x,s=i.y;i.body={position:{x:a,y:s}},[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity].forEach(function(e){for(var t in e)r(e[t])?Object.defineProperty(i,t,{get:e[t].get,set:e[t].set}):Object.defineProperty(i,t,{value:e[t]})}),i.world=n,i._tempVec2=new o(a,s);var u=t(c,"shape",null);return u||(u="rectangle"),i.setBody(u,c),i};module.exports=n;
},{"./components":"TPHl","../../utils/object/GetFastValue":"SgIk","../../math/Vector2":"2OLl"}],"1PZr":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),t=require("../../gameobjects/GameObject"),s=require("../../utils/object/GetFastValue"),r=require("../../gameobjects/image/Image"),n=require("../../gameobjects/components/Pipeline"),o=require("../../math/Vector2"),a=new e({Extends:r,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,n],initialize:function(e,i,r,n,a,l){t.call(this,e.scene,"Image"),this.setTexture(n,a),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new o(i,r);var c=s(l,"shape",null);c?this.setBody(c,l):this.setRectangle(this.width,this.height,l),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}});module.exports=a;
},{"../../utils/Class":"f5Xp","./components":"TPHl","../../gameobjects/GameObject":"HPsp","../../utils/object/GetFastValue":"SgIk","../../gameobjects/image/Image":"hn+d","../../gameobjects/components/Pipeline":"Emjx","../../math/Vector2":"2OLl"}],"34tm":[function(require,module,exports) {
var e=require("../../gameobjects/components/Animation"),i=require("../../utils/Class"),t=require("./components"),s=require("../../gameobjects/GameObject"),r=require("../../utils/object/GetFastValue"),n=require("../../gameobjects/components/Pipeline"),o=require("../../gameobjects/sprite/Sprite"),a=require("../../math/Vector2"),c=new i({Extends:o,Mixins:[t.Bounce,t.Collision,t.Force,t.Friction,t.Gravity,t.Mass,t.Sensor,t.SetBody,t.Sleep,t.Static,t.Transform,t.Velocity,n],initialize:function(i,t,n,o,c,h){s.call(this,i.scene,"Image"),this.anims=new e(this),this.setTexture(o,c),this.setSizeToFrame(),this.setOrigin(),this.world=i,this._tempVec2=new a(t,n);var l=r(h,"shape",null);l?this.setBody(l,h):this.setRectangle(this.width,this.height,h),this.setPosition(t,n),this.initPipeline("TextureTintPipeline")}});module.exports=c;
},{"../../gameobjects/components/Animation":"RYPF","../../utils/Class":"f5Xp","./components":"TPHl","../../gameobjects/GameObject":"HPsp","../../utils/object/GetFastValue":"SgIk","../../gameobjects/components/Pipeline":"Emjx","../../gameobjects/sprite/Sprite":"X5p1","../../math/Vector2":"2OLl"}],"dFYW":[function(require,module,exports) {
var t=require("./lib/factory/Bodies"),e=require("./lib/body/Body"),i=require("../../utils/Class"),o=require("./components"),s=require("../../utils/object/GetFastValue"),r=require("../../utils/object/HasValue"),l=require("./lib/geometry/Vertices"),d=new i({Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(t,e,i){this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var o=s(i,"body",null),r=s(i,"addToWorld",!0);if(o)this.setBody(o,r);else{var l=e.getCollisionGroup();s(l,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(e){void 0===e&&(e={}),r(e,"isStatic")||(e.isStatic=!0),r(e,"addToWorld")||(e.addToWorld=!0);var i=this.tile.getBounds(),o=i.x+i.width/2,s=i.y+i.height/2,l=t.rectangle(o,s,i.width,i.height,e);return this.setBody(l,e.addToWorld),this},setFromTileCollision:function(i){void 0===i&&(i={}),r(i,"isStatic")||(i.isStatic=!0),r(i,"addToWorld")||(i.addToWorld=!0);for(var o=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,a=this.tile.getLeft(),h=this.tile.getTop(),n=this.tile.getCollisionGroup(),y=s(n,"objects",[]),c=[],u=0;u<y.length;u++){var g=y[u],m=a+g.x*o,p=h+g.y*d,v=g.width*o,b=g.height*d,f=null;if(g.rectangle)f=t.rectangle(m+v/2,p+b/2,v,b,i);else if(g.ellipse)f=t.circle(m+v/2,p+b/2,v/2,i);else if(g.polygon||g.polyline){var B=(g.polygon?g.polygon:g.polyline).map(function(t){return{x:t.x*o,y:t.y*d}}),T=l.create(B);if(l.isConvex(B)){var x=l.centre(T);m+=x.x,p+=x.y}f=t.fromVertices(m,p,T,i)}f&&c.push(f)}return 1===c.length?this.setBody(c[0],i.addToWorld):c.length>1&&(i.parts=c,this.setBody(e.create(i),i.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0}});module.exports=d;
},{"./lib/factory/Bodies":"xBEe","./lib/body/Body":"e/rv","../../utils/Class":"f5Xp","./components":"TPHl","../../utils/object/GetFastValue":"SgIk","../../utils/object/HasValue":"tWBw","./lib/geometry/Vertices":"D80X"}],"XmYu":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../geometry/Vertices"),t=require("../geometry/Vector");!function(){e.collides=function(e,i,o){var s,d,l,p,x=!1;if(o){var v=e.parent,u=i.parent,c=v.speed*v.speed+v.angularSpeed*v.angularSpeed+u.speed*u.speed+u.angularSpeed*u.angularSpeed;x=o&&o.collided&&c<.2,p=o}else p={collided:!1,bodyA:e,bodyB:i};if(o&&x){var y=p.axisBody,m=y===e?i:e,g=[y.axes[o.axisNumber]];if(l=a(y.vertices,m.vertices,g),p.reused=!0,l.overlap<=0)return p.collided=!1,p}else{if((s=a(e.vertices,i.vertices,e.axes)).overlap<=0)return p.collided=!1,p;if((d=a(i.vertices,e.vertices,i.axes)).overlap<=0)return p.collided=!1,p;s.overlap<d.overlap?(l=s,p.axisBody=e):(l=d,p.axisBody=i),p.axisNumber=l.axisNumber}p.bodyA=e.id<i.id?e:i,p.bodyB=e.id<i.id?i:e,p.collided=!0,p.depth=l.overlap,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent,e=p.bodyA,i=p.bodyB,t.dot(l.axis,t.sub(i.position,e.position))<0?p.normal={x:l.axis.x,y:l.axis.y}:p.normal={x:-l.axis.x,y:-l.axis.y},p.tangent=t.perp(p.normal),p.penetration=p.penetration||{},p.penetration.x=p.normal.x*p.depth,p.penetration.y=p.normal.y*p.depth;var h=n(e,i,p.normal),b=[];if(r.contains(e.vertices,h[0])&&b.push(h[0]),r.contains(e.vertices,h[1])&&b.push(h[1]),b.length<2){var f=n(i,e,t.neg(p.normal));r.contains(i.vertices,f[0])&&b.push(f[0]),b.length<2&&r.contains(i.vertices,f[1])&&b.push(f[1])}return b.length<1&&(b=[h[0]]),p.supports=b,p};var a=function(e,r,a){for(var n,o,s=t._temp[0],d=t._temp[1],l={overlap:Number.MAX_VALUE},p=0;p<a.length;p++){if(o=a[p],i(s,e,o),i(d,r,o),(n=Math.min(s.max-d.min,d.max-s.min))<=0)return l.overlap=n,l;n<l.overlap&&(l.overlap=n,l.axis=o,l.axisNumber=p)}return l},i=function(e,r,a){for(var i=t.dot(r[0],a),n=i,o=1;o<r.length;o+=1){var s=t.dot(r[o],a);s>n?n=s:s<i&&(i=s)}e.min=i,e.max=n},n=function(e,r,a){for(var i,n,o,s,d=Number.MAX_VALUE,l=t._temp[0],p=r.vertices,x=e.position,v=0;v<p.length;v++)n=p[v],l.x=n.x-x.x,l.y=n.y-x.y,(i=-t.dot(a,l))<d&&(d=i,o=n);return n=p[o.index-1>=0?o.index-1:p.length-1],l.x=n.x-x.x,l.y=n.y-x.y,d=-t.dot(a,l),s=n,n=p[(o.index+1)%p.length],l.x=n.x-x.x,l.y=n.y-x.y,(i=-t.dot(a,l))<d&&(s=n),[o,s]}}();
},{"../geometry/Vertices":"D80X","../geometry/Vector":"L3fN"}],"FBss":[function(require,module,exports) {
var t={};module.exports=t,t.create=function(i,e){var n=i.bodyA,s=i.bodyB,o={id:t.id(n,s),bodyA:n,bodyB:s,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||s.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(o,i,e),o},t.update=function(i,e,n){if(i.collision=e,e.collided){var s=e.supports,o=i.activeContacts,a=e.parentA,r=e.parentB;i.inverseMass=a.inverseMass+r.inverseMass,i.friction=Math.min(a.friction,r.friction),i.frictionStatic=Math.max(a.frictionStatic,r.frictionStatic),i.restitution=Math.max(a.restitution,r.restitution),i.slop=Math.max(a.slop,r.slop);for(var c=0;c<s.length;c++)o[c]=s[c].contact;var d=s.length;d<o.length&&(o.length=d),i.separation=e.depth,t.setActive(i,!0,n)}else!0===i.isActive&&t.setActive(i,!1,n)},t.setActive=function(t,i,e){i?(t.isActive=!0,t.timeUpdated=e):(t.isActive=!1,t.activeContacts.length=0)},t.id=function(t,i){return t.id<i.id?"A"+t.id+"B"+i.id:"A"+i.id+"B"+t.id};
},{}],"Zf81":[function(require,module,exports) {
var r={};module.exports=r;var e=require("./SAT"),s=require("./Pair"),o=require("../geometry/Bounds");r.collisions=function(i,a){for(var t=[],l=a.pairs.table,n=a.metrics,u=0;u<i.length;u++){var p=i[u][0],c=i[u][1];if((!p.isStatic&&!p.isSleeping||!c.isStatic&&!c.isSleeping)&&r.canCollide(p.collisionFilter,c.collisionFilter)&&(n.midphaseTests+=1,o.overlaps(p.bounds,c.bounds)))for(var d=p.parts.length>1?1:0;d<p.parts.length;d++)for(var g=p.parts[d],v=c.parts.length>1?1:0;v<c.parts.length;v++){var h=c.parts[v];if(g===p&&h===c||o.overlaps(g.bounds,h.bounds)){var f,m=l[s.id(g,h)];f=m&&m.isActive?m.collision:null;var b=e.collides(g,h,f);n.narrowphaseTests+=1,b.reused&&(n.narrowReuseCount+=1),b.collided&&(t.push(b),n.narrowDetections+=1)}}}return t},r.canCollide=function(r,e){return r.group===e.group&&0!==r.group?r.group>0:0!=(r.mask&e.category)&&0!=(e.mask&r.category)};
},{"./SAT":"XmYu","./Pair":"FBss","../geometry/Bounds":"y1JA"}],"kWHv":[function(require,module,exports) {
var t=require("./lib/geometry/Bounds"),i=require("../../utils/Class"),e=require("./lib/body/Composite"),o=require("./lib/constraint/Constraint"),n=require("./lib/collision/Detector"),s=require("../../utils/object/GetFastValue"),r=require("../../utils/object/Merge"),a=require("./lib/core/Sleeping"),l=require("../../math/Vector2"),u=require("./lib/geometry/Vertices"),p=new i({initialize:function(t,i,e){void 0===e&&(e={});this.scene=t,this.world=i;var n=s(e,"camera",null);n?(this.camera=n,delete e.camera):this.camera=t.sys.cameras.main,this.pointer=null,this.active=!0,this.position=new l,this.constraint=o.create(r(e,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},damping:0,length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on("beforeupdate",this.update,this),t.sys.input.on("pointerdown",this.onDown,this),t.sys.input.on("pointerup",this.onUp,this)},onDown:function(t){this.pointer=t},onUp:function(){this.pointer=null},getBodyPart:function(t,i){for(var e=this.constraint,o=t.parts.length>1?1:0;o<t.parts.length;o++){var n=t.parts[o];if(u.contains(n.vertices,i))return e.bodyB=t,e.pointA.x=i.x,e.pointA.y=i.y,e.pointB.x=i.x-t.position.x,e.pointB.y=i.y-t.position.y,e.angleB=t.angle,a.set(t,!1),!0}return!1},update:function(){if(this.active){var i=this.pointer,o=this.constraint;if(i){var s=this.position;if(this.camera.getWorldPoint(i.x,i.y,s),o.bodyB)a.set(o.bodyB,!1),o.pointA.x=s.x,o.pointA.y=s.y;else for(var r=e.allBodies(this.world.localWorld),l=0;l<r.length;l++){var u=r[l];if(!u.ignorePointer&&t.contains(u.bounds,s)&&n.canCollide(u.collisionFilter,o.collisionFilter)&&this.getBodyPart(u,s))break}}else o.bodyB&&(o.bodyB=null)}},destroy:function(){this.world.removeConstraint(this.constraint),this.constraint=null,this.world.off("beforeupdate",this.update),this.scene.sys.input.off("pointerdown",this.onDown,this),this.scene.sys.input.off("pointerup",this.onUp,this)}});module.exports=p;
},{"./lib/geometry/Bounds":"y1JA","../../utils/Class":"f5Xp","./lib/body/Composite":"txh8","./lib/constraint/Constraint":"tbz2","./lib/collision/Detector":"Zf81","../../utils/object/GetFastValue":"SgIk","../../utils/object/Merge":"1u+y","./lib/core/Sleeping":"Qv2P","../../math/Vector2":"2OLl","./lib/geometry/Vertices":"D80X"}],"xFgm":[function(require,module,exports) {
var r=require("./lib/factory/Bodies"),t=require("../../utils/Class"),n=require("./lib/factory/Composites"),i=require("./lib/constraint/Constraint"),e=require("./MatterGameObject"),o=require("./MatterImage"),s=require("./MatterSprite"),d=require("./MatterTileBody"),a=require("./PointerConstraint"),u=new t({initialize:function(r){this.world=r,this.scene=r.scene,this.sys=r.scene.sys},rectangle:function(t,n,i,e,o){var s=r.rectangle(t,n,i,e,o);return this.world.add(s),s},trapezoid:function(t,n,i,e,o,s){var d=r.trapezoid(t,n,i,e,o,s);return this.world.add(d),d},circle:function(t,n,i,e,o){var s=r.circle(t,n,i,e,o);return this.world.add(s),s},polygon:function(t,n,i,e,o){var s=r.polygon(t,n,i,e,o);return this.world.add(s),s},fromVertices:function(t,n,i,e,o,s,d){var a=r.fromVertices(t,n,i,e,o,s,d);return this.world.add(a),a},imageStack:function(r,t,i,e,s,d,a,u,c){void 0===a&&(a=0),void 0===u&&(u=0),void 0===c&&(c={});var l=this.world,h=this.sys.displayList;c.addToWorld=!1;var f=n.stack(i,e,s,d,a,u,function(n,i){var e=new o(l,n,i,r,t,c);return h.add(e),e.body});return l.add(f),f},stack:function(r,t,i,e,o,s,d){var a=n.stack(r,t,i,e,o,s,d);return this.world.add(a),a},pyramid:function(r,t,i,e,o,s,d){var a=n.pyramid(r,t,i,e,o,s,d);return this.world.add(a),a},chain:function(r,t,i,e,o,s){return n.chain(r,t,i,e,o,s)},mesh:function(r,t,i,e,o){return n.mesh(r,t,i,e,o)},newtonsCradle:function(r,t,i,e,o){var s=n.newtonsCradle(r,t,i,e,o);return this.world.add(s),s},car:function(r,t,i,e,o){var s=n.car(r,t,i,e,o);return this.world.add(s),s},softBody:function(r,t,i,e,o,s,d,a,u,c){var l=n.softBody(r,t,i,e,o,s,d,a,u,c);return this.world.add(l),l},joint:function(r,t,n,i,e){return this.constraint(r,t,n,i,e)},spring:function(r,t,n,i,e){return this.constraint(r,t,n,i,e)},constraint:function(r,t,n,e,o){void 0===e&&(e=1),void 0===o&&(o={}),o.bodyA="body"===r.type?r:r.body,o.bodyB="body"===t.type?t:t.body,o.length=n,o.stiffness=e;var s=i.create(o);return this.world.add(s),s},worldConstraint:function(r,t,n,e){void 0===n&&(n=1),void 0===e&&(e={}),e.bodyB="body"===r.type?r:r.body,e.length=t,e.stiffness=n;var o=i.create(e);return this.world.add(o),o},mouseSpring:function(r){return this.pointerConstraint(r)},pointerConstraint:function(r){void 0===r&&(r={}),r.hasOwnProperty("render")||(r.render={visible:!1});var t=new a(this.scene,this.world,r);return this.world.add(t.constraint),t},image:function(r,t,n,i,e){var s=new o(this.world,r,t,n,i,e);return this.sys.displayList.add(s),s},tileBody:function(r,t){return new d(this.world,r,t)},sprite:function(r,t,n,i,e){var o=new s(this.world,r,t,n,i,e);return this.sys.displayList.add(o),this.sys.updateList.add(o),o},gameObject:function(r,t){return e(this.world,r,t)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module.exports=u;
},{"./lib/factory/Bodies":"xBEe","../../utils/Class":"f5Xp","./lib/factory/Composites":"htOB","./lib/constraint/Constraint":"tbz2","./MatterGameObject":"aksV","./MatterImage":"1PZr","./MatterSprite":"34tm","./MatterTileBody":"dFYW","./PointerConstraint":"kWHv"}],"X2eJ":[function(require,module,exports) {
var e={};module.exports=e;var n=require("./Common");e._registry={},e.register=function(r){if(e.isPlugin(r)||n.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var i=e._registry[r.name],t=e.versionParse(r.version).number,s=e.versionParse(i.version).number;t>s?(n.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(r)),e._registry[r.name]=r):t<s?n.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(r)):r!==i&&n.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(n){return e._registry[e.dependencyParse(n).name]},e.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},e.isPlugin=function(e){return e&&e.name&&e.version&&e.install},e.isUsed=function(e,n){return e.used.indexOf(n)>-1},e.isFor=function(n,r){var i=n.for&&e.dependencyParse(n.for);return!n.for||r.name===i.name&&e.versionSatisfies(r.version,i.range)},e.use=function(r,i){if(r.uses=(r.uses||[]).concat(i||[]),0!==r.uses.length){for(var t=e.dependencies(r),s=n.topologicalSort(t),a=[],o=0;o<s.length;o+=1)if(s[o]!==r.name){var u=e.resolve(s[o]);u?e.isUsed(r,u.name)||(e.isFor(u,r)||(n.warn("Plugin.use:",e.toString(u),"is for",u.for,"but installed on",e.toString(r)+"."),u._warned=!0),u.install?u.install(r):(n.warn("Plugin.use:",e.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(a.push(" "+e.toString(u)),delete u._warned):a.push(" "+e.toString(u)),r.used.push(u.name)):a.push(" "+s[o])}a.length>0&&!u.silent&&n.info(a.join("  "))}else n.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.")},e.dependencies=function(r,i){var t=e.dependencyParse(r),s=t.name;if(!(s in(i=i||{}))){r=e.resolve(r)||r,i[s]=n.map(r.uses||[],function(i){e.isPlugin(i)&&e.register(i);var s=e.dependencyParse(i),a=e.resolve(i);return a&&!e.versionSatisfies(a.version,s.range)?(n.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(s),"used by",e.toString(t)+"."),a._warned=!0,r._warned=!0):a||(n.warn("Plugin.dependencies:",e.toString(i),"used by",e.toString(t),"could not be resolved."),r._warned=!0),s.name});for(var a=0;a<i[s].length;a+=1)e.dependencies(i[s][a],i);return i}},e.dependencyParse=function(e){return n.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||n.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},e.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||n.warn("Plugin.versionParse:",e,"is not a valid version or range.");var r=e.split("-");e=r[0];var i=isNaN(Number(e[0])),t=i?e.substr(1):e,s=n.map(t.split("."),function(e){return Number(e)});return{isRange:i,version:t,range:e,operator:i?e[0]:"",parts:s,prerelease:r[1],number:1e8*s[0]+1e4*s[1]+s[2]}},e.versionSatisfies=function(n,r){r=r||"*";var i=e.versionParse(r),t=i.parts,s=e.versionParse(n),a=s.parts;if(i.isRange){if("*"===i.operator||"*"===n)return!0;if("~"===i.operator)return a[0]===t[0]&&a[1]===t[1]&&a[2]>=t[2];if("^"===i.operator)return t[0]>0?a[0]===t[0]&&s.number>=i.number:t[1]>0?a[1]===t[1]&&a[2]>=t[2]:a[2]===t[2]}return n===r||"*"===n};
},{"./Common":"38z7"}],"zJVO":[function(require,module,exports) {
var e={};module.exports=e;var r=require("./Plugin"),t=require("./Common");e.name="matter-js",e.version="0.13.1",e.uses=[],e.used=[],e.use=function(){r.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,a){return r=r.replace(/^Matter./,""),t.chainPathBefore(e,r,a)},e.after=function(r,a){return r=r.replace(/^Matter./,""),t.chainPathAfter(e,r,a)};
},{"./Plugin":"X2eJ","./Common":"38z7"}],"pW0O":[function(require,module,exports) {
var e={};module.exports=e;var r=require("./Composite"),o=require("../constraint/Constraint"),t=require("../core/Common");e.create=function(e){var o=r.create(),a={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return t.extend(o,a,e)};
},{"./Composite":"txh8","../constraint/Constraint":"tbz2","../core/Common":"38z7"}],"I9h/":[function(require,module,exports) {
var r={};module.exports=r;var t=require("./Pair"),o=require("./Detector"),n=require("../core/Common");!function(){r.create=function(t){var e={controller:r,detector:o.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return n.extend(e,t)},r.update=function(r,t,o,n){var a,f,h,b,m,g=o.world,p=r.buckets,v=!1,x=o.metrics;for(x.broadphaseTests=0,a=0;a<t.length;a++){var C=t[a];if((!C.isSleeping||n)&&!(C.bounds.max.x<g.bounds.min.x||C.bounds.min.x>g.bounds.max.x||C.bounds.max.y<g.bounds.min.y||C.bounds.min.y>g.bounds.max.y)){var w=i(r,C);if(!C.region||w.id!==C.region.id||n){x.broadphaseTests+=1,C.region&&!n||(C.region=w);var R=e(w,C.region);for(f=R.startCol;f<=R.endCol;f++)for(h=R.startRow;h<=R.endRow;h++){b=p[m=s(f,h)];var k=f>=w.startCol&&f<=w.endCol&&h>=w.startRow&&h<=w.endRow,M=f>=C.region.startCol&&f<=C.region.endCol&&h>=C.region.startRow&&h<=C.region.endRow;!k&&M&&M&&b&&c(r,b,C),(C.region===w||k&&!M||n)&&(b||(b=u(p,m)),d(r,b,C))}C.region=w,v=!0}}}v&&(r.pairsList=l(r))},r.clear=function(r){r.buckets={},r.pairs={},r.pairsList=[]};var e=function(r,t){var o=Math.min(r.startCol,t.startCol),n=Math.max(r.endCol,t.endCol),e=Math.min(r.startRow,t.startRow),i=Math.max(r.endRow,t.endRow);return a(o,n,e,i)},i=function(r,t){var o=t.bounds,n=Math.floor(o.min.x/r.bucketWidth),e=Math.floor(o.max.x/r.bucketWidth),i=Math.floor(o.min.y/r.bucketHeight),s=Math.floor(o.max.y/r.bucketHeight);return a(n,e,i,s)},a=function(r,t,o,n){return{id:r+","+t+","+o+","+n,startCol:r,endCol:t,startRow:o,endRow:n}},s=function(r,t){return"C"+r+"R"+t},u=function(r,t){return r[t]=[]},d=function(r,o,n){for(var e=0;e<o.length;e++){var i=o[e];if(!(n.id===i.id||n.isStatic&&i.isStatic)){var a=t.id(n,i),s=r.pairs[a];s?s[2]+=1:r.pairs[a]=[n,i,1]}}o.push(n)},c=function(r,o,n){o.splice(o.indexOf(n),1);for(var e=0;e<o.length;e++){var i=o[e],a=t.id(n,i),s=r.pairs[a];s&&(s[2]-=1)}},l=function(r){var t,o,e=[];t=n.keys(r.pairs);for(var i=0;i<t.length;i++)(o=r.pairs[t[i]])[2]>0?e.push(o):delete r.pairs[t[i]];return e}}();
},{"./Pair":"FBss","./Detector":"Zf81","../core/Common":"38z7"}],"XszF":[function(require,module,exports) {
var e={};module.exports=e;var i=require("./Pair"),t=require("../core/Common");e.create=function(e){return t.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},e.update=function(e,t,l){var o,n,c,r,s=e.list,d=e.table,a=e.collisionStart,h=e.collisionEnd,u=e.collisionActive;for(a.length=0,h.length=0,u.length=0,r=0;r<s.length;r++)s[r].confirmedActive=!1;for(r=0;r<t.length;r++)(o=t[r]).collided&&((c=d[n=i.id(o.bodyA,o.bodyB)])?(c.isActive?u.push(c):a.push(c),i.update(c,o,l),c.confirmedActive=!0):(c=i.create(o,l),d[n]=c,a.push(c),s.push(c)));for(r=0;r<s.length;r++)(c=s[r]).confirmedActive||(i.setActive(c,!1,l),h.push(c))},e.removeOld=function(e,i){var t,l,o,n,c=e.list,r=e.table,s=[];for(n=0;n<c.length;n++)(l=(t=c[n]).collision).bodyA.isSleeping||l.bodyB.isSleeping?t.timeUpdated=i:i-t.timeUpdated>1e3&&s.push(n);for(n=0;n<s.length;n++)delete r[(t=c[o=s[n]-n]).id],c.splice(o,1)},e.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e};
},{"./Pair":"FBss","../core/Common":"38z7"}],"bC+e":[function(require,module,exports) {
var r={};module.exports=r;var e=require("../geometry/Vector"),o=require("./SAT"),n=require("../geometry/Bounds"),a=require("../factory/Bodies"),t=require("../geometry/Vertices");r.ray=function(r,t,s,u){u=u||1e-100;for(var i=e.angle(t,s),l=e.magnitude(e.sub(t,s)),d=.5*(s.x+t.x),v=.5*(s.y+t.y),g=a.rectangle(d,v,l,u,{angle:i}),f=[],p=0;p<r.length;p++){var b=r[p];if(n.overlaps(b.bounds,g.bounds))for(var c=1===b.parts.length?0:1;c<b.parts.length;c++){var h=b.parts[c];if(n.overlaps(h.bounds,g.bounds)){var y=o.collides(h,g);if(y.collided){y.body=y.bodyA=y.bodyB=b,f.push(y);break}}}}return f},r.region=function(r,e,o){for(var a=[],t=0;t<r.length;t++){var s=r[t],u=n.overlaps(s.bounds,e);(u&&!o||!u&&o)&&a.push(s)}return a},r.point=function(r,e){for(var o=[],a=0;a<r.length;a++){var s=r[a];if(n.contains(s.bounds,e))for(var u=1===s.parts.length?0:1;u<s.parts.length;u++){var i=s.parts[u];if(n.contains(i.bounds,e)&&t.contains(i.vertices,e)){o.push(s);break}}}return o};
},{"../geometry/Vector":"L3fN","./SAT":"XmYu","../geometry/Bounds":"y1JA","../factory/Bodies":"xBEe","../geometry/Vertices":"D80X"}],"jxGw":[function(require,module,exports) {
var i={};module.exports=i;var e=require("../geometry/Vertices"),t=require("../geometry/Vector"),o=require("../core/Common"),s=require("../geometry/Bounds");i._restingThresh=4,i._restingThreshTangent=6,i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i.preSolvePosition=function(i){var e,t,o;for(e=0;e<i.length;e++)(t=i[e]).isActive&&(o=t.activeContacts.length,t.collision.parentA.totalContacts+=o,t.collision.parentB.totalContacts+=o)},i.solvePosition=function(e,t,o){var s,n,r,p,a,l,v,m,c,u,y,g,I,x,P,f,h=o*i._positionDampen;for(s=0;s<t.length;s++){var S=t[s];S.previousPositionImpulse.x=S.positionImpulse.x,S.previousPositionImpulse.y=S.positionImpulse.y}for(s=0;s<e.length;s++)(p=e[s]).isActive&&!p.isSensor&&(l=(a=p.collision).parentA,v=a.parentB,m=a.normal,y=l.previousPositionImpulse,g=v.previousPositionImpulse,u=a.penetration,x=g.x-y.x+u.x,P=g.y-y.y+u.y,c=(n=m.x)*x+(r=m.y)*P,p.separation=c,f=(c-p.slop)*h,(l.isStatic||v.isStatic)&&(f*=2),l.isStatic||l.isSleeping||(I=f/l.totalContacts,l.positionImpulse.x+=n*I,l.positionImpulse.y+=r*I),v.isStatic||v.isSleeping||(I=f/v.totalContacts,v.positionImpulse.x-=n*I,v.positionImpulse.y-=r*I))},i.postSolvePosition=function(o){for(var n=0;n<o.length;n++){var r=o[n];if(r.totalContacts=0,0!==r.positionImpulse.x||0!==r.positionImpulse.y){for(var p=0;p<r.parts.length;p++){var a=r.parts[p];e.translate(a.vertices,r.positionImpulse),s.update(a.bounds,a.vertices,r.velocity),a.position.x+=r.positionImpulse.x,a.position.y+=r.positionImpulse.y}r.positionPrev.x+=r.positionImpulse.x,r.positionPrev.y+=r.positionImpulse.y,t.dot(r.positionImpulse,r.velocity)<0?(r.positionImpulse.x=0,r.positionImpulse.y=0):(r.positionImpulse.x*=i._positionWarming,r.positionImpulse.y*=i._positionWarming)}}},i.preSolveVelocity=function(i){var e,o,s,n,r,p,a,l,v,m,c,u,y,g,I=t._temp[0],x=t._temp[1];for(e=0;e<i.length;e++)if((s=i[e]).isActive&&!s.isSensor)for(n=s.activeContacts,p=(r=s.collision).parentA,a=r.parentB,l=r.normal,v=r.tangent,o=0;o<n.length;o++)c=(m=n[o]).vertex,u=m.normalImpulse,y=m.tangentImpulse,0===u&&0===y||(I.x=l.x*u+v.x*y,I.y=l.y*u+v.y*y,p.isStatic||p.isSleeping||(g=t.sub(c,p.position,x),p.positionPrev.x+=I.x*p.inverseMass,p.positionPrev.y+=I.y*p.inverseMass,p.anglePrev+=t.cross(g,I)*p.inverseInertia),a.isStatic||a.isSleeping||(g=t.sub(c,a.position,x),a.positionPrev.x-=I.x*a.inverseMass,a.positionPrev.y-=I.y*a.inverseMass,a.anglePrev-=t.cross(g,I)*a.inverseInertia))},i.solveVelocity=function(e,s){for(var n=s*s,r=t._temp[0],p=t._temp[1],a=t._temp[2],l=t._temp[3],v=t._temp[4],m=t._temp[5],c=0;c<e.length;c++){var u=e[c];if(u.isActive&&!u.isSensor){var y=u.collision,g=y.parentA,I=y.parentB,x=y.normal,P=y.tangent,f=u.activeContacts,h=1/f.length;g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,I.velocity.x=I.position.x-I.positionPrev.x,I.velocity.y=I.position.y-I.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,I.angularVelocity=I.angle-I.anglePrev;for(var S=0;S<f.length;S++){var _=f[S],M=_.vertex,d=t.sub(M,g.position,p),C=t.sub(M,I.position,a),A=t.add(g.velocity,t.mult(t.perp(d),g.angularVelocity),l),V=t.add(I.velocity,t.mult(t.perp(C),I.angularVelocity),v),b=t.sub(A,V,m),T=t.dot(x,b),B=t.dot(P,b),q=Math.abs(B),W=o.sign(B),D=(1+u.restitution)*T,N=o.clamp(u.separation+T,0,1)*i._frictionNormalMultiplier,j=B,k=1/0;q>u.friction*u.frictionStatic*N*n&&(k=q,j=o.clamp(u.friction*W*n,-k,k));var w=t.cross(d,x),z=t.cross(C,x),E=h/(g.inverseMass+I.inverseMass+g.inverseInertia*w*w+I.inverseInertia*z*z);if(D*=E,j*=E,T<0&&T*T>i._restingThresh*n)_.normalImpulse=0;else{var F=_.normalImpulse;_.normalImpulse=Math.min(_.normalImpulse+D,0),D=_.normalImpulse-F}if(B*B>i._restingThreshTangent*n)_.tangentImpulse=0;else{var G=_.tangentImpulse;_.tangentImpulse=o.clamp(_.tangentImpulse+j,-k,k),j=_.tangentImpulse-G}r.x=x.x*D+P.x*j,r.y=x.y*D+P.y*j,g.isStatic||g.isSleeping||(g.positionPrev.x+=r.x*g.inverseMass,g.positionPrev.y+=r.y*g.inverseMass,g.anglePrev+=t.cross(d,r)*g.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=r.x*I.inverseMass,I.positionPrev.y-=r.y*I.inverseMass,I.anglePrev-=t.cross(C,r)*I.inverseInertia)}}}};
},{"../geometry/Vertices":"D80X","../geometry/Vector":"L3fN","../core/Common":"38z7","../geometry/Bounds":"y1JA"}],"N4kD":[function(require,module,exports) {
var e={};module.exports=e;var s=require("../body/Composite"),r=require("./Common");e.create=function(e){return r.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,e)},e.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},e.update=function(e,r){if(e.extended){var o=r.world,t=s.allBodies(o);e.collisions=e.narrowDetections,e.pairs=r.pairs.list.length,e.bodies=t.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(t.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}};
},{"../body/Composite":"txh8","./Common":"38z7"}],"tGyG":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../body/World"),i=require("./Sleeping"),t=require("../collision/Resolver"),o=require("../collision/Pairs"),l=require("./Metrics"),a=require("../collision/Grid"),n=require("./Events"),s=require("../body/Composite"),c=require("../constraint/Constraint"),d=require("./Common"),p=require("../body/Body");!function(){e.create=function(e,i){i=(i=d.isElement(e)?i:e)||{},((e=d.isElement(e)?e:null)||i.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var t={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:a}},n=d.extend(t,i);return n.world=i.world||r.create(n.world),n.pairs=o.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n.metrics=l.create(n.metrics),n},e.update=function(e,r,a){r=r||1e3/60,a=a||1;var d,p=e.world,g=e.timing,f=e.broadphase,S=[];g.timestamp+=r*g.timeScale;var b={timestamp:g.timestamp};n.trigger(e,"beforeUpdate",b);var y=s.allBodies(p),h=s.allConstraints(p);for(l.reset(e.metrics),e.enableSleeping&&i.update(y,g.timeScale),m(y,p.gravity),u(y,r,g.timeScale,a,p.bounds),c.preSolveAll(y),d=0;d<e.constraintIterations;d++)c.solveAll(h,g.timeScale);c.postSolveAll(y),f.controller?(p.isModified&&f.controller.clear(f),f.controller.update(f,y,e,p.isModified),S=f.pairsList):S=y,p.isModified&&s.setModified(p,!1,!1,!0);var q=f.detector(S,e),w=e.pairs,x=g.timestamp;for(o.update(w,q,x),o.removeOld(w,x),e.enableSleeping&&i.afterCollisions(w.list,g.timeScale),w.collisionStart.length>0&&n.trigger(e,"collisionStart",{pairs:w.collisionStart}),t.preSolvePosition(w.list),d=0;d<e.positionIterations;d++)t.solvePosition(w.list,y,g.timeScale);for(t.postSolvePosition(y),c.preSolveAll(y),d=0;d<e.constraintIterations;d++)c.solveAll(h,g.timeScale);for(c.postSolveAll(y),t.preSolveVelocity(w.list),d=0;d<e.velocityIterations;d++)t.solveVelocity(w.list,g.timeScale);return w.collisionActive.length>0&&n.trigger(e,"collisionActive",{pairs:w.collisionActive}),w.collisionEnd.length>0&&n.trigger(e,"collisionEnd",{pairs:w.collisionEnd}),l.update(e.metrics,e),v(y),n.trigger(e,"afterUpdate",b),e},e.merge=function(r,t){if(d.extend(r,t),t.world){r.world=t.world,e.clear(r);for(var o=s.allBodies(r.world),l=0;l<o.length;l++){var a=o[l];i.set(a,!1),a.id=d.nextId()}}},e.clear=function(e){var r=e.world;o.clear(e.pairs);var i=e.broadphase;if(i.controller){var t=s.allBodies(r);i.controller.clear(i),i.controller.update(i,t,e,!0)}};var v=function(e){for(var r=0;r<e.length;r++){var i=e[r];i.force.x=0,i.force.y=0,i.torque=0}},m=function(e,r){var i=void 0!==r.scale?r.scale:.001;if((0!==r.x||0!==r.y)&&0!==i)for(var t=0;t<e.length;t++){var o=e[t];o.ignoreGravity||o.isStatic||o.isSleeping||(o.force.y+=o.mass*r.y*i,o.force.x+=o.mass*r.x*i)}},u=function(e,r,i,t,o){for(var l=0;l<e.length;l++){var a=e[l];a.isStatic||a.isSleeping||p.update(a,r,i,t)}}}();
},{"../body/World":"pW0O","./Sleeping":"Qv2P","../collision/Resolver":"jxGw","../collision/Pairs":"XszF","./Metrics":"N4kD","../collision/Grid":"I9h/","./Events":"qSml","../body/Composite":"txh8","../constraint/Constraint":"tbz2","./Common":"38z7","../body/Body":"e/rv"}],"x07H":[function(require,module,exports) {
var e={};module.exports=e;var a=require("../geometry/Bounds");!function(){e.pathToVertices=function(e,t){var r,c,s,i,o,n,g,h,S,p,b,l=[],m=0,u=0,y=0;t=t||15;var A=function(e,a,t){var r=t%2==1&&t>1;if(!S||e!=S.x||a!=S.y){S&&r?(p=S.x,b=S.y):(p=0,b=0);var c={x:p+e,y:b+a};!r&&S||(S=c),l.push(c),u=p+e,y=b+a}},f=function(e){var a=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==a){switch(a){case"M":case"L":case"T":case"C":case"S":case"Q":u=e.x,y=e.y;break;case"H":u=e.x;break;case"V":y=e.y}A(u,y,e.pathSegType)}};for(a(e),s=e.getTotalLength(),n=[],r=0;r<e.pathSegList.numberOfItems;r+=1)n.push(e.pathSegList.getItem(r));for(g=n.concat();m<s;){if((o=n[e.getPathSegAtLength(m)])!=h){for(;g.length&&g[0]!=o;)f(g.shift());h=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=e.getPointAtLength(m),A(i.x,i.y,0)}m+=t}for(r=0,c=g.length;r<c;++r)f(g[r]);return l};var a=function(e){for(var a,t,r,c,s,i,o=e.pathSegList,n=0,g=0,h=o.numberOfItems,S=0;S<h;++S){var p=o.getItem(S),b=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(b))"x"in p&&(n=p.x),"y"in p&&(g=p.y);else switch("x1"in p&&(r=n+p.x1),"x2"in p&&(s=n+p.x2),"y1"in p&&(c=g+p.y1),"y2"in p&&(i=g+p.y2),"x"in p&&(n+=p.x),"y"in p&&(g+=p.y),b){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(n,g),S);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(n,g),S);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(n),S);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(g),S);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(n,g,r,c,s,i),S);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(n,g,s,i),S);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(n,g,r,c),S);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(n,g),S);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(n,g,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),S);break;case"z":case"Z":n=a,g=t}"M"!=b&&"m"!=b||(a=n,t=g)}}}();
},{"../geometry/Bounds":"y1JA"}],"JnDz":[function(require,module,exports) {
var e=require("./lib/core/Matter");e.Body=require("./lib/body/Body"),e.Composite=require("./lib/body/Composite"),e.World=require("./lib/body/World"),e.Detector=require("./lib/collision/Detector"),e.Grid=require("./lib/collision/Grid"),e.Pairs=require("./lib/collision/Pairs"),e.Pair=require("./lib/collision/Pair"),e.Query=require("./lib/collision/Query"),e.Resolver=require("./lib/collision/Resolver"),e.SAT=require("./lib/collision/SAT"),e.Constraint=require("./lib/constraint/Constraint"),e.Common=require("./lib/core/Common"),e.Engine=require("./lib/core/Engine"),e.Events=require("./lib/core/Events"),e.Sleeping=require("./lib/core/Sleeping"),e.Plugin=require("./lib/core/Plugin"),e.Bodies=require("./lib/factory/Bodies"),e.Composites=require("./lib/factory/Composites"),e.Axes=require("./lib/geometry/Axes"),e.Bounds=require("./lib/geometry/Bounds"),e.Svg=require("./lib/geometry/Svg"),e.Vector=require("./lib/geometry/Vector"),e.Vertices=require("./lib/geometry/Vertices"),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,module.exports=e;
},{"./lib/core/Matter":"zJVO","./lib/body/Body":"e/rv","./lib/body/Composite":"txh8","./lib/body/World":"pW0O","./lib/collision/Detector":"Zf81","./lib/collision/Grid":"I9h/","./lib/collision/Pairs":"XszF","./lib/collision/Pair":"FBss","./lib/collision/Query":"bC+e","./lib/collision/Resolver":"jxGw","./lib/collision/SAT":"XmYu","./lib/constraint/Constraint":"tbz2","./lib/core/Common":"38z7","./lib/core/Engine":"tGyG","./lib/core/Events":"qSml","./lib/core/Sleeping":"Qv2P","./lib/core/Plugin":"X2eJ","./lib/factory/Bodies":"xBEe","./lib/factory/Composites":"htOB","./lib/geometry/Axes":"FLqH","./lib/geometry/Bounds":"y1JA","./lib/geometry/Svg":"x07H","./lib/geometry/Vector":"L3fN","./lib/geometry/Vertices":"D80X"}],"yuEM":[function(require,module,exports) {
var t=require("../../CustomMain"),o={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Body.create",function(){o.Body.init(this)}),t.before("Engine.update",function(t){o.Engine.update(t)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(o){for(var n=o.world,r=t.Composite.allBodies(n),i=0;i<r.length;i+=1){var a=r[i],e=a.plugin.attractors;if(e&&e.length>0)for(var s=i+1;s<r.length;s+=1)for(var c=r[s],u=0;u<e.length;u+=1){var l=e[u],p=l;t.Common.isFunction(l)&&(p=l(a,c)),p&&t.Body.applyForce(c,c.position,p)}}}},Attractors:{gravityConstant:.001,gravity:function(n,r){var i=t.Vector.sub(r.position,n.position),a=t.Vector.magnitudeSquared(i)||1e-4,e=t.Vector.normalise(i),s=-o.Attractors.gravityConstant*(n.mass*r.mass/a),c=t.Vector.mult(e,s);t.Body.applyForce(n,n.position,t.Vector.neg(c)),t.Body.applyForce(r,r.position,c)}}};module.exports=o;
},{"../../CustomMain":"JnDz"}],"YMIk":[function(require,module,exports) {
var n=require("../../CustomMain"),o={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.13.1",silent:!0,install:function(n){n.after("Engine.update",function(){o.Engine.update(this)})},Engine:{update:function(a){for(var i=a.world,r=n.Composite.allBodies(i),t=n.Composite.allComposites(i),e=0;e<r.length;e+=1){var m=r[e];m.plugin.wrap&&o.Body.wrap(m,m.plugin.wrap)}for(e=0;e<t.length;e+=1){var u=t[e];u.plugin.wrap&&o.Composite.wrap(u,u.plugin.wrap)}}},Bounds:{wrap:function(n,o){var a=null,i=null;if(void 0!==o.min.x&&void 0!==o.max.x&&(n.min.x>o.max.x?a=o.min.x-n.max.x:n.max.x<o.min.x&&(a=o.max.x-n.min.x)),void 0!==o.min.y&&void 0!==o.max.y&&(n.min.y>o.max.y?i=o.min.y-n.max.y:n.max.y<o.min.y&&(i=o.max.y-n.min.y)),null!==a||null!==i)return{x:a||0,y:i||0}}},Body:{wrap:function(a,i){var r=o.Bounds.wrap(a.bounds,i);return r&&n.Body.translate(a,r),r}},Composite:{bounds:function(o){for(var a=n.Composite.allBodies(o),i=[],r=0;r<a.length;r+=1){var t=a[r];i.push(t.bounds.min,t.bounds.max)}return n.Bounds.create(i)},wrap:function(a,i){var r=o.Bounds.wrap(o.Composite.bounds(a),i);return r&&n.Composite.translate(a,r),r}}};module.exports=o;
},{"../../CustomMain":"JnDz"}],"QqEr":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),t=require("../../utils/Class"),i=require("./lib/core/Common"),o=require("./lib/body/Composite"),r=require("./lib/core/Engine"),n=require("eventemitter3"),l=require("../../utils/object/GetFastValue"),s=require("../../utils/object/GetValue"),a=require("./lib/body/Body"),d=require("./lib/core/Events"),h=require("./MatterTileBody"),u=require("./lib/body/World"),c=require("./lib/geometry/Vector"),g=new t({Extends:n,initialize:function(e,t){n.call(this),this.scene=e,this.engine=r.create(t),this.localWorld=this.engine.world;var i=s(t,"gravity",null);if(i&&this.setGravity(i.x,i.y,i.scale),this.walls={left:null,right:null,top:null,bottom:null},l(t,"setBounds",!1)){var o=t.setBounds;if("boolean"==typeof o)this.setBounds();else{var a=l(o,"x",0),d=l(o,"y",0),h=l(o,"width",e.sys.game.config.width),u=l(o,"height",e.sys.game.config.height),c=l(o,"thickness",64),g=l(o,"left",!0),y=l(o,"right",!0),b=l(o,"top",!0),f=l(o,"bottom",!0);this.setBounds(a,d,h,u,c,g,y,b,f)}}this.enabled=s(t,"enabled",!0),this.correction=s(t,"correction",1),this.getDelta=s(t,"getDelta",this.update60Hz),this.autoUpdate=s(t,"autoUpdate",!0),this.drawDebug=s(t,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:s(t,"debugShowBody",!0),debugShowStaticBody:s(t,"debugShowStaticBody",!0),debugShowVelocity:s(t,"debugShowVelocity",!0),bodyDebugColor:s(t,"debugBodyColor",16711935),staticBodyDebugColor:s(t,"debugBodyColor",255),velocityDebugColor:s(t,"debugVelocityColor",65280),debugShowJoint:s(t,"debugShowJoint",!0),jointDebugColor:s(t,"debugJointColor",0)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy()},setEventsProxy:function(){var e=this,t=this.engine;d.on(t,"beforeUpdate",function(t){e.emit("beforeupdate",t)}),d.on(t,"afterUpdate",function(t){e.emit("afterupdate",t)}),d.on(t,"collisionStart",function(t){var i,o,r=t.pairs;r.length>0&&(i=r[0].bodyA,o=r[0].bodyB),e.emit("collisionstart",t,i,o)}),d.on(t,"collisionActive",function(t){var i,o,r=t.pairs;r.length>0&&(i=r[0].bodyA,o=r[0].bodyB),e.emit("collisionactive",t,i,o)}),d.on(t,"collisionEnd",function(t){var i,o,r=t.pairs;r.length>0&&(i=r[0].bodyA,o=r[0].bodyB),e.emit("collisionend",t,i,o)})},setBounds:function(e,t,i,o,r,n,l,s,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===o&&(o=this.scene.sys.game.config.height),void 0===r&&(r=128),void 0===n&&(n=!0),void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),this.updateWall(n,"left",e-r,t,r,o),this.updateWall(l,"right",e+i,t,r,o),this.updateWall(s,"top",e,t-r,i,r),this.updateWall(a,"bottom",e,t+o,i,r),this},updateWall:function(e,t,i,o,r,n){var l=this.walls[t];e?(l&&u.remove(this.localWorld,l),i+=r/2,o+=n/2,this.walls[t]=this.create(i,o,r,n,{isStatic:!0,friction:0,frictionStatic:0})):(l&&u.remove(this.localWorld,l),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=1),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,i,o,r,n){var l=e.rectangle(t,i,o,r,n);return u.add(this.localWorld,l),l},add:function(e){return u.add(this.localWorld,e),this},remove:function(e,t){var i=e.body?e.body:e;return o.removeBody(this.localWorld,i,t),this},removeConstraint:function(e,t){return o.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var i=e.layer,o=e.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(o,t),this},convertTiles:function(e,t){if(0===e.length)return this;for(var i=0;i<e.length;i++)new h(this,e[i],t);return this},nextGroup:function(e){return a.nextGroup(e)},nextCategory:function(){return a.nextCategory()},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(e,t){this.enabled&&this.autoUpdate&&r.update(this.engine,this.getDelta(e,t),this.correction)},step:function(e,t){r.update(this.engine,e,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},postUpdate:function(){if(this.drawDebug){var e,t,r=this.debugGraphic,n=o.allBodies(this.localWorld);for(r.clear(),r.lineStyle(1,this.defaults.bodyDebugColor),r.beginPath(),e=0;e<n.length;e++){if(!n[e].render.visible)return;for(t=0;t<n[e].parts.length;t++){var l=n[e].parts[t].vertices;r.moveTo(l[0].x,l[0].y);for(var s=1;s<l.length;s++)r.lineTo(l[s].x,l[s].y);r.lineTo(l[0].x,l[0].y),r.strokePath()}}if(r.closePath(),this.defaults.debugShowJoint){r.lineStyle(2,this.defaults.jointDebugColor);var a=o.allConstraints(this.localWorld);for(e=0;e<a.length;e++){var d=a[e];if(d.render.visible&&d.pointA&&d.pointB){d.render.lineWidth&&r.lineStyle(d.render.lineWidth,i.colorToNumber(d.render.strokeStyle));var h,u,g=d.bodyA,y=d.bodyB;if(h=g?c.add(g.position,d.pointA):d.pointA,"pin"===d.render.type)r.beginPath(),r.arc(h.x,h.y,3,0,2*Math.PI),r.closePath();else{if(u=y?c.add(y.position,d.pointB):d.pointB,r.beginPath(),r.moveTo(h.x,h.y),"spring"===d.render.type){var b,f=c.sub(u,h),v=c.perp(c.normalise(f)),p=Math.ceil(i.clamp(d.length/5,12,20));for(t=1;t<p;t+=1)b=t%2==0?1:-1,r.lineTo(h.x+f.x*(t/p)+v.x*b*4,h.y+f.y*(t/p)+v.y*b*4)}r.lineTo(u.x,u.y)}d.render.lineWidth&&r.strokePath(),d.render.anchors&&(r.fillStyle(i.colorToNumber(d.render.strokeStyle)),r.beginPath(),r.arc(h.x,h.y,6,0,2*Math.PI),r.arc(u.x,u.y,6,0,2*Math.PI),r.closePath(),r.fillPath())}}}}},fromPath:function(e,t){void 0===t&&(t=[]);return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(e,i,o){t.push({x:parseFloat(i),y:parseFloat(o)})}),t},shutdown:function(){d.off(this.engine),this.removeAllListeners(),u.clear(this.localWorld,!1),r.clear(this.engine)},destroy:function(){this.shutdown()}});module.exports=g;
},{"./lib/factory/Bodies":"xBEe","../../utils/Class":"f5Xp","./lib/core/Common":"38z7","./lib/body/Composite":"txh8","./lib/core/Engine":"tGyG","eventemitter3":"LqgX","../../utils/object/GetFastValue":"SgIk","../../utils/object/GetValue":"8Li0","./lib/body/Body":"e/rv","./lib/core/Events":"qSml","./MatterTileBody":"dFYW","./lib/body/World":"pW0O","./lib/geometry/Vector":"L3fN"}],"lZoB":[function(require,module,exports) {
var t=require("../../utils/Class"),s=require("./Factory"),e=require("../../utils/object/GetFastValue"),i=require("../../utils/object/GetValue"),r=require("./lib/plugins/MatterAttractors"),o=require("./lib/core/Matter"),n=require("./lib/plugins/MatterWrap"),h=require("../../utils/object/Merge"),u=require("./lib/core/Plugin"),d=require("../../plugins/PluginCache"),l=require("./World"),a=new t({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,i(this.config,"plugins.attractors",!1)&&(u.register(r),u.use(o,r)),i(this.config,"plugins.wrap",!1)&&(u.register(n),u.use(o,n)),t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.world=new l(this.scene,this.config),this.add=new s(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new l(this.scene,this.config),this.add=new s(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,s=this.systems.settings.physics;return h(e(s,"matter",{}),e(t,"matter",{}))},enableAttractorPlugin:function(){return u.register(r),u.use(o,r),this},enableWrapPlugin:function(){return u.register(n),u.use(o,n),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,s){this.world.step(t,s)},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});d.register("MatterPhysics",a,"matterPhysics"),module.exports=a;
},{"../../utils/Class":"f5Xp","./Factory":"xFgm","../../utils/object/GetFastValue":"SgIk","../../utils/object/GetValue":"8Li0","./lib/plugins/MatterAttractors":"yuEM","./lib/core/Matter":"zJVO","./lib/plugins/MatterWrap":"YMIk","../../utils/object/Merge":"1u+y","./lib/core/Plugin":"X2eJ","../../plugins/PluginCache":"sYlk","./World":"QqEr"}],"Ktr4":[function(require,module,exports) {
module.exports={Factory:require("./Factory"),Image:require("./MatterImage"),Matter:require("./CustomMain"),MatterPhysics:require("./MatterPhysics"),PolyDecomp:require("./poly-decomp"),Sprite:require("./MatterSprite"),TileBody:require("./MatterTileBody"),World:require("./World")};
},{"./Factory":"xFgm","./MatterImage":"1PZr","./CustomMain":"JnDz","./MatterPhysics":"lZoB","./poly-decomp":"irpP","./MatterSprite":"34tm","./MatterTileBody":"dFYW","./World":"QqEr"}],"s0P1":[function(require,module,exports) {
module.exports={Arcade:require("./arcade"),Impact:require("./impact"),Matter:require("./matter-js")};
},{"./arcade":"m5Wu","./impact":"pF7b","./matter-js":"Ktr4"}],"xZy8":[function(require,module,exports) {
var n=require("../utils/Class"),t=new n({initialize:function(n){this.pluginManager=n,this.game=n.game,this.scene,this.systems},init:function(){},start:function(){},stop:function(){},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});module.exports=t;
},{"../utils/Class":"f5Xp"}],"P076":[function(require,module,exports) {
var s=require("./BasePlugin"),e=require("../utils/Class"),t=new e({Extends:s,initialize:function(e,t){s.call(this,t),this.scene=e,this.systems=e.sys,e.sys.events.once("boot",this.boot,this)},boot:function(){}});module.exports=t;
},{"./BasePlugin":"xZy8","../utils/Class":"f5Xp"}],"FofT":[function(require,module,exports) {
module.exports={BasePlugin:require("./BasePlugin"),DefaultPlugins:require("./DefaultPlugins"),PluginCache:require("./PluginCache"),PluginManager:require("./PluginManager"),ScenePlugin:require("./ScenePlugin")};
},{"./BasePlugin":"xZy8","./DefaultPlugins":"PehW","./PluginCache":"sYlk","./PluginManager":"QaVA","./ScenePlugin":"P076"}],"gsBr":[function(require,module,exports) {
module.exports={BlitImage:require("./utils/BlitImage"),CanvasRenderer:require("./CanvasRenderer"),DrawImage:require("./utils/DrawImage"),GetBlendModes:require("./utils/GetBlendModes")};
},{"./utils/BlitImage":"zQvO","./CanvasRenderer":"myvs","./utils/DrawImage":"b6uU","./utils/GetBlendModes":"yFc1"}],"AOvb":[function(require,module,exports) {
module.exports={Canvas:require("./CanvasSnapshot"),WebGL:require("./WebGLSnapshot")};
},{"./CanvasSnapshot":"sVnE","./WebGLSnapshot":"nULY"}],"B8ZQ":[function(require,module,exports) {
module.exports={BitmapMaskPipeline:require("./BitmapMaskPipeline"),FlatTintPipeline:require("./FlatTintPipeline"),ForwardDiffuseLightPipeline:require("./ForwardDiffuseLightPipeline"),TextureTintPipeline:require("./TextureTintPipeline")};
},{"./BitmapMaskPipeline":"W8II","./FlatTintPipeline":"KhMA","./ForwardDiffuseLightPipeline":"p8ms","./TextureTintPipeline":"sHAr"}],"DtFj":[function(require,module,exports) {
module.exports={Utils:require("./Utils"),WebGLPipeline:require("./WebGLPipeline"),WebGLRenderer:require("./WebGLRenderer"),Pipelines:require("./pipelines"),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4};
},{"./Utils":"WOZp","./WebGLPipeline":"4SzL","./WebGLRenderer":"joaS","./pipelines":"B8ZQ"}],"bjGD":[function(require,module,exports) {
module.exports={Canvas:require("./canvas"),Snapshot:require("./snapshot"),WebGL:require("./webgl")};
},{"./canvas":"gsBr","./snapshot":"AOvb","./webgl":"DtFj"}],"NMIu":[function(require,module,exports) {
var t=require("../math/Clamp"),s=require("../utils/Class"),e=require("../utils/object/GetFastValue"),i=require("../plugins/PluginCache"),n=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once("shutdown",this.shutdown,this)},start:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,s),this},restart:function(t){var s=this.key;return this.manager.queueOp("stop",s),this.manager.queueOp("start",s,t),this},transition:function(t){void 0===t&&(t={});var s=e(t,"target",!1),i=this.manager.getScene(s);if(!s||!this.checkValidTransition(i))return!1;var n=e(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=n,this._willSleep=e(t,"sleep",!1),this._willRemove=e(t,"remove",!1);var o=e(t,"onUpdate",null);o&&(this._onUpdate=o,this._onUpdateScope=e(t,"onUpdateScope",this.scene));var r=e(t,"allowInput",!1);this.settings.transitionAllowInput=r;var h=i.sys.settings;return h.isTransition=!0,h.transitionFrom=this.scene,h.transitionDuration=n,h.transitionAllowInput=r,e(t,"moveAbove",!1)?this.manager.moveAbove(this.key,s):e(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,s),i.sys.isSleeping()?i.sys.wake():this.manager.start(s,e(t,"data")),this.systems.events.emit("transitionout",i,n),this.systems.events.on("update",this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(s,e){this._elapsed+=e,this.transitionProgress=t(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,s=this._target.sys.settings;this.systems.events.off("update",this.step,this),t.events.emit("transitioncomplete",this.scene),s.isTransition=!1,s.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,s,e){return this.manager.add(t,s,e),this},launch:function(t,s){return t&&t!==this.key&&this.manager.queueOp("start",t,s),this},run:function(t,s){return t&&t!==this.key&&this.manager.queueOp("run",t,s),this},pause:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,s),this},resume:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,s),this},sleep:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,s),this},wake:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,s),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t),this},setActive:function(t,s,e){void 0===s&&(s=this.key);var i=this.manager.getScene(s);return i&&i.sys.setActive(t,e),this},setVisible:function(t,s){void 0===s&&(s=this.key);var e=this.manager.getScene(s);return e&&e.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.swapPosition(t,s),this},moveAbove:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.moveAbove(t,s),this},moveBelow:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.moveBelow(t,s),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off("shutdown",this.shutdown,this),t.off("postupdate",this.step,this),t.off("transitionout")},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});i.register("ScenePlugin",n,"scenePlugin"),module.exports=n;
},{"../math/Clamp":"mAiE","../utils/Class":"f5Xp","../utils/object/GetFastValue":"SgIk","../plugins/PluginCache":"sYlk"}],"kQ40":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),n={SceneManager:require("./SceneManager"),ScenePlugin:require("./ScenePlugin"),Settings:require("./Settings"),Systems:require("./Systems")};n=r(!1,n,e),module.exports=n;
},{"./const":"/p0Q","../utils/object/Extend":"Wu2m","./SceneManager":"wBsC","./ScenePlugin":"NMIu","./Settings":"R2rI","./Systems":"/tfp"}],"VTxk":[function(require,module,exports) {
module.exports={SoundManagerCreator:require("./SoundManagerCreator"),BaseSound:require("./BaseSound"),BaseSoundManager:require("./BaseSoundManager"),WebAudioSound:require("./webaudio/WebAudioSound"),WebAudioSoundManager:require("./webaudio/WebAudioSoundManager"),HTML5AudioSound:require("./html5/HTML5AudioSound"),HTML5AudioSoundManager:require("./html5/HTML5AudioSoundManager"),NoAudioSound:require("./noaudio/NoAudioSound"),NoAudioSoundManager:require("./noaudio/NoAudioSoundManager")};
},{"./SoundManagerCreator":"um6k","./BaseSound":"ea1Q","./BaseSoundManager":"OW5l","./webaudio/WebAudioSound":"2b3h","./webaudio/WebAudioSoundManager":"JLzA","./html5/HTML5AudioSound":"JEq2","./html5/HTML5AudioSoundManager":"g3uG","./noaudio/NoAudioSound":"lfNy","./noaudio/NoAudioSoundManager":"TqQn"}],"9XLz":[function(require,module,exports) {
module.exports={List:require("./List"),Map:require("./Map"),ProcessQueue:require("./ProcessQueue"),RTree:require("./RTree"),Set:require("./Set")};
},{"./List":"volj","./Map":"aw/2","./ProcessQueue":"b9qP","./RTree":"6kiY","./Set":"jS4S"}],"Hlyh":[function(require,module,exports) {
var E={LINEAR:0,NEAREST:1};module.exports=E;
},{}],"mlCj":[function(require,module,exports) {
var e=require("../utils/object/Extend"),r=require("./const"),u={FilterMode:r,Frame:require("./Frame"),Parsers:require("./parsers"),Texture:require("./Texture"),TextureManager:require("./TextureManager"),TextureSource:require("./TextureSource")};u=e(!1,u,r),module.exports=u;
},{"../utils/object/Extend":"Wu2m","./const":"Hlyh","./Frame":"pGwy","./parsers":"bc5u","./Texture":"ZtAM","./TextureManager":"ToH2","./TextureSource":"DZQn"}],"WC+D":[function(require,module,exports) {
var t=function(t,e,r){return t>=0&&t<r.width&&e>=0&&e<r.height};module.exports=t;
},{}],"6Ap3":[function(require,module,exports) {
var n=require("./IsInLayerBounds"),r=function(r,u,l,e){if(void 0===l&&(l=!1),n(r,u,e)){var a=e.data[u][r];return null===a?null:-1===a.index?l?a:null:a}return null};module.exports=r;
},{"./IsInLayerBounds":"WC+D"}],"vx4G":[function(require,module,exports) {
var e=require("./GetTileAt"),c=function(c,o,t){var f=e(c,o,!0,t),a=e(c,o-1,!0,t),l=e(c,o+1,!0,t),i=e(c-1,o,!0,t),s=e(c+1,o,!0,t),r=f&&f.collides;return r&&(f.faceTop=!0,f.faceBottom=!0,f.faceLeft=!0,f.faceRight=!0),a&&a.collides&&(r&&(f.faceTop=!1),a.faceBottom=!r),l&&l.collides&&(r&&(f.faceBottom=!1),l.faceTop=!r),i&&i.collides&&(r&&(f.faceLeft=!1),i.faceRight=!r),s&&s.collides&&(r&&(f.faceRight=!1),s.faceLeft=!r),f&&!f.collides&&f.resetFaces(),f};module.exports=c;
},{"./GetTileAt":"6Ap3"}],"d4oJ":[function(require,module,exports) {
var i=require("../../utils/object/GetFastValue"),t=function(t,e,a,n,o,h){void 0===t&&(t=0),void 0===e&&(e=0),void 0===a&&(a=h.width),void 0===n&&(n=h.height);var r=i(o,"isNotEmpty",!1),d=i(o,"isColliding",!1),s=i(o,"hasInterestingFace",!1);t<0&&(a+=t,t=0),e<0&&(n+=e,e=0),t+a>h.width&&(a=Math.max(h.width-t,0)),e+n>h.height&&(n=Math.max(h.height-e,0));for(var u=[],l=e;l<e+n;l++)for(var v=t;v<t+a;v++){var c=h.data[l][v];if(null!==c){if(r&&-1===c.index)continue;if(d&&!c.collides)continue;if(s&&!c.hasInterestingFace)continue;u.push(c)}}return u};module.exports=t;
},{"../../utils/object/GetFastValue":"SgIk"}],"fyqO":[function(require,module,exports) {
var e=require("./GetTileAt"),l=require("./GetTilesWithin"),i=function(i,o,t,c,r){for(var n=null,s=null,u=null,a=null,f=l(i,o,t,c,null,r),d=0;d<f.length;d++){var x=f[d];x&&(x.collides?(n=e(x.x,x.y-1,!0,r),s=e(x.x,x.y+1,!0,r),u=e(x.x-1,x.y,!0,r),a=e(x.x+1,x.y,!0,r),x.faceTop=!n||!n.collides,x.faceBottom=!s||!s.collides,x.faceLeft=!u||!u.collides,x.faceRight=!a||!a.collides):x.resetFaces())}};module.exports=i;
},{"./GetTileAt":"6Ap3","./GetTilesWithin":"d4oJ"}],"YUlL":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("./CalculateFacesWithin"),t=function(t,a,r,l,h,n,o,u){t<0&&(t=0),a<0&&(a=0),void 0===o&&(o=!0);for(var d=e(t,a,r,l,null,u),c=h-t,v=n-a,s=0;s<d.length;s++){var f=d[s].x+c,g=d[s].y+v;f>=0&&f<u.width&&g>=0&&g<u.height&&u.data[g][f]&&u.data[g][f].copy(d[s])}o&&i(h-1,n-1,r+2,l+2,u)};module.exports=t;
},{"./GetTilesWithin":"d4oJ","./CalculateFacesWithin":"fyqO"}],"CX3/":[function(require,module,exports) {
var e=function(e,a,r){var l=r.baseTileWidth,c=r.tilemapLayer,o=0;return c&&(void 0===a&&(a=c.scene.cameras.main),o=c.x+a.scrollX*(1-c.scrollFactorX),l*=c.scaleX),o+e*l};module.exports=e;
},{}],"wEAq":[function(require,module,exports) {
var e=function(e,a,r){var l=r.baseTileHeight,c=r.tilemapLayer,o=0;return c&&(void 0===a&&(a=c.scene.cameras.main),o=c.y+a.scrollY*(1-c.scrollFactorY),l*=c.scaleY),o+e*l};module.exports=e;
},{}],"+ddv":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,l,t,o,u){for(var d=e(r,l,t,o,null,u),x=0;x<d.length;x++)d[x]&&d[x].index===i&&(d[x].index=n)};module.exports=i;
},{"./GetTilesWithin":"d4oJ"}],"Yg8d":[function(require,module,exports) {
var e=require("./TileToWorldX"),r=require("./TileToWorldY"),i=require("./GetTilesWithin"),t=require("./ReplaceByIndex"),a=function(a,h,l,n,o,d){void 0===l&&(l={}),Array.isArray(a)||(a=[a]);var u=d.tilemapLayer;void 0===n&&(n=u.scene),void 0===o&&(o=n.cameras.main);var f,s=i(0,0,d.width,d.height,null,d),y=[];for(f=0;f<s.length;f++){var v=s[f];if(-1!==a.indexOf(v.index)){l.x=e(v.x,o,d),l.y=r(v.y,o,d);var g=n.make.sprite(l);y.push(g)}}if("number"==typeof h)for(f=0;f<a.length;f++)t(a[f],h,0,0,d.width,d.height,d);else if(Array.isArray(h))for(f=0;f<a.length;f++)t(a[f],h[f],0,0,d.width,d.height,d);return y};module.exports=a;
},{"./TileToWorldX":"CX3/","./TileToWorldY":"wEAq","./GetTilesWithin":"d4oJ","./ReplaceByIndex":"+ddv"}],"t44U":[function(require,module,exports) {
var l=require("../../math/snap/SnapFloor"),e=require("../../math/snap/SnapCeil"),i=function(i,a,r){void 0===r&&(r=[]),r.length=0;for(var t=i.tilemapLayer,o=t.skipCull,d=Math.floor(i.tileWidth*t.scaleX),n=Math.floor(i.tileHeight*t.scaleY),h=i.data,s=i.width,p=i.height,u=l(a.worldView.x,d)-t.cullPaddingX*d,w=e(a.worldView.right,d)+t.cullPaddingX*d,c=l(a.worldView.y,n)-t.cullPaddingY*n,g=e(a.worldView.bottom,n)+t.cullPaddingY*n,v=0;v<p;v++)for(var f=0;f<s;f++){var x=h[v][f];if(x&&-1!==x.index&&x.visible&&0!==x.alpha){var m=(x.pixelX+t.x)*t.scaleX,X=(x.pixelY+t.y)*t.scaleY;(o||m>=u&&m+d<=w&&X>=c&&X+n<=g)&&r.push(x)}}return t.tilesDrawn=r.length,t.tilesTotal=s*p,r};module.exports=i;
},{"../../math/snap/SnapFloor":"guKg","../../math/snap/SnapCeil":"35YO"}],"J/2/":[function(require,module,exports) {
var o=function(o,e){e?o.setCollision(!0,!0,!0,!0,!1):o.resetCollision(!1)};module.exports=o;
},{}],"/iRX":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("./CalculateFacesWithin"),l=require("./SetTileCollision"),n=function(n,r,o,t,u,d,a){void 0===d&&(d=!0);for(var s=-1!==a.collideIndexes.indexOf(n),c=e(r,o,t,u,null,a),x=0;x<c.length;x++)c[x].index=n,l(c[x],s);d&&i(r-1,o-1,t+2,u+2,a)};module.exports=n;
},{"./GetTilesWithin":"d4oJ","./CalculateFacesWithin":"fyqO","./SetTileCollision":"J/2/"}],"+F+k":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=function(r,i,t,n,u,l,o,f){return e(t,n,u,l,o,f).filter(r,i)};module.exports=r;
},{"./GetTilesWithin":"d4oJ"}],"LKMK":[function(require,module,exports) {
var i=function(i,r,e,t){void 0===r&&(r=0),void 0===e&&(e=!1);var f,d,o,n=0;if(e){for(d=t.height-1;d>=0;d--)for(f=t.width-1;f>=0;f--)if((o=t.data[d][f])&&o.index===i){if(n===r)return o;n+=1}}else for(d=0;d<t.height;d++)for(f=0;f<t.width;f++)if((o=t.data[d][f])&&o.index===i){if(n===r)return o;n+=1}return null};module.exports=i;
},{}],"a4GP":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,t,u,l,o,d){return e(r,t,u,l,o,d).find(i,n)||null};module.exports=i;
},{"./GetTilesWithin":"d4oJ"}],"1c4i":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,r,o,t,n,u,a,c){e(o,t,n,u,a,c).forEach(i,r)};module.exports=i;
},{"./GetTilesWithin":"d4oJ"}],"/t88":[function(require,module,exports) {
var a=function(a,e,r,o){void 0===e&&(e=!0);var l=o.baseTileWidth,c=o.tilemapLayer;return c&&(void 0===r&&(r=c.scene.cameras.main),a-=c.x+r.scrollX*(1-c.scrollFactorX),l*=c.scaleX),e?Math.floor(a/l):a/l};module.exports=a;
},{}],"t12W":[function(require,module,exports) {
var e=function(e,a,r,o){void 0===a&&(a=!0);var l=o.baseTileHeight,c=o.tilemapLayer;return c&&(void 0===r&&(r=c.scene.cameras.main),e-=c.y+r.scrollY*(1-c.scrollFactorY),l*=c.scaleY),a?Math.floor(e/l):e/l};module.exports=e;
},{}],"0NDm":[function(require,module,exports) {
var e=require("./GetTileAt"),r=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,l,u,t,T){var d=r(o,!0,t,T),n=i(l,!0,t,T);return e(d,n,u,T)};module.exports=o;
},{"./GetTileAt":"6Ap3","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"MnB/":[function(require,module,exports) {
var e=require("../../geom/"),r=require("./GetTilesWithin"),i=require("../../geom/intersects/"),t=require("../../utils/NOOP"),l=require("./TileToWorldX"),a=require("./TileToWorldY"),n=require("./WorldToTileX"),o=require("./WorldToTileY"),c=function(e,r){return i.RectangleToTriangle(r,e)},u=function(u,T,g,s){if(void 0===u)return[];var h=t;u instanceof e.Circle?h=i.CircleToRectangle:u instanceof e.Rectangle?h=i.RectangleToRectangle:u instanceof e.Triangle?h=c:u instanceof e.Line&&(h=i.LineToRectangle);var f=n(u.left,!0,g,s),m=o(u.top,!0,g,s),q=Math.ceil(n(u.right,!1,g,s)),d=Math.ceil(o(u.bottom,!1,g,s)),R=Math.max(q-f,1),p=Math.max(d-m,1),v=r(f,m,R,p,T,s),W=s.tileWidth,x=s.tileHeight;s.tilemapLayer&&(W*=s.tilemapLayer.scaleX,x*=s.tilemapLayer.scaleY);for(var y=[],L=new e.Rectangle(0,0,W,x),M=0;M<v.length;M++){var X=v[M];L.x=l(X.x,g,s),L.y=a(X.y,g,s),h(u,L)&&y.push(X)}return y};module.exports=u;
},{"../../geom/":"lAAI","./GetTilesWithin":"d4oJ","../../geom/intersects/":"Oahq","../../utils/NOOP":"u3ni","./TileToWorldX":"CX3/","./TileToWorldY":"wEAq","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"W+cQ":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=require("./WorldToTileX"),i=require("./WorldToTileY"),l=function(l,o,t,u,T,a,n){var c=r(l,!0,a,n),d=i(o,!0,a,n),h=Math.ceil(r(l+t,!1,a,n)),q=Math.ceil(i(o+u,!1,a,n));return e(c,d,h-c,q-d,T,n)};module.exports=l;
},{"./GetTilesWithin":"d4oJ","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"gRGE":[function(require,module,exports) {
var r=require("./IsInLayerBounds"),e=function(e,n,u){if(r(e,n,u)){var a=u.data[n][e];return null!==a&&a.index>-1}return!1};module.exports=e;
},{"./IsInLayerBounds":"WC+D"}],"o+vj":[function(require,module,exports) {
var r=require("./HasTileAt"),e=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,l,u,T){var t=e(o,!0,u,T),a=i(l,!0,u,T);return r(t,a,T)};module.exports=o;
},{"./HasTileAt":"gRGE","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"N5tu":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../gameobjects/components"),e=require("../geom/rectangle"),s=new t({Mixins:[i.Alpha,i.Flip,i.Visible],initialize:function(t,i,e,s,h,l,o,n){this.layer=t,this.index=i,this.x=e,this.y=s,this.width=h,this.height=l,this.baseWidth=void 0!==o?o:h,this.baseHeight=void 0!==n?n:l,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,i){return!(t<this.pixelX||i<this.pixelY||t>this.right||i>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var i=this.tilemapLayer;return i?i.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var i=this.tilemapLayer;return i?this.getLeft(t)+this.width*i.scaleX:this.getLeft(t)+this.width},getTop:function(t){var i=this.tilemapLayer;return i?i.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*i.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var i=this.tilemapLayer;return i?this.getTop(t)+this.height*i.scaleY:this.getTop(t)+this.height},getBounds:function(t,i){return void 0===i&&(i=new e),i.x=this.getLeft(),i.y=this.getTop(),i.width=this.getRight()-i.x,i.height=this.getBottom()-i.y,i},getCenterX:function(t){return this.getLeft(t)+this.width/2},getCenterY:function(t){return this.getTop(t)+this.height/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(t,i,e,s){return!(e<=this.pixelX||s<=this.pixelY||t>=this.right||i>=this.bottom)},isInteresting:function(t,i){return t&&i?this.canCollide||this.hasInterestingFace:t?this.collides:!!i&&this.hasInterestingFace},resetCollision:function(t){(void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,i,e,s,h){(void 0===i&&(i=t),void 0===e&&(e=t),void 0===s&&(s=t),void 0===h&&(h=!0),this.collideLeft=t,this.collideRight=i,this.collideUp=e,this.collideDown=s,this.faceLeft=t,this.faceRight=i,this.faceTop=e,this.faceBottom=s,h)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},setCollisionCallback:function(t,i){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=i),this},setSize:function(t,i,e,s){return void 0!==t&&(this.width=t),void 0!==i&&(this.height=i),void 0!==e&&(this.baseWidth=e),void 0!==s&&(this.baseHeight=s),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight-(this.height-this.baseHeight),this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.tilemapLayer;return t?t.tileset:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});module.exports=s;
},{"../utils/Class":"f5Xp","../gameobjects/components":"jkG5","../geom/rectangle":"Vsnl"}],"bHQo":[function(require,module,exports) {
var e=require("../Tile"),i=require("./IsInLayerBounds"),a=require("./CalculateFacesAt"),l=require("./SetTileCollision"),t=function(t,d,n,r,u){if(!i(d,n,u))return null;void 0===r&&(r=!0);var o=u.data[n][d],s=o&&o.collides;if(t instanceof e)null===u.data[n][d]&&(u.data[n][d]=new e(u,t.index,d,n,t.width,t.height)),u.data[n][d].copy(t);else{var c=t;null===u.data[n][d]?u.data[n][d]=new e(u,c,d,n,u.tileWidth,u.tileHeight):u.data[n][d].index=c}var x=u.data[n][d],f=-1!==u.collideIndexes.indexOf(x.index);return l(x,f),r&&s!==x.collides&&a(d,n,u),x};module.exports=t;
},{"../Tile":"N5tu","./IsInLayerBounds":"WC+D","./CalculateFacesAt":"vx4G","./SetTileCollision":"J/2/"}],"mcfA":[function(require,module,exports) {
var r=require("./PutTileAt"),e=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,u,l,t,T,d){var n=e(u,!0,T,d),q=i(l,!0,T,d);return r(o,n,q,t,d)};module.exports=o;
},{"./PutTileAt":"bHQo","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"GS2b":[function(require,module,exports) {
var r=require("./CalculateFacesWithin"),e=require("./PutTileAt"),a=function(a,i,t,l,u){if(!Array.isArray(a))return null;void 0===l&&(l=!0),Array.isArray(a[0])||(a=[a]);for(var n=a.length,o=a[0].length,v=0;v<n;v++)for(var A=0;A<o;A++){var f=a[v][A];e(f,i+A,t+v,!1,u)}l&&r(i-1,t-1,o+2,n+2,u)};module.exports=a;
},{"./CalculateFacesWithin":"fyqO","./PutTileAt":"bHQo"}],"5XZf":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("../../utils/array/GetRandom"),n=function(n,r,t,d,l,o){var u,a=e(n,r,t,d,null,o);if(void 0===l)for(l=[],u=0;u<a.length;u++)-1===l.indexOf(a[u].index)&&l.push(a[u].index);for(u=0;u<a.length;u++)a[u].index=i(l)};module.exports=n;
},{"./GetTilesWithin":"d4oJ","../../utils/array/GetRandom":"UJIq"}],"PnrO":[function(require,module,exports) {
var e=require("../Tile"),l=require("./IsInLayerBounds"),r=require("./CalculateFacesAt"),u=function(u,i,n,a,t){if(void 0===n&&(n=!1),void 0===a&&(a=!0),!l(u,i,t))return null;var d=t.data[i][u];return null===d?null:(t.data[i][u]=n?null:new e(t,-1,u,i,d.width,d.height),a&&d&&d.collides&&r(u,i,t),d)};module.exports=u;
},{"../Tile":"N5tu","./IsInLayerBounds":"WC+D","./CalculateFacesAt":"vx4G"}],"2Nhu":[function(require,module,exports) {
var e=require("./RemoveTileAt"),r=require("./WorldToTileX"),o=require("./WorldToTileY"),i=function(i,l,u,T,t,d){var n=r(i,!0,t,d),q=o(l,!0,t,d);return e(n,q,u,T,d)};module.exports=i;
},{"./RemoveTileAt":"PnrO","./WorldToTileX":"/t88","./WorldToTileY":"t12W"}],"bBXj":[function(require,module,exports) {
var e=require("./GetTilesWithin"),l=require("../../display/color"),i=function(i,o,t){void 0===o&&(o={});for(var n=void 0!==o.tileColor?o.tileColor:new l(105,210,231,150),r=void 0!==o.collidingTileColor?o.collidingTileColor:new l(243,134,48,200),a=void 0!==o.faceColor?o.faceColor:new l(40,39,37,150),c=e(0,0,t.width,t.height,null,t),d=0;d<c.length;d++){var f=c[d],h=f.width,w=f.height,p=f.pixelX,u=f.pixelY,v=f.collides?r:n;null!==v&&(i.fillStyle(v.color,v.alpha/255),i.fillRect(p,u,h,w)),p+=1,u+=1,h-=2,w-=2,null!==a&&(i.lineStyle(1,a.color,a.alpha/255),f.faceTop&&i.lineBetween(p,u,p+h,u),f.faceRight&&i.lineBetween(p+h,u,p+h,u+w),f.faceBottom&&i.lineBetween(p,u+w,p+h,u+w),f.faceLeft&&i.lineBetween(p,u,p,u+w))}};module.exports=i;
},{"./GetTilesWithin":"d4oJ","../../display/color":"1lIL"}],"bNrw":[function(require,module,exports) {
var e=function(e,d,l){var i=l.collideIndexes.indexOf(e);d&&-1===i?l.collideIndexes.push(e):d||-1===i||l.collideIndexes.splice(i,1)};module.exports=e;
},{}],"68bZ":[function(require,module,exports) {
var e=require("./SetTileCollision"),i=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),a=function(a,o,t,d){void 0===o&&(o=!0),void 0===t&&(t=!0),Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++)r(a[l],o,d);for(var n=0;n<d.height;n++)for(var h=0;h<d.width;h++){var v=d.data[n][h];v&&-1!==a.indexOf(v.index)&&e(v,o)}t&&i(0,0,d.width,d.height,d)};module.exports=a;
},{"./SetTileCollision":"J/2/","./CalculateFacesWithin":"fyqO","./SetLayerCollisionIndex":"bNrw"}],"SRFR":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),o=function(o,a,t,d,l){if(void 0===t&&(t=!0),void 0===d&&(d=!0),!(o>a)){for(var n=o;n<=a;n++)r(n,t,l);for(var h=0;h<l.height;h++)for(var v=0;v<l.width;v++){var u=l.data[h][v];u&&u.index>=o&&u.index<=a&&i(u,t)}d&&e(0,0,l.width,l.height,l)}};module.exports=o;
},{"./SetTileCollision":"J/2/","./CalculateFacesWithin":"fyqO","./SetLayerCollisionIndex":"bNrw"}],"GpLh":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),a=function(a,o,t,d){void 0===o&&(o=!0),void 0===t&&(t=!0),Array.isArray(a)||(a=[a]);for(var n=0;n<d.height;n++)for(var l=0;l<d.width;l++){var h=d.data[n][l];h&&-1===a.indexOf(h.index)&&(i(h,o),r(h.index,o,d))}t&&e(0,0,d.width,d.height,d)};module.exports=a;
},{"./SetTileCollision":"J/2/","./CalculateFacesWithin":"fyqO","./SetLayerCollisionIndex":"bNrw"}],"Wvcy":[function(require,module,exports) {
var r=require("./SetTileCollision"),i=require("./CalculateFacesWithin"),e=require("../../utils/object/HasValue"),a=function(a,t,o,l){void 0===t&&(t=!0),void 0===o&&(o=!0);for(var v=0;v<l.height;v++)for(var h=0;h<l.width;h++){var s=l.data[v][h];if(s)for(var u in a)if(e(s.properties,u)){var f=a[u];Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++)s.properties[u]===f[d]&&r(s,t)}}o&&i(0,0,l.width,l.height,l)};module.exports=a;
},{"./SetTileCollision":"J/2/","./CalculateFacesWithin":"fyqO","../../utils/object/HasValue":"tWBw"}],"57sW":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),o=function(o,t,r){void 0===o&&(o=!0),void 0===t&&(t=!0);for(var a=0;a<r.height;a++)for(var l=0;l<r.width;l++){var h=r.data[a][l];if(h){var v=h.getCollisionGroup();v&&v.objects&&v.objects.length>0&&i(h,o)}}t&&e(0,0,r.width,r.height,r)};module.exports=o;
},{"./SetTileCollision":"J/2/","./CalculateFacesWithin":"fyqO"}],"Pit3":[function(require,module,exports) {
var l=function(l,a,c,e){if("number"==typeof l)e.callbacks[l]=null!==a?{callback:a,callbackContext:c}:void 0;else for(var o=0,n=l.length;o<n;o++)e.callbacks[l[o]]=null!==a?{callback:a,callbackContext:c}:void 0};module.exports=l;
},{}],"ZGdZ":[function(require,module,exports) {
var l=require("./GetTilesWithin"),e=function(e,i,n,o,r,t,a){for(var s=l(e,i,n,o,null,a),u=0;u<s.length;u++)s[u].setCollisionCallback(r,t)};module.exports=e;
},{"./GetTilesWithin":"d4oJ"}],"sekB":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=require("../../utils/array/Shuffle"),i=function(i,n,u,t,l){var a=e(i,n,u,t,null,l),f=a.map(function(e){return e.index});r(f);for(var o=0;o<a.length;o++)a[o].index=f[o]};module.exports=i;
},{"./GetTilesWithin":"d4oJ","../../utils/array/Shuffle":"c0Vz"}],"6O1V":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,d,l,t,x){for(var o=e(r,d,l,t,null,x),u=0;u<o.length;u++)o[u]&&(o[u].index===i?o[u].index=n:o[u].index===n&&(o[u].index=i))};module.exports=i;
},{"./GetTilesWithin":"d4oJ"}],"v0mJ":[function(require,module,exports) {
var e=require("./TileToWorldX"),r=require("./TileToWorldY"),o=require("../../math/Vector2"),i=function(i,u,l,t,d){return void 0===l&&(l=new o(0,0)),l.x=e(i,t,d),l.y=r(u,t,d),l};module.exports=i;
},{"./TileToWorldX":"CX3/","./TileToWorldY":"wEAq","../../math/Vector2":"2OLl"}],"2yIJ":[function(require,module,exports) {
var r=require("./GetTilesWithin"),e=function(e,i,t,a,n,o){if(void 0!==n){var h,l=r(e,i,t,a,null,o),f=0;for(h=0;h<n.length;h++)f+=n[h].weight;if(!(f<=0))for(h=0;h<l.length;h++){for(var d=Math.random()*f,g=0,v=-1,u=0;u<n.length;u++)if(d<=(g+=n[u].weight)){var m=n[u].index;v=Array.isArray(m)?m[Math.floor(Math.random()*m.length)]:m;break}l[h].index=v}}};module.exports=e;
},{"./GetTilesWithin":"d4oJ"}],"7UQv":[function(require,module,exports) {
var e=require("./WorldToTileX"),r=require("./WorldToTileY"),o=require("../../math/Vector2"),i=function(i,u,l,t,d,n){return void 0===t&&(t=new o(0,0)),t.x=e(i,l,d,n),t.y=r(u,l,d,n),t};module.exports=i;
},{"./WorldToTileX":"/t88","./WorldToTileY":"t12W","../../math/Vector2":"2OLl"}],"sSpZ":[function(require,module,exports) {
module.exports={CalculateFacesAt:require("./CalculateFacesAt"),CalculateFacesWithin:require("./CalculateFacesWithin"),Copy:require("./Copy"),CreateFromTiles:require("./CreateFromTiles"),CullTiles:require("./CullTiles"),Fill:require("./Fill"),FilterTiles:require("./FilterTiles"),FindByIndex:require("./FindByIndex"),FindTile:require("./FindTile"),ForEachTile:require("./ForEachTile"),GetTileAt:require("./GetTileAt"),GetTileAtWorldXY:require("./GetTileAtWorldXY"),GetTilesWithin:require("./GetTilesWithin"),GetTilesWithinShape:require("./GetTilesWithinShape"),GetTilesWithinWorldXY:require("./GetTilesWithinWorldXY"),HasTileAt:require("./HasTileAt"),HasTileAtWorldXY:require("./HasTileAtWorldXY"),IsInLayerBounds:require("./IsInLayerBounds"),PutTileAt:require("./PutTileAt"),PutTileAtWorldXY:require("./PutTileAtWorldXY"),PutTilesAt:require("./PutTilesAt"),Randomize:require("./Randomize"),RemoveTileAt:require("./RemoveTileAt"),RemoveTileAtWorldXY:require("./RemoveTileAtWorldXY"),RenderDebug:require("./RenderDebug"),ReplaceByIndex:require("./ReplaceByIndex"),SetCollision:require("./SetCollision"),SetCollisionBetween:require("./SetCollisionBetween"),SetCollisionByExclusion:require("./SetCollisionByExclusion"),SetCollisionByProperty:require("./SetCollisionByProperty"),SetCollisionFromCollisionGroup:require("./SetCollisionFromCollisionGroup"),SetTileIndexCallback:require("./SetTileIndexCallback"),SetTileLocationCallback:require("./SetTileLocationCallback"),Shuffle:require("./Shuffle"),SwapByIndex:require("./SwapByIndex"),TileToWorldX:require("./TileToWorldX"),TileToWorldXY:require("./TileToWorldXY"),TileToWorldY:require("./TileToWorldY"),WeightedRandomize:require("./WeightedRandomize"),WorldToTileX:require("./WorldToTileX"),WorldToTileXY:require("./WorldToTileXY"),WorldToTileY:require("./WorldToTileY")};
},{"./CalculateFacesAt":"vx4G","./CalculateFacesWithin":"fyqO","./Copy":"YUlL","./CreateFromTiles":"Yg8d","./CullTiles":"t44U","./Fill":"/iRX","./FilterTiles":"+F+k","./FindByIndex":"LKMK","./FindTile":"a4GP","./ForEachTile":"1c4i","./GetTileAt":"6Ap3","./GetTileAtWorldXY":"0NDm","./GetTilesWithin":"d4oJ","./GetTilesWithinShape":"MnB/","./GetTilesWithinWorldXY":"W+cQ","./HasTileAt":"gRGE","./HasTileAtWorldXY":"o+vj","./IsInLayerBounds":"WC+D","./PutTileAt":"bHQo","./PutTileAtWorldXY":"mcfA","./PutTilesAt":"GS2b","./Randomize":"5XZf","./RemoveTileAt":"PnrO","./RemoveTileAtWorldXY":"2Nhu","./RenderDebug":"bBXj","./ReplaceByIndex":"+ddv","./SetCollision":"68bZ","./SetCollisionBetween":"SRFR","./SetCollisionByExclusion":"GpLh","./SetCollisionByProperty":"Wvcy","./SetCollisionFromCollisionGroup":"57sW","./SetTileIndexCallback":"Pit3","./SetTileLocationCallback":"ZGdZ","./Shuffle":"sekB","./SwapByIndex":"6O1V","./TileToWorldX":"CX3/","./TileToWorldXY":"v0mJ","./TileToWorldY":"wEAq","./WeightedRandomize":"2yIJ","./WorldToTileX":"/t88","./WorldToTileXY":"7UQv","./WorldToTileY":"t12W"}],"yDRW":[function(require,module,exports) {
var i=require("../../utils/Class"),e=require("../../utils/object/GetFastValue"),t=new i({initialize:function(i){void 0===i&&(i={}),this.name=e(i,"name","layer"),this.x=e(i,"x",0),this.y=e(i,"y",0),this.width=e(i,"width",0),this.height=e(i,"height",0),this.tileWidth=e(i,"tileWidth",0),this.tileHeight=e(i,"tileHeight",0),this.baseTileWidth=e(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=e(i,"baseTileHeight",this.tileHeight),this.widthInPixels=e(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=e(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=e(i,"alpha",1),this.visible=e(i,"visible",!0),this.properties=e(i,"properties",{}),this.indexes=e(i,"indexes",[]),this.collideIndexes=e(i,"collideIndexes",[]),this.callbacks=e(i,"callbacks",[]),this.bodies=e(i,"bodies",[]),this.data=e(i,"data",[]),this.tilemapLayer=e(i,"tilemapLayer",null)}});module.exports=t;
},{"../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk"}],"9Ynq":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),e=new i({initialize:function(i){void 0===i&&(i={}),this.name=t(i,"name","map"),this.width=t(i,"width",0),this.height=t(i,"height",0),this.tileWidth=t(i,"tileWidth",0),this.tileHeight=t(i,"tileHeight",0),this.widthInPixels=t(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=t(i,"heightInPixels",this.height*this.tileHeight),this.format=t(i,"format",null),this.orientation=t(i,"orientation","orthogonal"),this.version=t(i,"version","1"),this.properties=t(i,"properties",{}),this.layers=t(i,"layers",[]),this.images=t(i,"images",[]),this.objects=t(i,"objects",{}),this.collision=t(i,"collision",{}),this.tilesets=t(i,"tilesets",[]),this.imageCollections=t(i,"imageCollections",[]),this.tiles=t(i,"tiles",[])}});module.exports=e;
},{"../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk"}],"43Uw":[function(require,module,exports) {
var e=require("../Formats"),t=require("../mapdata/LayerData"),i=require("../mapdata/MapData"),a=require("../Tile"),r=function(r,h,n,l,d){for(var g=new t({tileWidth:n,tileHeight:l}),s=new i({name:r,tileWidth:n,tileHeight:l,format:e.ARRAY_2D,layers:[g]}),u=[],w=h.length,o=0,m=0;m<h.length;m++){u[m]=[];for(var p=h[m],x=0;x<p.length;x++){var I=parseInt(p[x],10);isNaN(I)||-1===I?u[m][x]=d?null:new a(g,-1,x,m,n,l):u[m][x]=new a(g,I,x,m,n,l)}0===o&&(o=p.length)}return s.width=g.width=o,s.height=g.height=w,s.widthInPixels=g.widthInPixels=o*n,s.heightInPixels=g.heightInPixels=w*l,g.data=u,s};module.exports=r;
},{"../Formats":"wt80","../mapdata/LayerData":"yDRW","../mapdata/MapData":"9Ynq","../Tile":"N5tu"}],"klCe":[function(require,module,exports) {
var r=require("../Formats"),t=require("./Parse2DArray"),e=function(e,a,i,n,u){var o=a.trim().split("\n").map(function(r){return r.split(",")}),m=t(e,o,i,n,u);return m.format=r.CSV,m};module.exports=e;
},{"../Formats":"wt80","./Parse2DArray":"43Uw"}],"/qBJ":[function(require,module,exports) {
var r=function(r){for(var o=window.atob(r),e=o.length,t=new Array(e/4),a=0;a<e;a+=4)t[a/4]=(o.charCodeAt(a)|o.charCodeAt(a+1)<<8|o.charCodeAt(a+2)<<16|o.charCodeAt(a+3)<<24)>>>0;return t};module.exports=r;
},{}],"aCDy":[function(require,module,exports) {
var a=2147483648,o=1073741824,t=536870912,e=function(e){var i=Boolean(e&a),l=Boolean(e&o),n=Boolean(e&t);e&=~(a|o|t);var p=0,r=!1;return i&&l&&n?(p=Math.PI/2,r=!0):i&&l&&!n?(p=Math.PI,r=!1):i&&!l&&n?(p=Math.PI/2,r=!1):!i||l||n?!i&&l&&n?(p=3*Math.PI/2,r=!1):i||!l||n?i||l||!n?i||l||n||(p=0,r=!1):(p=3*Math.PI/2,r=!0):(p=Math.PI,r=!0):(p=0,r=!0),{gid:e,flippedHorizontal:i,flippedVertical:l,flippedAntiDiagonal:n,rotation:p,flipped:r}};module.exports=e;
},{}],"RRrF":[function(require,module,exports) {
var e=require("./Base64Decode"),i=require("../../../utils/object/GetFastValue"),t=require("../../mapdata/LayerData"),a=require("./ParseGID"),r=require("../../Tile"),l=function(l,s){for(var n=[],h=0;h<l.layers.length;h++)if("tilelayer"===l.layers[h].type){var o=l.layers[h];if(o.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+o.name+"'");else{o.encoding&&"base64"===o.encoding&&(o.data=e(o.data),delete o.encoding);for(var d=new t({name:o.name,x:i(o,"offsetx",0)+o.x,y:i(o,"offsety",0)+o.y,width:o.width,height:o.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:o.opacity,visible:o.visible,properties:i(o,"properties",{})}),p=0,u=[],g=[],f=0,y=o.data.length;f<y;f++){var c=a(o.data[f]);if(c.gid>0){var w=new r(d,c.gid,p,g.length,l.tilewidth,l.tileheight);w.rotation=c.rotation,w.flipX=c.flipped,u.push(w)}else{var v=s?null:new r(d,-1,p,g.length,l.tilewidth,l.tileheight);u.push(v)}++p===o.width&&(g.push(u),p=0,u=[])}d.data=g,n.push(d)}}return n};module.exports=l;
},{"./Base64Decode":"/qBJ","../../../utils/object/GetFastValue":"SgIk","../../mapdata/LayerData":"yDRW","./ParseGID":"aCDy","../../Tile":"N5tu"}],"RVSM":[function(require,module,exports) {
var e=require("../../../utils/object/GetFastValue"),a=function(a){for(var r=[],i=0;i<a.layers.length;i++)if("imagelayer"===a.layers[i].type){var t=a.layers[i];r.push({name:t.name,image:t.image,x:e(t,"offsetx",0)+t.x,y:e(t,"offsety",0)+t.y,alpha:t.opacity,visible:t.visible,properties:e(t,"properties",{})})}return r};module.exports=a;
},{"../../../utils/object/GetFastValue":"SgIk"}],"4/Km":[function(require,module,exports) {
var i=require("../utils/Class"),t=new i({initialize:function(i,t,e,s,h,n,l,a){(void 0===e||e<=0)&&(e=32),(void 0===s||s<=0)&&(s=32),void 0===h&&(h=0),void 0===n&&(n=0),void 0===l&&(l={}),void 0===a&&(a={}),this.name=i,this.firstgid=t,this.tileWidth=e,this.tileHeight=s,this.tileMargin=h,this.tileSpacing=n,this.tileProperties=l,this.tileData=a,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var t=this.getTileData(i);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,t){return void 0!==i&&(this.tileWidth=i),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,t){return void 0!==i&&(this.tileMargin=i),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,t){var e=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(i-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);e%1==0&&s%1==0||console.warn("Tileset "+this.name+" image tile area is not an even multiple of tile size"),e=Math.floor(e),s=Math.floor(s),this.rows=e,this.columns=s,this.total=e*s,this.texCoordinates.length=0;for(var h=this.tileMargin,n=this.tileMargin,l=0;l<this.rows;l++){for(var a=0;a<this.columns;a++)this.texCoordinates.push({x:h,y:n}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});module.exports=t;
},{"../utils/Class":"f5Xp"}],"zSLp":[function(require,module,exports) {
var i=require("../utils/Class"),t=new i({initialize:function(i,t,s,e,a,h,g){(void 0===s||s<=0)&&(s=32),(void 0===e||e<=0)&&(e=32),void 0===a&&(a=0),void 0===h&&(h=0),this.name=i,this.firstgid=0|t,this.imageWidth=0|s,this.imageHeight=0|e,this.imageMargin=0|a,this.imageSpacing=0|h,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,t){return this.images.push({gid:i,image:t}),this.total++,this}});module.exports=t;
},{"../utils/Class":"f5Xp"}],"OvlD":[function(require,module,exports) {
var r=require("../../../utils/object/HasValue"),e=function(e,t){for(var u={},a=0;a<t.length;a++){var o=t[a];r(e,o)&&(u[o]=e[o])}return u};module.exports=e;
},{"../../../utils/object/HasValue":"tWBw"}],"eei8":[function(require,module,exports) {
var i=require("./Pick"),e=require("./ParseGID"),t=function(i){return{x:i.x,y:i.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],p=function(p,o,d){void 0===o&&(o=0),void 0===d&&(d=0);var h=i(p,l);if(h.x+=o,h.y+=d,p.gid){var n=e(p.gid);h.gid=n.gid,h.flippedHorizontal=n.flippedHorizontal,h.flippedVertical=n.flippedVertical,h.flippedAntiDiagonal=n.flippedAntiDiagonal}else p.polyline?h.polyline=p.polyline.map(t):p.polygon?h.polygon=p.polygon.map(t):p.ellipse?(h.ellipse=p.ellipse,h.width=p.width,h.height=p.height):p.text?(h.width=p.width,h.height=p.height,h.text=p.text):(h.rectangle=!0,h.width=p.width,h.height=p.height);return h};module.exports=p;
},{"./Pick":"OvlD","./ParseGID":"aCDy"}],"7LrQ":[function(require,module,exports) {
var e=require("../../Tileset"),t=require("../../ImageCollection"),i=require("./ParseObject"),a=function(a){for(var r,s=[],l=[],n=null,o=0;o<a.tilesets.length;o++){var g=a.tilesets[o];if(g.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(g.image){var p=new e(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing);if(g.tileproperties&&(p.tileProperties=g.tileproperties),g.tiles)for(r in p.tileData=g.tiles,p.tileData){var h=p.tileData[r].objectgroup;if(h&&h.objects){var u=h.objects.map(function(e){return i(e)});p.tileData[r].objectgroup.objects=u}}p.updateTileData(g.imagewidth,g.imageheight),s.push(p)}else{var c=new t(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties);for(r in g.tiles){var d=g.tiles[r].image,m=g.firstgid+parseInt(r,10);c.addImage(m,d)}l.push(c)}n&&(n.lastgid=g.firstgid-1),n=g}return{tilesets:s,imageCollections:l}};module.exports=a;
},{"../../Tileset":"4/Km","../../ImageCollection":"zSLp","./ParseObject":"eei8"}],"e14p":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),i=new e({initialize:function(e){void 0===e&&(e={}),this.name=t(e,"name","object layer"),this.opacity=t(e,"opacity",1),this.properties=t(e,"properties",{}),this.propertyTypes=t(e,"propertytypes",{}),this.type=t(e,"type","objectgroup"),this.visible=t(e,"visible",!0),this.objects=t(e,"objects",[])}});module.exports=i;
},{"../../utils/Class":"f5Xp","../../utils/object/GetFastValue":"SgIk"}],"WHY5":[function(require,module,exports) {
var e=require("../../../utils/object/GetFastValue"),r=require("./ParseObject"),t=require("../../mapdata/ObjectLayer"),a=function(a){for(var s=[],o=0;o<a.layers.length;o++)if("objectgroup"===a.layers[o].type){for(var u=a.layers[o],c=e(u,"offsetx",0),f=e(u,"offsety",0),l=[],b=0;b<u.objects.length;b++){var j=r(u.objects[b],c,f);l.push(j)}var i=new t(u);i.objects=l,s.push(i)}return s};module.exports=a;
},{"../../../utils/object/GetFastValue":"SgIk","./ParseObject":"eei8","../../mapdata/ObjectLayer":"e14p"}],"ScBH":[function(require,module,exports) {
var t=function(t){for(var i=[],e=0;e<t.tilesets.length;e++)for(var l=t.tilesets[e],r=l.tileMargin,a=l.tileMargin,n=0,g=0,o=0,s=l.firstgid;s<l.firstgid+l.total&&(i[s]=[r,a,e],r+=l.tileWidth+l.tileSpacing,++n!==l.total)&&(++g!==l.columns||(r=l.tileMargin,a+=l.tileHeight+l.tileSpacing,g=0,++o!==l.rows));s++);return i};module.exports=t;
},{}],"bM+/":[function(require,module,exports) {
var e=require("../../../utils/object/Extend"),t=function(t){for(var i,r,l,s,d,n=0;n<t.layers.length;n++){i=t.layers[n],s=null;for(var o=0;o<i.data.length;o++){d=i.data[o];for(var a=0;a<d.length;a++)null===(r=d[a])||r.index<0||(l=t.tiles[r.index][2],s=t.tilesets[l],r.width=s.tileWidth,r.height=s.tileHeight,s.tileProperties&&s.tileProperties[r.index-s.firstgid]&&(r.properties=e(r.properties,s.tileProperties[r.index-s.firstgid])))}}};module.exports=t;
},{"../../../utils/object/Extend":"Wu2m"}],"4EIi":[function(require,module,exports) {
var e=require("../../Formats"),r=require("../../mapdata/MapData"),i=require("./ParseTileLayers"),t=require("./ParseImageLayers"),s=require("./ParseTilesets"),a=require("./ParseObjectLayers"),o=require("./BuildTilesetIndex"),n=require("./AssignTileProperties"),l=function(l,h,u){if("orthogonal"!==h.orientation)return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var p=new r({width:h.width,height:h.height,name:l,tileWidth:h.tilewidth,tileHeight:h.tileheight,orientation:h.orientation,format:e.TILED_JSON,version:h.version,properties:h.properties});p.layers=i(h,u),p.images=t(h);var g=s(h);return p.tilesets=g.tilesets,p.imageCollections=g.imageCollections,p.objects=a(h),p.tiles=o(p),n(p),p};module.exports=l;
},{"../../Formats":"wt80","../../mapdata/MapData":"9Ynq","./ParseTileLayers":"RRrF","./ParseImageLayers":"RVSM","./ParseTilesets":"7LrQ","./ParseObjectLayers":"WHY5","./BuildTilesetIndex":"ScBH","./AssignTileProperties":"bM+/"}],"PCNK":[function(require,module,exports) {
var e=require("../../mapdata/LayerData"),i=require("../../Tile"),t=function(t,a){for(var l=[],r=0;r<t.layer.length;r++){for(var h=t.layer[r],n=new e({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:1===h.visible}),s=[],d=[],u=0;u<h.data.length;u++){for(var v=0;v<h.data[u].length;v++){var g,o=h.data[u][v]-1;g=o>-1?new i(n,o,v,u,h.tilesize,h.tilesize):a?null:new i(n,-1,v,u,h.tilesize,h.tilesize),s.push(g)}d.push(s),s=[]}n.data=d,l.push(n)}return l};module.exports=t;
},{"../../mapdata/LayerData":"yDRW","../../Tile":"N5tu"}],"Qclt":[function(require,module,exports) {
var e=require("../../Tileset"),r=function(r){for(var i=[],t=[],l=0;l<r.layer.length;l++){var s=r.layer[l],a=s.tilesetName;""!==a&&-1===t.indexOf(a)&&(t.push(a),i.push(new e(a,0,s.tilesize,s.tilesize,0,0)))}return i};module.exports=r;
},{"../../Tileset":"4/Km"}],"RKvB":[function(require,module,exports) {
var e=require("../../Formats"),r=require("../../mapdata/MapData"),t=require("./ParseTileLayers"),a=require("./ParseTilesets"),i=function(i,l,s){if(0===l.layer.length)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var h=0,n=0,y=0;y<l.layer.length;y++)l.layer[y].width>h&&(h=l.layer[y].width),l.layer[y].height>n&&(n=l.layer[y].height);var o=new r({width:h,height:n,name:i,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:e.WELTMEISTER});return o.layers=t(l,s),o.tilesets=a(l),o};module.exports=i;
},{"../../Formats":"wt80","../../mapdata/MapData":"9Ynq","./ParseTileLayers":"PCNK","./ParseTilesets":"Qclt"}],"4vAr":[function(require,module,exports) {
var e=require("../Formats"),r=require("./Parse2DArray"),a=require("./ParseCSV"),i=require("./tiled/ParseJSONTiled"),s=require("./impact/ParseWeltmeister"),t=function(t,u,c,l,n,o){var d;switch(u){case e.ARRAY_2D:d=r(t,c,l,n,o);break;case e.CSV:d=a(t,c,l,n,o);break;case e.TILED_JSON:d=i(t,c,o);break;case e.WELTMEISTER:d=s(t,c,o);break;default:console.warn("Unrecognized tilemap data format: "+u),d=null}return d};module.exports=t;
},{"../Formats":"wt80","./Parse2DArray":"43Uw","./ParseCSV":"klCe","./tiled/ParseJSONTiled":"4EIi","./impact/ParseWeltmeister":"RKvB"}],"9ZyT":[function(require,module,exports) {
module.exports={Parse:require("./Parse"),Parse2DArray:require("./Parse2DArray"),ParseCSV:require("./ParseCSV"),Impact:require("./impact/ParseWeltmeister"),Tiled:require("./tiled/ParseJSONTiled")};
},{"./Parse":"4vAr","./Parse2DArray":"43Uw","./ParseCSV":"klCe","./impact/ParseWeltmeister":"RKvB","./tiled/ParseJSONTiled":"4EIi"}],"9ZCB":[function(require,module,exports) {
var e=require("../../gameobjects/GameObject"),l=require("../../renderer/webgl/Utils"),t=function(t,i,r,a){var h=a.alpha*i.alpha;if(!(e.RENDER_MASK!==i.renderFlags||i.cameraFilter>0&&i.cameraFilter&a.id||h<=0)){i.cull(a);for(var c=this.pipeline,n=l.getTintAppendFloatAlpha,o=i.culledTiles,p=o.length,d=i.tileset,s=d.glTexture,g=i.scrollFactorX,u=i.scrollFactorY,x=i.x,f=i.y,F=i.scaleX,T=i.scaleY,m=0;m<p;m++){var v=o[m],w=d.getTileTextureCoordinates(v.index);if(null!==w){var b=v.width,X=v.height,Y=w.x,A=w.y,j=.5*v.width,q=.5*v.height,y=n(v.tint,h*v.alpha);c.batchTexture(i,s,s.width,s.height,j+x+v.pixelX*F,q+f+v.pixelY*T,v.width*F,v.height*T,1,1,v.rotation,v.flipX,v.flipY,g,u,j,q,Y,A,b,X,y,y,y,y,!1,0,0,a,null)}}}};module.exports=t;
},{"../../gameobjects/GameObject":"HPsp","../../renderer/webgl/Utils":"WOZp"}],"0Z58":[function(require,module,exports) {
var e=require("../../gameobjects/GameObject"),a=function(a,l,t,r){if(!(e.RENDER_MASK!==l.renderFlags||l.cameraFilter>0&&l.cameraFilter&r.id)){l.cull(r);var i=l.culledTiles,o=i.length,s=l.tileset.image.getSourceImage(),c=this.tileset,h=l.x-r.scrollX*l.scrollFactorX,g=l.y-r.scrollY*l.scrollFactorY,n=a.gameContext;n.save(),n.translate(h,g),n.rotate(l.rotation),n.scale(l.scaleX,l.scaleY),n.scale(l.flipX?-1:1,l.flipY?-1:1);for(var p=0;p<o;++p){var d=i[p],f=c.getTileTextureCoordinates(d.index);if(null!==f){var m=d.width/2,u=d.height/2;n.save(),n.translate(d.pixelX+m,d.pixelY+u),0!==d.rotation&&n.rotate(d.rotation),(d.flipX||d.flipY)&&n.scale(d.flipX?-1:1,d.flipY?-1:1),n.globalAlpha=r.alpha*l.alpha*d.alpha,n.drawImage(s,f.x,f.y,d.width,d.height,-m,-u,d.width,d.height),n.restore()}}n.restore()}};module.exports=a;
},{"../../gameobjects/GameObject":"HPsp"}],"gMiu":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./DynamicTilemapLayerWebGLRenderer"),r=require("./DynamicTilemapLayerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./DynamicTilemapLayerWebGLRenderer":"9ZCB","./DynamicTilemapLayerCanvasRenderer":"0Z58"}],"aB3T":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../gameobjects/components"),e=require("./DynamicTilemapLayerRender"),l=require("../../gameobjects/GameObject"),r=require("../components"),n=new i({Extends:l,Mixins:[t.Alpha,t.BlendMode,t.ComputedSize,t.Depth,t.Flip,t.GetBounds,t.Origin,t.Pipeline,t.ScaleMode,t.Transform,t.Visible,t.ScrollFactor,e],initialize:function(i,t,e,n,s,o){l.call(this,i,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=e,this.layer=t.layers[e],this.layer.tilemapLayer=this,this.tileset=n,this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.CullTiles,this.setAlpha(this.layer.alpha),this.setPosition(s,o),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},calculateFacesAt:function(i,t){return r.CalculateFacesAt(i,t,this.layer),this},calculateFacesWithin:function(i,t,e,l){return r.CalculateFacesWithin(i,t,e,l,this.layer),this},createFromTiles:function(i,t,e,l,n){return r.CreateFromTiles(i,t,e,l,n,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles)},copy:function(i,t,e,l,n,s,o){return r.Copy(i,t,e,l,n,s,o,this.layer),this},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.tileset=void 0,this.culledTiles.length=0,this.cullCallback=null,l.prototype.destroy.call(this)},fill:function(i,t,e,l,n,s){return r.Fill(i,t,e,l,n,s,this.layer),this},filterTiles:function(i,t,e,l,n,s,o){return r.FilterTiles(i,t,e,l,n,s,o,this.layer)},findByIndex:function(i,t,e){return r.FindByIndex(i,t,e,this.layer)},findTile:function(i,t,e,l,n,s,o){return r.FindTile(i,t,e,l,n,s,o,this.layer)},forEachTile:function(i,t,e,l,n,s,o){return r.ForEachTile(i,t,e,l,n,s,o,this.layer),this},getTileAt:function(i,t,e){return r.GetTileAt(i,t,e,this.layer)},getTileAtWorldXY:function(i,t,e,l){return r.GetTileAtWorldXY(i,t,e,l,this.layer)},getTilesWithin:function(i,t,e,l,n){return r.GetTilesWithin(i,t,e,l,n,this.layer)},getTilesWithinShape:function(i,t,e){return r.GetTilesWithinShape(i,t,e,this.layer)},getTilesWithinWorldXY:function(i,t,e,l,n,s){return r.GetTilesWithinWorldXY(i,t,e,l,n,s,this.layer)},hasTileAt:function(i,t){return r.HasTileAt(i,t,this.layer)},hasTileAtWorldXY:function(i,t,e){return r.HasTileAtWorldXY(i,t,e,this.layer)},putTileAt:function(i,t,e,l){return r.PutTileAt(i,t,e,l,this.layer)},putTileAtWorldXY:function(i,t,e,l,n){return r.PutTileAtWorldXY(i,t,e,l,n,this.layer)},putTilesAt:function(i,t,e,l){return r.PutTilesAt(i,t,e,l,this.layer),this},randomize:function(i,t,e,l,n){return r.Randomize(i,t,e,l,n,this.layer),this},removeTileAt:function(i,t,e,l){return r.RemoveTileAt(i,t,e,l,this.layer)},removeTileAtWorldXY:function(i,t,e,l,n){return r.RemoveTileAtWorldXY(i,t,e,l,n,this.layer)},renderDebug:function(i,t){return r.RenderDebug(i,t,this.layer),this},replaceByIndex:function(i,t,e,l,n,s){return r.ReplaceByIndex(i,t,e,l,n,s,this.layer),this},setSkipCull:function(i){return void 0===i&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,t){return void 0===i&&(i=1),void 0===t&&(t=1),this.cullPaddingX=i,this.cullPaddingY=t,this},setCollision:function(i,t,e){return r.SetCollision(i,t,e,this.layer),this},setCollisionBetween:function(i,t,e,l){return r.SetCollisionBetween(i,t,e,l,this.layer),this},setCollisionByProperty:function(i,t,e){return r.SetCollisionByProperty(i,t,e,this.layer),this},setCollisionByExclusion:function(i,t,e){return r.SetCollisionByExclusion(i,t,e,this.layer),this},setCollisionFromCollisionGroup:function(i,t){return r.SetCollisionFromCollisionGroup(i,t,this.layer),this},setTileIndexCallback:function(i,t,e){return r.SetTileIndexCallback(i,t,e,this.layer),this},setTileLocationCallback:function(i,t,e,l,n,s){return r.SetTileLocationCallback(i,t,e,l,n,s,this.layer),this},shuffle:function(i,t,e,l){return r.Shuffle(i,t,e,l,this.layer),this},swapByIndex:function(i,t,e,l,n,s){return r.SwapByIndex(i,t,e,l,n,s,this.layer),this},tileToWorldX:function(i,t){return r.TileToWorldX(i,t,this.layer)},tileToWorldY:function(i,t){return r.TileToWorldY(i,t,this.layer)},tileToWorldXY:function(i,t,e,l){return r.TileToWorldXY(i,t,e,l,this.layer)},weightedRandomize:function(i,t,e,l,n){return r.WeightedRandomize(i,t,e,l,n,this.layer),this},worldToTileX:function(i,t,e){return r.WorldToTileX(i,t,e,this.layer)},worldToTileY:function(i,t,e){return r.WorldToTileY(i,t,e,this.layer)},worldToTileXY:function(i,t,e,l,n){return r.WorldToTileXY(i,t,e,l,n,this.layer)}});module.exports=n;
},{"../../utils/Class":"f5Xp","../../gameobjects/components":"jkG5","./DynamicTilemapLayerRender":"gMiu","../../gameobjects/GameObject":"HPsp","../components":"sSpZ"}],"vTb7":[function(require,module,exports) {
var e=require("../../gameobjects/GameObject"),r=function(r,t,i,u){if(!(e.RENDER_MASK!==t.renderFlags||t.cameraFilter>0&&t.cameraFilter&u.id)&&(t.upload(u),t.vertexCount>0)){var l=r.gl,n=this.pipeline,a=n.vertexBuffer,o=t.tileset.image.get();r.currentPipeline&&r.currentPipeline.vertexCount>0&&r.flush(),n.vertexBuffer=t.vertexBuffer,r.setPipeline(n),r.setTexture2D(o.glTexture,0),l.drawArrays(n.topology,0,t.vertexCount),n.vertexBuffer=a,n.viewIdentity(),n.modelIdentity()}};module.exports=r;
},{"../../gameobjects/GameObject":"HPsp"}],"Uh9L":[function(require,module,exports) {
var e=require("../../gameobjects/GameObject"),l=function(l,a,r,t){if(!(e.RENDER_MASK!==a.renderFlags||a.cameraFilter>0&&a.cameraFilter&t.id)){a.cull(t);var i=a.culledTiles,o=this.tileset,c=l.gameContext,s=i.length,g=o.image.getSourceImage(),h=a.x-t.scrollX*a.scrollFactorX,n=a.y-t.scrollY*a.scrollFactorY;c.save(),c.translate(h,n),c.rotate(a.rotation),c.scale(a.scaleX,a.scaleY),c.scale(a.flipX?-1:1,a.flipY?-1:1),c.globalAlpha=t.alpha*a.alpha;for(var d=0;d<s;++d){var m=i[d],p=o.getTileTextureCoordinates(m.index);null!==p&&c.drawImage(g,p.x,p.y,m.width,m.height,m.pixelX,m.pixelY,m.width,m.height)}c.restore()}};module.exports=l;
},{"../../gameobjects/GameObject":"HPsp"}],"QvwX":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./StaticTilemapLayerWebGLRenderer"),r=require("./StaticTilemapLayerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"u3ni","./StaticTilemapLayerWebGLRenderer":"vTb7","./StaticTilemapLayerCanvasRenderer":"Uh9L"}],"QmeW":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../../gameobjects/components"),t=require("../../const"),r=require("../../gameobjects/GameObject"),l=require("./StaticTilemapLayerRender"),s=require("../components"),n=require("../../renderer/webgl/Utils"),o=new e({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Depth,i.Flip,i.GetBounds,i.Origin,i.Pipeline,i.ScaleMode,i.Transform,i.Visible,i.ScrollFactor,l],initialize:function(e,i,l,s,n,o){r.call(this,e,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=i,this.layerIndex=l,this.layer=i.layers[l],this.layer.tilemapLayer=this,this.tileset=s,this.culledTiles=[],this.vertexBuffer=null,this.renderer=e.sys.game.renderer,this.bufferData=null,this.vertexViewF32=null,this.vertexViewU32=null,this.dirty=!0,this.vertexCount=0,this.setAlpha(this.layer.alpha),this.setPosition(n,o),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline"),e.sys.game.config.renderType===t.WEBGL&&e.sys.game.renderer.onContextRestored(function(){this.dirty=!0,this.vertexBuffer=null},this)},upload:function(e){var i=this.renderer,t=i.gl;if(t){var r=i.pipelines.TextureTintPipeline;if(this.dirty){var l,s,o,a,h=this.tileset,u=this.layer.width,c=this.layer.height,d=h.image.source[0].width,y=h.image.source[0].height,f=this.layer.data,T=this.vertexBuffer,p=this.bufferData,x=-1,m=0,C=u*c*r.vertexSize*6;null===p&&(p=new ArrayBuffer(C),this.bufferData=p,this.vertexViewF32=new Float32Array(p),this.vertexViewU32=new Uint32Array(p));var g=this.vertexViewF32,v=this.vertexViewU32,w=0,W=0;for(s=0;s<c;++s)for(o=0;o<u;++o)if(w++,(l=f[s][o])&&-1!==l.index&&l.visible){var F=l.pixelX,A=l.pixelY,B=F+l.width,S=A+l.height;if(a=h.getTileTextureCoordinates(l.index)){var Y=a.x/d,X=a.y/y,b=(a.x+l.width)/d,G=(a.y+l.height)/y,D=n.getTintAppendFloatAlpha(16777215,e.alpha*this.alpha*l.alpha),L=F,V=A,q=F,E=S,I=B,P=S,R=B,U=A;g[++x]=L,g[++x]=V,g[++x]=Y,g[++x]=X,g[++x]=!1,v[++x]=D,g[++x]=q,g[++x]=E,g[++x]=Y,g[++x]=G,g[++x]=!1,v[++x]=D,g[++x]=I,g[++x]=P,g[++x]=b,g[++x]=G,g[++x]=!1,v[++x]=D,g[++x]=L,g[++x]=V,g[++x]=Y,g[++x]=X,g[++x]=!1,v[++x]=D,g[++x]=I,g[++x]=P,g[++x]=b,g[++x]=G,g[++x]=!1,v[++x]=D,g[++x]=R,g[++x]=U,g[++x]=b,g[++x]=X,g[++x]=!1,v[++x]=D,m+=6,W++}}this.vertexCount=m,this.dirty=!1,null===T?(T=i.createVertexBuffer(p,t.STATIC_DRAW),this.vertexBuffer=T):(i.setVertexBuffer(T),t.bufferSubData(t.ARRAY_BUFFER,0,p)),window.noCull=w,window.cull=W}r.modelIdentity(),r.modelTranslate(this.x-e.scrollX*this.scrollFactorX,this.y-e.scrollY*this.scrollFactorY,0),r.modelScale(this.scaleX,this.scaleY,1),r.viewLoad2D(e.matrix.matrix)}return this},calculateFacesAt:function(e,i){return s.CalculateFacesAt(e,i,this.layer),this},calculateFacesWithin:function(e,i,t,r){return s.CalculateFacesWithin(e,i,t,r,this.layer),this},createFromTiles:function(e,i,t,r,l){return s.CreateFromTiles(e,i,t,r,l,this.layer)},cull:function(e){return s.CullTiles(this.layer,e,this.culledTiles)},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.tileset=void 0,r.prototype.destroy.call(this)},findByIndex:function(e,i,t){return s.FindByIndex(e,i,t,this.layer)},findTile:function(e,i,t,r,l,n,o){return s.FindTile(e,i,t,r,l,n,o,this.layer)},filterTiles:function(e,i,t,r,l,n,o){return s.FilterTiles(e,i,t,r,l,n,o,this.layer)},forEachTile:function(e,i,t,r,l,n,o){return s.ForEachTile(e,i,t,r,l,n,o,this.layer),this},getTileAt:function(e,i,t){return s.GetTileAt(e,i,t,this.layer)},getTileAtWorldXY:function(e,i,t,r){return s.GetTileAtWorldXY(e,i,t,r,this.layer)},getTilesWithin:function(e,i,t,r,l){return s.GetTilesWithin(e,i,t,r,l,this.layer)},getTilesWithinWorldXY:function(e,i,t,r,l,n){return s.GetTilesWithinWorldXY(e,i,t,r,l,n,this.layer)},getTilesWithinShape:function(e,i,t){return s.GetTilesWithinShape(e,i,t,this.layer)},hasTileAt:function(e,i){return s.HasTileAt(e,i,this.layer)},hasTileAtWorldXY:function(e,i,t){return s.HasTileAtWorldXY(e,i,t,this.layer)},renderDebug:function(e,i){return s.RenderDebug(e,i,this.layer),this},setCollision:function(e,i,t){return s.SetCollision(e,i,t,this.layer),this},setCollisionBetween:function(e,i,t,r){return s.SetCollisionBetween(e,i,t,r,this.layer),this},setCollisionByProperty:function(e,i,t){return s.SetCollisionByProperty(e,i,t,this.layer),this},setCollisionByExclusion:function(e,i,t){return s.SetCollisionByExclusion(e,i,t,this.layer),this},setTileIndexCallback:function(e,i,t){return s.SetTileIndexCallback(e,i,t,this.layer),this},setCollisionFromCollisionGroup:function(e,i){return s.SetCollisionFromCollisionGroup(e,i,this.layer),this},setTileLocationCallback:function(e,i,t,r,l,n){return s.SetTileLocationCallback(e,i,t,r,l,n,this.layer),this},tileToWorldX:function(e,i){return s.TileToWorldX(e,i,this.layer)},tileToWorldY:function(e,i){return s.TileToWorldY(e,i,this.layer)},tileToWorldXY:function(e,i,t,r){return s.TileToWorldXY(e,i,t,r,this.layer)},worldToTileX:function(e,i,t){return s.WorldToTileX(e,i,t,this.layer)},worldToTileY:function(e,i,t){return s.WorldToTileY(e,i,t,this.layer)},worldToTileXY:function(e,i,t,r,l){return s.WorldToTileXY(e,i,t,r,l,this.layer)}});module.exports=o;
},{"../../utils/Class":"f5Xp","../../gameobjects/components":"jkG5","../../const":"rdvC","../../gameobjects/GameObject":"HPsp","./StaticTilemapLayerRender":"QvwX","../components":"sSpZ","../../renderer/webgl/Utils":"WOZp"}],"Qcnq":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../math/DegToRad"),i=require("./dynamiclayer/DynamicTilemapLayer.js"),l=require("../utils/object/Extend"),n=require("./Formats"),r=require("./mapdata/LayerData"),s=require("../math/Rotate"),a=require("./staticlayer/StaticTilemapLayer.js"),h=require("./Tile"),o=require("./components"),u=require("./Tileset"),c=new t({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0},addTilesetImage:function(t,e,i,l,r,s,a){if(void 0===t)return null;if(null==e&&(e=t),!this.scene.sys.textures.exists(e))return console.warn('Invalid image key given for tileset: "'+e+'"'),null;var h=this.scene.sys.textures.get(e),o=this.getTilesetIndex(t);if(null===o&&this.format===n.TILED_JSON)return console.warn('No data found in the JSON tilemap from Tiled matching the tileset name: "'+t+'"'),null;if(this.tilesets[o])return this.tilesets[o].setTileSize(i,l),this.tilesets[o].setSpacing(r,s),this.tilesets[o].setImage(h),this.tilesets[o];void 0===i&&(i=this.tileWidth),void 0===l&&(l=this.tileHeight),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=0);var c=new u(t,a,i,l,r,s);return c.setImage(h),this.tilesets.push(c),c},convertLayerToStatic:function(t){if(null===(t=this.getLayer(t)))return null;var e=t.tilemapLayer;if(!(e&&e instanceof i))return null;var l=new a(e.scene,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return this.scene.sys.displayList.add(l),e.destroy(),l},copy:function(t,e,i,l,n,r,s,a){return a=this.getLayer(a),this._isStaticCall(a,"copy")?this:(null!==a&&o.Copy(t,e,i,l,n,r,s,a),this)},createBlankDynamicLayer:function(t,e,l,n,s,a,o,u){if(void 0===o&&(o=e.tileWidth),void 0===u&&(u=e.tileHeight),void 0===s&&(s=this.width),void 0===a&&(a=this.height),void 0===l&&(l=0),void 0===n&&(n=0),null!==this.getLayerIndex(t))return console.warn("Cannot create blank layer: layer with matching name already exists "+t),null;for(var c,y=new r({name:t,tileWidth:o,tileHeight:u,width:s,height:a}),d=0;d<a;d++){c=[];for(var g=0;g<s;g++)c.push(new h(y,-1,g,d,o,u,this.tileWidth,this.tileHeight));y.data.push(c)}this.layers.push(y),this.currentLayerIndex=this.layers.length-1;var f=new i(this.scene,this,this.currentLayerIndex,e,l,n);return this.scene.sys.displayList.add(f),f},createDynamicLayer:function(t,e,l,n){var r=this.getLayerIndex(t);if(null===r)return console.warn("Cannot create tilemap layer, invalid layer ID given: "+t),null;var s=this.layers[r];if(s.tilemapLayer)return console.warn("Cannot create dynamic tilemap layer since a static or dynamic tilemap layer exists for layer ID:"+t),null;this.currentLayerIndex=r,s.tileWidth===e.tileWidth&&s.tileHeight===e.tileHeight||this.setLayerTileSize(e.tileWidth,e.tileHeight,r),void 0===l&&this.layers[r].x&&(l=this.layers[r].x),void 0===n&&this.layers[r].y&&(n=this.layers[r].y);var a=new i(this.scene,this,r,e,l,n);return this.scene.sys.displayList.add(a),a},createFromObjects:function(t,i,n,r){void 0===n&&(n={}),void 0===r&&(r=this.scene);var a=this.getObjectLayer(t);if(a){for(var h=a.objects,o=[],u=0;u<h.length;u++){var c=!1,y=h[u];if((void 0!==y.gid&&"number"==typeof i&&y.gid===i||void 0!==y.id&&"number"==typeof i&&y.id===i||void 0!==y.name&&"string"==typeof i&&y.name===i)&&(c=!0),c){var d=l({},n,y.properties);d.x=y.x,d.y=y.y;var g=this.scene.make.sprite(d);g.name=y.name,y.width&&(g.displayWidth=y.width),y.height&&(g.displayHeight=y.height);var f={x:g.originX*g.displayWidth,y:(g.originY-1)*g.displayHeight};if(y.rotation){var L=e(y.rotation);s(f,L),g.rotation=L}g.x+=f.x,g.y+=f.y,void 0===y.flippedHorizontal&&void 0===y.flippedVertical||g.setFlip(y.flippedHorizontal,y.flippedVertical),y.visible||(g.visible=!1),o.push(g)}}return o}console.warn("Cannot create from object. Invalid objectgroup name given: "+t)},createFromTiles:function(t,e,i,l,n,r){return null===(r=this.getLayer(r))?null:o.CreateFromTiles(t,e,i,l,n,r)},createStaticLayer:function(t,e,i,l){var n=this.getLayerIndex(t);if(null===n)return console.warn("Cannot create tilemap layer, invalid layer ID given: "+t),null;var r=this.layers[n];if(r.tilemapLayer)return console.warn("Cannot create static tilemap layer since a static or dynamic tilemap layer exists for layer ID:"+t),null;this.currentLayerIndex=n,r.tileWidth===e.tileWidth&&r.tileHeight===e.tileHeight||this.setLayerTileSize(e.tileWidth,e.tileHeight,n),void 0===i&&this.layers[n].x&&(i=this.layers[n].x),void 0===l&&this.layers[n].y&&(l=this.layers[n].y);var s=new a(this.scene,this,n,e,i,l);return this.scene.sys.displayList.add(s),s},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(t,e,i,l,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"fill")?this:(null!==s&&o.Fill(t,e,i,l,n,r,s),this)},filterObjects:function(t,e,i){if("string"==typeof t){var l=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+l),null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,l,n,r,s,a){return null===(a=this.getLayer(a))?null:o.FilterTiles(t,e,i,l,n,r,s,a)},findByIndex:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.FindByIndex(t,e,i,l)},findObject:function(t,e,i){if("string"==typeof t){var l=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+l),null}return t.objects.find(e,i)||null},findTile:function(t,e,i,l,n,r,s,a){return null===(a=this.getLayer(a))?null:o.FindTile(t,e,i,l,n,r,s,a)},forEachTile:function(t,e,i,l,n,r,s,a){return null!==(a=this.getLayer(a))&&o.ForEachTile(t,e,i,l,n,r,s,a),this},getImageIndex:function(t){return this.getIndex(this.images,t)},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getLayerIndex:function(t){return void 0===t?this.currentLayerIndex:"string"==typeof t?this.getLayerIndexByName(t):"number"==typeof t&&t<this.layers.length?t:t instanceof a||t instanceof i?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.GetTileAt(t,e,i,l)},getTileAtWorldXY:function(t,e,i,l,n){return null===(n=this.getLayer(n))?null:o.GetTileAtWorldXY(t,e,i,l,n)},getTilesWithin:function(t,e,i,l,n,r){return null===(r=this.getLayer(r))?null:o.GetTilesWithin(t,e,i,l,n,r)},getTilesWithinShape:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.GetTilesWithinShape(t,e,i,l)},getTilesWithinWorldXY:function(t,e,i,l,n,r,s){return null===(s=this.getLayer(s))?null:o.GetTilesWithinWorldXY(t,e,i,l,n,r,s)},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return null===(i=this.getLayer(i))?null:o.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.HasTileAtWorldXY(t,e,i,l)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,l,n){return n=this.getLayer(n),this._isStaticCall(n,"putTileAt")?null:null===n?null:o.PutTileAt(t,e,i,l,n)},putTileAtWorldXY:function(t,e,i,l,n,r){return r=this.getLayer(r),this._isStaticCall(r,"putTileAtWorldXY")?null:null===r?null:o.PutTileAtWorldXY(t,e,i,l,n,r)},putTilesAt:function(t,e,i,l,n){return n=this.getLayer(n),this._isStaticCall(n,"putTilesAt")?this:(null!==n&&o.PutTilesAt(t,e,i,l,n),this)},randomize:function(t,e,i,l,n,r){return r=this.getLayer(r),this._isStaticCall(r,"randomize")?this:(null!==r&&o.Randomize(t,e,i,l,n,r),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?this:(o.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,l,n){return null===(n=this.getLayer(n))?this:(o.CalculateFacesWithin(t,e,i,l,n),this)},removeAllLayers:function(){for(var t=0;t<this.layers.length;t++)this.layers[t].tilemapLayer&&this.layers[t].tilemapLayer.destroy();return this.layers.length=0,this.currentLayerIndex=0,this},removeTileAt:function(t,e,i,l,n){return n=this.getLayer(n),this._isStaticCall(n,"removeTileAt")?null:null===n?null:o.RemoveTileAt(t,e,i,l,n)},removeTileAtWorldXY:function(t,e,i,l,n,r){return r=this.getLayer(r),this._isStaticCall(r,"removeTileAtWorldXY")?null:null===r?null:o.RemoveTileAtWorldXY(t,e,i,l,n,r)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?this:(o.RenderDebug(t,e,i),this)},replaceByIndex:function(t,e,i,l,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"replaceByIndex")?this:(null!==s&&o.ReplaceByIndex(t,e,i,l,n,r,s),this)},setCollision:function(t,e,i,l){return null===(l=this.getLayer(l))?this:(o.SetCollision(t,e,i,l),this)},setCollisionBetween:function(t,e,i,l,n){return null===(n=this.getLayer(n))?this:(o.SetCollisionBetween(t,e,i,l,n),this)},setCollisionByProperty:function(t,e,i,l){return null===(l=this.getLayer(l))?this:(o.SetCollisionByProperty(t,e,i,l),this)},setCollisionByExclusion:function(t,e,i,l){return null===(l=this.getLayer(l))?this:(o.SetCollisionByExclusion(t,e,i,l),this)},setCollisionFromCollisionGroup:function(t,e,i){return null===(i=this.getLayer(i))?this:(o.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,l){return null===(l=this.getLayer(l))?this:(o.SetTileIndexCallback(t,e,i,l),this)},setTileLocationCallback:function(t,e,i,l,n,r,s){return null===(s=this.getLayer(s))?this:(o.SetTileLocationCallback(t,e,i,l,n,r,s),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseWidth=t,this.layers[i].baseHeight=e;for(var l=this.layers[i].data,n=this.layers[i].width,r=this.layers[i].height,s=0;s<r;++s)for(var a=0;a<n;++a){var h=l[s][a];null!==h&&h.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=t,i.tileHeight=e;for(var l=i.data,n=i.width,r=i.height,s=0;s<r;++s)for(var a=0;a<n;++a){var h=l[s][a];null!==h&&h.setSize(t,e)}return this},shuffle:function(t,e,i,l,n){return n=this.getLayer(n),this._isStaticCall(n,"shuffle")?this:(null!==n&&o.Shuffle(t,e,i,l,n),this)},swapByIndex:function(t,e,i,l,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"swapByIndex")?this:(null!==s&&o.SwapByIndex(t,e,i,l,n,r,s),this)},tileToWorldX:function(t,e,i){return null===(i=this.getLayer(i))?null:o.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return null===(i=this.getLayer(i))?null:o.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,l,n){return null===(n=this.getLayer(n))?null:o.TileToWorldXY(t,e,i,l,n)},weightedRandomize:function(t,e,i,l,n,r){return r=this.getLayer(r),this._isStaticCall(r,"weightedRandomize")?this:(null!==r&&o.WeightedRandomize(t,e,i,l,n,r),this)},worldToTileX:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.WorldToTileX(t,e,i,l)},worldToTileY:function(t,e,i,l){return null===(l=this.getLayer(l))?null:o.WorldToTileY(t,e,i,l)},worldToTileXY:function(t,e,i,l,n,r){return null===(r=this.getLayer(r))?null:o.WorldToTileXY(t,e,i,l,n,r)},_isStaticCall:function(t,e){return t.tilemapLayer instanceof a&&(console.warn(e+": You cannot change the tiles in a static tilemap layer"),!0)}});module.exports=c;
},{"../utils/Class":"f5Xp","../math/DegToRad":"hyJn","./dynamiclayer/DynamicTilemapLayer.js":"aB3T","../utils/object/Extend":"Wu2m","./Formats":"wt80","./mapdata/LayerData":"yDRW","../math/Rotate":"bM2g","./staticlayer/StaticTilemapLayer.js":"QmeW","./Tile":"N5tu","./components":"sSpZ","./Tileset":"4/Km"}],"nAfP":[function(require,module,exports) {
var e=require("./Formats"),a=require("./mapdata/MapData"),r=require("./parsers/Parse"),i=require("./Tilemap"),o=function(o,t,d,l,n,u,v,m){void 0===d&&(d=32),void 0===l&&(l=32),void 0===n&&(n=10),void 0===u&&(u=10),void 0===m&&(m=!1);var p=null;if(Array.isArray(v))p=r(void 0!==t?t:"map",e.ARRAY_2D,v,d,l,m);else if(void 0!==t){var s=o.cache.tilemap.get(t);s?p=r(t,s.format,s.data,d,l,m):console.warn("No map data found for key "+t)}return null===p&&(p=new a({tileWidth:d,tileHeight:l,width:n,height:u})),new i(o,p)};module.exports=o;
},{"./Formats":"wt80","./mapdata/MapData":"9Ynq","./parsers/Parse":"4vAr","./Tilemap":"Qcnq"}],"JBzZ":[function(require,module,exports) {
var e=require("../gameobjects/GameObjectCreator"),t=require("./ParseToTilemap");e.register("tilemap",function(e){var i=void 0!==e?e:{};return t(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)});
},{"../gameobjects/GameObjectCreator":"FDVK","./ParseToTilemap":"nAfP"}],"OfWZ":[function(require,module,exports) {
var e=require("../gameobjects/GameObjectFactory"),i=require("./ParseToTilemap");e.register("tilemap",function(e,l,r,n,o,u,t){return null===e&&(e=void 0),null===l&&(l=void 0),null===r&&(r=void 0),null===n&&(n=void 0),null===o&&(o=void 0),i(this.scene,e,l,r,n,o,u,t)});
},{"../gameobjects/GameObjectFactory":"qgZB","./ParseToTilemap":"nAfP"}],"RXmL":[function(require,module,exports) {
module.exports={Components:require("./components"),Parsers:require("./parsers"),Formats:require("./Formats"),ImageCollection:require("./ImageCollection"),ParseToTilemap:require("./ParseToTilemap"),Tile:require("./Tile"),Tilemap:require("./Tilemap"),TilemapCreator:require("./TilemapCreator"),TilemapFactory:require("./TilemapFactory"),Tileset:require("./Tileset"),LayerData:require("./mapdata/LayerData"),MapData:require("./mapdata/MapData"),ObjectLayer:require("./mapdata/ObjectLayer"),DynamicTilemapLayer:require("./dynamiclayer/DynamicTilemapLayer"),StaticTilemapLayer:require("./staticlayer/StaticTilemapLayer")};
},{"./components":"sSpZ","./parsers":"9ZyT","./Formats":"wt80","./ImageCollection":"zSLp","./ParseToTilemap":"nAfP","./Tile":"N5tu","./Tilemap":"Qcnq","./TilemapCreator":"JBzZ","./TilemapFactory":"OfWZ","./Tileset":"4/Km","./mapdata/LayerData":"yDRW","./mapdata/MapData":"9Ynq","./mapdata/ObjectLayer":"e14p","./dynamiclayer/DynamicTilemapLayer":"aB3T","./staticlayer/StaticTilemapLayer":"QmeW"}],"glBM":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../utils/object/GetFastValue"),s=new t({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=e(t,"delay",0),this.repeat=e(t,"repeat",0),this.loop=e(t,"loop",!1),this.callback=e(t,"callback",void 0),this.callbackScope=e(t,"callbackScope",this.callback),this.args=e(t,"args",[]),this.timeScale=e(t,"timeScale",1),this.startAt=e(t,"startAt",0),this.paused=e(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});module.exports=s;
},{"../utils/Class":"f5Xp","../utils/object/GetFastValue":"SgIk"}],"WZFA":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../plugins/PluginCache"),s=require("./TimerEvent"),i=new t({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=Date.now(),this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},addEvent:function(t){var e=new s(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,s,i){return this.addEvent({delay:t,callback:e,args:s,callbackScope:i})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var s,i;for(s=0;s<t;s++){i=this._pendingRemoval[s];var n=this._active.indexOf(i);n>-1&&this._active.splice(n,1),i.destroy()}for(s=0;s<e;s++)i=this._pendingInsertion[s],this._active.push(i);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var s=0;s<this._active.length;s++){var i=this._active[s];if(!i.paused&&(i.elapsed+=e*i.timeScale,i.elapsed>=i.delay)){var n=i.elapsed-i.delay;i.elapsed=i.delay,!i.hasDispatched&&i.callback&&(i.hasDispatched=!0,i.callback.apply(i.callbackScope,i.args)),i.repeatCount>0?(i.repeatCount--,i.elapsed=n,i.hasDispatched=!1):this._pendingRemoval.push(i)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});e.register("Clock",i,"time"),module.exports=i;
},{"../utils/Class":"f5Xp","../plugins/PluginCache":"sYlk","./TimerEvent":"glBM"}],"IXbA":[function(require,module,exports) {
module.exports={Clock:require("./Clock"),TimerEvent:require("./TimerEvent")};
},{"./Clock":"WZFA","./TimerEvent":"glBM"}],"ZVuT":[function(require,module,exports) {
var n=function(n,t,r){var o;n.hasOwnProperty(t)?o="function"===typeof n[t]?function(r,o,u){return n[t](r,o,u)}:function(){return n[t]}:o="function"==typeof r?r:function(){return r};return o};module.exports=n;
},{}],"av9t":[function(require,module,exports) {
module.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"];
},{}],"LYVf":[function(require,module,exports) {
var e=require("../tween/ReservedProps"),r=function(r){var s,p=[];if(r.hasOwnProperty("props"))for(s in r.props)"_"!==s.substr(0,1)&&p.push({key:s,value:r.props[s]});else for(s in r)-1===e.indexOf(s)&&"_"!==s.substr(0,1)&&p.push({key:s,value:r[s]});return p};module.exports=r;
},{"../tween/ReservedProps":"av9t"}],"zlle":[function(require,module,exports) {
var r=require("../../utils/object/GetValue"),e=function(e){var t=r(e,"targets",null);return null===t?t:("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t]),t)};module.exports=e;
},{"../../utils/object/GetValue":"8Li0"}],"BRMA":[function(require,module,exports) {
var e=require("../../utils/object/GetValue"),r=function(r){var l=e(r,"tweens",null);return null===l?[]:("function"==typeof l&&(l=l.call()),Array.isArray(l)||(l=[l]),l)};module.exports=r;
},{"../../utils/object/GetValue":"8Li0"}],"S35D":[function(require,module,exports) {
function t(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}function e(e){return t(e)||n(e)}var r=function(u,o){var a,c=function(t,n,e){return e},f=function(t,n,e){return e},i=typeof o;if("number"===i)c=function(){return o};else if("string"===i){var s=o[0],g=parseFloat(o.substr(2));switch(s){case"+":c=function(t,n,e){return e+g};break;case"-":c=function(t,n,e){return e-g};break;case"*":c=function(t,n,e){return e*g};break;case"/":c=function(t,n,e){return e/g};break;default:c=function(){return parseFloat(o)}}}else"function"===i?c=o:"object"===i&&e(o)?(n(o)&&(c=o.getEnd),t(o)&&(f=o.getStart)):o.hasOwnProperty("value")&&(a=r(u,o.value));return a||(a={getEnd:c,getStart:f}),a};module.exports=r;
},{}],"NmE2":[function(require,module,exports) {
var e={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};module.exports=e;
},{}],"9orT":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../../gameobjects/GameObjectCreator"),a=require("../../gameobjects/GameObjectFactory"),s=require("./const"),r=new t({initialize:function(t,e,a){this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=a,this.totalTargets=a.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=s.PENDING_ADD,this._pausedState=s.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(){return this.data[0].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},isPaused:function(){return this.state===s.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,a){for(var s=0;s<this.totalData;s++){var r=this.data[s];if(r.key===t){r.end=e,a&&(r.start=r.current);break}}return this},restart:function(){this.state===s.REMOVED?(this.seek(0),this.parent.makeActive(this)):(this.stop(),this.play())},calcDuration:function(){for(var t=0,e=this.data,a=0;a<this.totalData;a++){var s=e[a];s.t1=s.duration+s.hold,s.yoyo&&(s.t1+=s.duration),s.t2=s.t1+s.repeatDelay,s.totalDuration=s.delay+s.t1,-1===s.repeat?s.totalDuration+=999999999999*s.t2:s.repeat>0&&(s.totalDuration+=s.t2*s.repeat),s.totalDuration>t&&(t=s.totalDuration)}this.duration=t,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){for(var t=this.data,e=this.totalTargets,a=0;a<this.totalData;a++){var r=t[a],i=r.target,o=r.gen;r.delay=o.delay(a,e,i),r.duration=o.duration(a,e,i),r.hold=o.hold(a,e,i),r.repeat=o.repeat(a,e,i),r.repeatDelay=o.repeatDelay(a,e,i)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.paused&&!this.parentIsTimeline?(this.state=s.PENDING_ADD,this._pausedState=s.INIT,!1):(this.state=s.INIT,!0)},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)),this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):this.state=s.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=s.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=s.PENDING_REMOVE}},pause:function(){if(this.state!==s.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED,this},play:function(t){if(this.state!==s.ACTIVE){this.state!==s.PENDING_REMOVE&&this.state!==s.REMOVED||(this.init(),this.parent.makeActive(this),t=!0);var e=this.callbacks.onStart;this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?(e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=s.ACTIVE):(this.countdown=this.calculatedOffset,this.state=s.OFFSET_DELAY)):this.paused?(this.paused=!1,this.parent.makeActive(this)):(this.resetTweenData(t),this.state=s.ACTIVE,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.parent.makeActive(this))}},resetTweenData:function(t){for(var e=this.data,a=0;a<this.totalData;a++){var r=e[a];r.progress=0,r.elapsed=0,r.repeatCounter=-1===r.repeat?999999999999:r.repeat,t?(r.start=r.getStartValue(r.target,r.key,r.start),r.end=r.getEndValue(r.target,r.key,r.end),r.current=r.start,r.state=s.PLAYING_FORWARD):r.delay>0?(r.elapsed=r.delay,r.state=s.DELAY):r.state=s.PENDING_RENDER}},resume:function(){return this.state===s.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t){for(var e=this.data,a=0;a<this.totalData;a++){var s=this.totalDuration*t,r=e[a],i=0,o=0;s<=r.delay?(i=0,o=0):s>=r.totalDuration?(i=1,o=r.duration):s>r.delay&&s<=r.t1?(i=(s=Math.max(0,s-r.delay))/r.t1,o=r.duration*i):s>r.t1&&s<r.totalDuration&&(s-=r.delay,(s=(s-=r.t1)/r.t2%1*r.t2)>r.repeatDelay&&(i=s/r.t1,o=r.duration*i)),r.progress=i,r.elapsed=o;var n=r.ease(r.progress);r.current=r.start+(r.end-r.start)*n,r.target[r.key]=r.current}},setCallback:function(t,e,a,s){return this.callbacks[t]={func:e,scope:s,params:a},this},complete:function(t){if(void 0===t&&(t=0),t)this.countdown=t,this.state=s.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=s.PENDING_REMOVE}},stop:function(t){this.state===s.ACTIVE&&void 0!==t&&this.seek(t),this.state!==s.REMOVED&&(this.state=s.PENDING_REMOVE)},update:function(t,e){if(this.state===s.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:for(var a=!1,r=0;r<this.totalData;r++)this.updateTweenData(this,this.data[r],e)&&(a=!0);a||this.nextState();break;case s.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=s.ACTIVE);break;case s.OFFSET_DELAY:if(this.countdown-=e,this.countdown<=0){var i=this.callbacks.onStart;i&&(i.params[1]=this.targets,i.func.apply(i.scope,i.params)),this.state=s.ACTIVE}break;case s.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var o=this.callbacks.onComplete;o&&o.func.apply(o.scope,o.params),this.state=s.PENDING_REMOVE}}return this.state===s.PENDING_REMOVE},setStateFromEnd:function(t,e,a){if(e.yoyo){e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onYoyo;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.start=e.getStartValue(e.target,e.key,e.start),s.PLAYING_BACKWARD}if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var i=t.callbacks.onRepeat;return i&&(i.params[1]=e.target,i.func.apply(i.scope,i.params)),e.start=e.getStartValue(e.target,e.key,e.start),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-a,e.current=e.start,e.target[e.key]=e.current,s.REPEAT_DELAY):s.PLAYING_FORWARD}return s.COMPLETE},setStateFromStart:function(t,e,a){if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onRepeat;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-a,e.current=e.start,e.target[e.key]=e.current,s.REPEAT_DELAY):s.PLAYING_FORWARD}return s.COMPLETE},updateTweenData:function(t,e,a){switch(e.state){case s.PLAYING_FORWARD:case s.PLAYING_BACKWARD:if(!e.target){e.state=s.COMPLETE;break}var r=e.elapsed,i=e.duration,o=0;(r+=a)>i&&(o=r-i,r=i);var n,l=e.state===s.PLAYING_FORWARD,p=r/i;n=l?e.ease(p):e.ease(1-p),e.current=e.start+(e.end-e.start)*n,e.target[e.key]=e.current,e.elapsed=r,e.progress=p;var h=t.callbacks.onUpdate;h&&(h.params[1]=e.target,h.func.apply(h.scope,h.params)),1===p&&(l?e.hold>0?(e.elapsed=e.hold-o,e.state=s.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,o):e.state=this.setStateFromStart(t,e,o));break;case s.DELAY:e.elapsed-=a,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=s.PENDING_RENDER);break;case s.REPEAT_DELAY:e.elapsed-=a,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=s.PLAYING_FORWARD);break;case s.HOLD_DELAY:e.elapsed-=a,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case s.PENDING_RENDER:e.target?(e.start=e.getStartValue(e.target,e.key,e.target[e.key]),e.end=e.getEndValue(e.target,e.key,e.start),e.current=e.start,e.target[e.key]=e.start,e.state=s.PLAYING_FORWARD):e.state=s.COMPLETE}return e.state!==s.COMPLETE}});r.TYPES=["onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],a.register("tween",function(t){return this.scene.sys.tweens.add(t)}),e.register("tween",function(t){return this.scene.sys.tweens.create(t)}),module.exports=r;
},{"../../utils/Class":"f5Xp","../../gameobjects/GameObjectCreator":"FDVK","../../gameobjects/GameObjectFactory":"qgZB","./const":"iqms"}],"9+8R":[function(require,module,exports) {
var e=function(e,t,a,r,l,o,n,d,p,u,s,y,i){return{target:e,key:t,getEndValue:a,getStartValue:r,ease:l,duration:0,totalDuration:0,delay:0,yoyo:d,hold:0,repeat:0,repeatDelay:0,flipX:y,flipY:i,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:o,duration:n,hold:p,repeat:u,repeatDelay:s},state:0}};module.exports=e;
},{}],"m/F/":[function(require,module,exports) {
var e=require("../tween/Defaults"),a=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),o=require("./GetNewValue"),l=require("../../utils/object/GetValue"),u=require("./GetValueOp"),n=require("../tween/Tween"),s=require("../tween/TweenData"),i=function(i,p,c){void 0===c&&(c=e);var d=l(p,"from",0),y=l(p,"to",1),v=[{value:d}],f=o(p,"delay",c.delay),m=o(p,"duration",c.duration),q=l(p,"easeParams",c.easeParams),D=t(l(p,"ease",c.ease),q),w=o(p,"hold",c.hold),h=o(p,"repeat",c.repeat),G=o(p,"repeatDelay",c.repeatDelay),b=r(p,"yoyo",c.yoyo),P=[],S=u("value",y),V=s(v[0],"value",S.getEnd,S.getStart,D,f,m,b,w,h,G,!1,!1);V.start=d,V.current=d,V.to=y,P.push(V);var g=new n(i,P,v);g.offset=a(p,"offset",null),g.completeDelay=a(p,"completeDelay",0),g.loop=Math.round(a(p,"loop",0)),g.loopDelay=Math.round(a(p,"loopDelay",0)),g.paused=r(p,"paused",!1),g.useFrames=r(p,"useFrames",!1);for(var E=l(p,"callbackScope",g),F=[g,null],T=n.TYPES,j=0;j<T.length;j++){var k=T[j],M=l(p,k,!1);if(M){var x=l(p,k+"Scope",E),A=l(p,k+"Params",[]);g.setCallback(k,M,F.concat(A),x)}}return g};module.exports=i;
},{"../tween/Defaults":"NmE2","../../utils/object/GetAdvancedValue":"Isbx","./GetBoolean":"kOvX","./GetEaseFunction":"dR9I","./GetNewValue":"ZVuT","../../utils/object/GetValue":"8Li0","./GetValueOp":"S35D","../tween/Tween":"9orT","../tween/TweenData":"9+8R"}],"E5pm":[function(require,module,exports) {
var e=require("../tween/Defaults"),a=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),l=require("./GetNewValue"),o=require("./GetProps"),u=require("./GetTargets"),s=require("../../utils/object/GetValue"),i=require("./GetValueOp"),p=require("../tween/Tween"),n=require("../tween/TweenData"),d=function(d,y,f){void 0===f&&(f=e);for(var c=f.targets?f.targets:u(y),q=o(y),v=l(y,"delay",f.delay),h=l(y,"duration",f.duration),D=s(y,"easeParams",f.easeParams),g=t(s(y,"ease",f.ease),D),m=l(y,"hold",f.hold),G=l(y,"repeat",f.repeat),w=l(y,"repeatDelay",f.repeatDelay),P=r(y,"yoyo",f.yoyo),b=r(y,"flipX",f.flipX),S=r(y,"flipY",f.flipY),T=[],V=0;V<q.length;V++)for(var Y=q[V].key,k=q[V].value,E=0;E<c.length;E++){var F=i(Y,k),X=n(c[E],Y,F.getEnd,F.getStart,t(s(k,"ease",g),D),l(k,"delay",v),l(k,"duration",h),r(k,"yoyo",P),l(k,"hold",m),l(k,"repeat",G),l(k,"repeatDelay",w),r(k,"flipX",b),r(k,"flipY",S));T.push(X)}var j=new p(d,T,c);j.offset=a(y,"offset",null),j.completeDelay=a(y,"completeDelay",0),j.loop=Math.round(a(y,"loop",0)),j.loopDelay=Math.round(a(y,"loopDelay",0)),j.paused=r(y,"paused",!1),j.useFrames=r(y,"useFrames",!1);for(var M=s(y,"callbackScope",j),x=[j,null],A=p.TYPES,B=0;B<A.length;B++){var C=A[B],N=s(y,C,!1);if(N){var O=s(y,C+"Scope",M),z=s(y,C+"Params",[]);j.setCallback(C,N,x.concat(z),O)}}return j};module.exports=d;
},{"../tween/Defaults":"NmE2","../../utils/object/GetAdvancedValue":"Isbx","./GetBoolean":"kOvX","./GetEaseFunction":"dR9I","./GetNewValue":"ZVuT","./GetProps":"LYVf","./GetTargets":"zlle","../../utils/object/GetValue":"8Li0","./GetValueOp":"S35D","../tween/Tween":"9orT","../tween/TweenData":"9+8R"}],"zb4s":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("eventemitter3"),e=require("./builders/TweenBuilder"),i=require("./tween/const"),a=new t({Extends:s,initialize:function(t){s.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=i.PENDING_ADD,this._pausedState=i.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===i.ACTIVE},add:function(t){return this.queue(e(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"===typeof t){var s=t[0];if("-"===s||"+"===s)return!0}return!1},getRelativeOffset:function(t,s){var e=t[0],i=parseFloat(t.substr(2)),a=s;switch(e){case"+":a+=i;break;case"-":a-=i}return Math.max(0,a)},calcDuration:function(){for(var t=0,s=0,e=0,i=0;i<this.totalData;i++){var a=this.data[i];a.init(),this.hasOffset(a)?this.isOffsetAbsolute(a.offset)?(a.calculatedOffset=a.offset,0===a.offset&&(e=0)):this.isOffsetRelative(a.offset)&&(a.calculatedOffset=this.getRelativeOffset(a.offset,t)):a.calculatedOffset=e,t=a.totalDuration+a.calculatedOffset,s+=a.totalDuration,e+=a.totalDuration}this.duration=s,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=i.PAUSED,!1)},resetTweens:function(t){for(var s=0;s<this.totalData;s++){this.data[s].play(t)}},setCallback:function(t,s,e,i){return-1!==a.TYPES.indexOf(t)&&(this.callbacks[t]={func:s,scope:i,params:e}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==i.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=i.ACTIVE;var t=this.callbacks.onStart;t&&t.func.apply(t.scope,t.params),this.emit("start",this)}},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&t.func.apply(t.scope,t.params),this.emit("loop",this,this.loopCounter),this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=i.LOOP_DELAY):this.state=i.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=i.COMPLETE_DELAY;else{var s=this.callbacks.onComplete;s&&s.func.apply(s.scope,s.params),this.emit("complete",this),this.state=i.PENDING_REMOVE}},update:function(t,s){if(this.state!==i.PAUSED){var e=s;switch(this.useFrames&&(s=1*this.manager.timeScale),s*=this.timeScale,this.elapsed+=s,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=s,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case i.ACTIVE:for(var a=this.totalData,o=0;o<this.totalData;o++){this.data[o].update(t,e)&&a--}var h=this.callbacks.onUpdate;h&&h.func.apply(h.scope,h.params),this.emit("update",this),0===a&&this.nextState();break;case i.LOOP_DELAY:this.countdown-=s,this.countdown<=0&&(this.state=i.ACTIVE);break;case i.COMPLETE_DELAY:if(this.countdown-=s,this.countdown<=0){var n=this.callbacks.onComplete;n&&n.func.apply(n.scope,n.params),this.emit("complete",this),this.state=i.PENDING_REMOVE}}return this.state===i.PENDING_REMOVE}},stop:function(){this.state=i.PENDING_REMOVE},pause:function(){if(this.state!==i.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=i.PAUSED,this.emit("pause",this),this},resume:function(){return this.state===i.PAUSED&&(this.paused=!1,this.state=this._pausedState),this.emit("resume",this),this},hasTarget:function(t){for(var s=0;s<this.data.length;s++)if(this.data[s].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});a.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],module.exports=a;
},{"../utils/Class":"f5Xp","eventemitter3":"LqgX","./builders/TweenBuilder":"E5pm","./tween/const":"iqms"}],"7FAY":[function(require,module,exports) {
var e=require("../../utils/object/Clone"),a=require("../tween/Defaults"),o=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),l=require("./GetNewValue"),n=require("./GetTargets"),p=require("./GetTweens"),u=require("../../utils/object/GetValue"),s=require("../Timeline"),i=require("./TweenBuilder"),c=function(c,d){var y=new s(c),m=p(d);if(0===m.length)return y.paused=!0,y;var f=e(a);f.targets=n(d);var v=o(d,"totalDuration",0);f.duration=v>0?Math.floor(v/m.length):l(d,"duration",f.duration),f.delay=l(d,"delay",f.delay),f.easeParams=u(d,"easeParams",f.easeParams),f.ease=t(u(d,"ease",f.ease),f.easeParams),f.hold=l(d,"hold",f.hold),f.repeat=l(d,"repeat",f.repeat),f.repeatDelay=l(d,"repeatDelay",f.repeatDelay),f.yoyo=r(d,"yoyo",f.yoyo),f.flipX=r(d,"flipX",f.flipX),f.flipY=r(d,"flipY",f.flipY);for(var q=0;q<m.length;q++)y.queue(i(y,m[q],f));y.completeDelay=o(d,"completeDelay",0),y.loop=Math.round(o(d,"loop",0)),y.loopDelay=Math.round(o(d,"loopDelay",0)),y.paused=r(d,"paused",!1),y.useFrames=r(d,"useFrames",!1);var C=u(d,"callbackScope",y),S=[y],b=u(d,"onStart",!1);if(b){var h=u(d,"onStartScope",C),D=u(d,"onStartParams",[]);y.setCallback("onStart",b,S.concat(D),h)}var P=u(d,"onUpdate",!1);if(P){var G=u(d,"onUpdateScope",C),Y=u(d,"onUpdateParams",[]);y.setCallback("onUpdate",P,S.concat(Y),G)}var k=u(d,"onLoop",!1);if(k){var g=u(d,"onLoopScope",C),w=u(d,"onLoopParams",[]);y.setCallback("onLoop",k,S.concat(w),g)}var L=u(d,"onYoyo",!1);if(L){var T=u(d,"onYoyoScope",C),U=u(d,"onYoyoParams",[]);y.setCallback("onYoyo",L,S.concat(null,U),T)}var j=u(d,"onComplete",!1);if(j){var F=u(d,"onCompleteScope",C),M=u(d,"onCompleteParams",[]);y.setCallback("onComplete",j,S.concat(M),F)}return y};module.exports=c;
},{"../../utils/object/Clone":"+lbl","../tween/Defaults":"NmE2","../../utils/object/GetAdvancedValue":"Isbx","./GetBoolean":"kOvX","./GetEaseFunction":"dR9I","./GetNewValue":"ZVuT","./GetTargets":"zlle","./GetTweens":"BRMA","../../utils/object/GetValue":"8Li0","../Timeline":"zb4s","./TweenBuilder":"E5pm"}],"Mg8g":[function(require,module,exports) {
module.exports={GetBoolean:require("./GetBoolean"),GetEaseFunction:require("./GetEaseFunction"),GetNewValue:require("./GetNewValue"),GetProps:require("./GetProps"),GetTargets:require("./GetTargets"),GetTweens:require("./GetTweens"),GetValueOp:require("./GetValueOp"),NumberTweenBuilder:require("./NumberTweenBuilder"),TimelineBuilder:require("./TimelineBuilder"),TweenBuilder:require("./TweenBuilder")};
},{"./GetBoolean":"kOvX","./GetEaseFunction":"dR9I","./GetNewValue":"ZVuT","./GetProps":"LYVf","./GetTargets":"zlle","./GetTweens":"BRMA","./GetValueOp":"S35D","./NumberTweenBuilder":"m/F/","./TimelineBuilder":"7FAY","./TweenBuilder":"E5pm"}],"24so":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./builders/NumberTweenBuilder"),s=require("../plugins/PluginCache"),i=require("./builders/TimelineBuilder"),n=require("./tween/const"),r=require("./builders/TweenBuilder"),h=new t({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.timeScale=1},createTimeline:function(t){return i(this,t)},timeline:function(t){var e=i(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return r(this,t)},add:function(t){var e=r(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var s=e(this,t);return this._add.push(s),this._toProcess++,s},preUpdate:function(){if(0!==this._toProcess){var t,e,s=this._destroy,i=this._active;for(t=0;t<s.length;t++){e=s[t];var r=i.indexOf(e);-1!==r&&(e.state=n.REMOVED,i.splice(r,1))}for(s.length=0,s=this._add,t=0;t<s.length;t++)(e=s[t]).state===n.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));s.length=0,this._toProcess=0}},update:function(t,e){var s,i=this._active;e*=this.timeScale;for(var n=0;n<i.length;n++)(s=i[n]).update(t,e)&&(this._destroy.push(s),this._toProcess++)},makeActive:function(t){if(-1===this._add.indexOf(t)&&-1===this._active.indexOf(t)){var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=n.PENDING_ADD,this._toProcess++,this}},each:function(t,e){for(var s=[null],i=1;i<arguments.length;i++)s.push(arguments[i]);for(var n in this.list)s[0]=this.list[n],t.apply(e,s)},getAllTweens:function(){for(var t=this._active,e=[],s=0;s<t.length;s++)e.push(t[s]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,s,i=this._active,n=[];if(Array.isArray(t))for(s=0;s<i.length;s++){e=i[s];for(var r=0;r<t.length;r++)e.hasTarget(t[r])&&n.push(e)}else for(s=0;s<i.length;s++)(e=i[s]).hasTarget(t)&&n.push(e);return n},isTweening:function(t){for(var e,s=this._active,i=0;i<s.length;i++)if((e=s[i]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),s=0;s<e.length;s++)e[s].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off("preupdate",this.preUpdate,this),t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});s.register("TweenManager",h,"tweens"),module.exports=h;
},{"../utils/Class":"f5Xp","./builders/NumberTweenBuilder":"m/F/","../plugins/PluginCache":"sYlk","./builders/TimelineBuilder":"7FAY","./tween/const":"iqms","./builders/TweenBuilder":"E5pm"}],"906K":[function(require,module,exports) {
var e=require("./tween/const"),r=require("../utils/object/Extend"),n={Builders:require("./builders"),TweenManager:require("./TweenManager"),Tween:require("./tween/Tween"),TweenData:require("./tween/TweenData"),Timeline:require("./Timeline")};n=r(!1,n,e),module.exports=n;
},{"./tween/const":"iqms","../utils/object/Extend":"Wu2m","./builders":"Mg8g","./TweenManager":"24so","./tween/Tween":"9orT","./tween/TweenData":"9+8R","./Timeline":"zb4s"}],"F/+c":[function(require,module,exports) {
var e=require("./GetValue"),r=require("../../math/Clamp"),u=function(u,a,t,i,o){void 0===o&&(o=t);var l=e(u,a,o);return r(l,t,i)};module.exports=u;
},{"./GetValue":"8Li0","../../math/Clamp":"mAiE"}],"ijMz":[function(require,module,exports) {
var r=function(r,e){for(var n=0;n<e.length;n++)if(!r.hasOwnProperty(e[n]))return!1;return!0};module.exports=r;
},{}],"3akj":[function(require,module,exports) {
var r=require("./Clone"),e=function(e,n){var o=r(e);for(var a in n)o.hasOwnProperty(a)&&(o[a]=n[a]);return o};module.exports=e;
},{"./Clone":"+lbl"}],"kFfS":[function(require,module,exports) {
module.exports={Clone:require("./Clone"),Extend:require("./Extend"),GetAdvancedValue:require("./GetAdvancedValue"),GetFastValue:require("./GetFastValue"),GetMinMaxValue:require("./GetMinMaxValue"),GetValue:require("./GetValue"),HasAll:require("./HasAll"),HasAny:require("./HasAny"),HasValue:require("./HasValue"),IsPlainObject:require("./IsPlainObject"),Merge:require("./Merge"),MergeRight:require("./MergeRight")};
},{"./Clone":"+lbl","./Extend":"Wu2m","./GetAdvancedValue":"Isbx","./GetFastValue":"SgIk","./GetMinMaxValue":"F/+c","./GetValue":"8Li0","./HasAll":"ijMz","./HasAny":"dtLT","./HasValue":"tWBw","./IsPlainObject":"ac6z","./Merge":"1u+y","./MergeRight":"3akj"}],"YvLQ":[function(require,module,exports) {
var r=function(r,e){return r.replace(/%([0-9]+)/g,function(r,n){return e[Number(n)-1]})};module.exports=r;
},{}],"i3Jp":[function(require,module,exports) {
var e=function(e){return e.split("").reverse().join("")};module.exports=e;
},{}],"ZVvr":[function(require,module,exports) {
module.exports={Format:require("./Format"),Pad:require("./Pad"),Reverse:require("./Reverse"),UppercaseFirst:require("./UppercaseFirst")};
},{"./Format":"YvLQ","./Pad":"TaNK","./Reverse":"i3Jp","./UppercaseFirst":"pAFR"}],"iB4g":[function(require,module,exports) {
module.exports={Array:require("./array/"),Objects:require("./object/"),String:require("./string/")};
},{"./array/":"u4B5","./object/":"kFfS","./string/":"ZVvr"}],"7sH5":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];require("./polyfills");var r=require("./const"),i=require("./utils/object/Extend"),u={Actions:require("./actions"),Animation:require("./animations"),Cache:require("./cache"),Cameras:require("./cameras"),Class:require("./utils/Class"),Create:require("./create"),Curves:require("./curves"),Data:require("./data"),Display:require("./display"),DOM:require("./dom"),Events:require("./events"),Game:require("./boot/Game"),GameObjects:require("./gameobjects"),Geom:require("./geom"),Input:require("./input"),Loader:require("./loader"),Math:require("./math"),Physics:require("./physics"),Plugins:require("./plugins"),Renderer:require("./renderer"),Scene:require("./scene/Scene"),Scenes:require("./scene"),Sound:require("./sound"),Structs:require("./structs"),Textures:require("./textures"),Tilemaps:require("./tilemaps"),Time:require("./time"),Tweens:require("./tweens"),Utils:require("./utils")};u=i(!1,u,r),module.exports=u,e.Phaser=u;
},{"./polyfills":"ucTA","./const":"rdvC","./utils/object/Extend":"Wu2m","./actions":"z50Y","./animations":"JIzn","./cache":"TFnC","./cameras":"TBEu","./utils/Class":"f5Xp","./create":"Oy/y","./curves":"cmvR","./data":"TFUO","./display":"+qi3","./dom":"o3Q5","./events":"ruG7","./boot/Game":"IdKo","./gameobjects":"aXgq","./geom":"lAAI","./input":"YArU","./loader":"OOlX","./math":"hq5V","./physics":"s0P1","./plugins":"FofT","./renderer":"bjGD","./scene/Scene":"hvEm","./scene":"kQ40","./sound":"VTxk","./structs":"9XLz","./textures":"mlCj","./tilemaps":"RXmL","./time":"IXbA","./tweens":"906K","./utils":"iB4g"}],"K5jj":[function(require,module,exports) {
module.exports="https://runningdeveloper.github.io/ldjam42/dist/rocket_green1.3e855e58.png";
},{}],"fz6k":[function(require,module,exports) {
module.exports="https://runningdeveloper.github.io/ldjam42/dist/rocket_white1.9e2d8e99.png";
},{}],"/85P":[function(require,module,exports) {
module.exports="https://runningdeveloper.github.io/ldjam42/dist/planet_small.23824e65.png";
},{}],"gpfv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Preloader=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=require("phaser"),r=s(t),o=require("./assets/rocket_green1.png"),n=s(o),a=require("./assets/rocket_white1.png"),i=s(a),u=require("./assets/planet_small.png"),l=s(u);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=exports.Preloader=function(t){function o(){return c(this,o),f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,{key:"preloader"}))}return p(o,r.default.Scene),e(o,[{key:"preload",value:function(){console.log("Preload"),this.load.image("planet",l.default),this.load.image("rocket",n.default),this.load.image("sat",i.default)}},{key:"create",value:function(){this.scene.start("game")}}]),o}();
},{"phaser":"7sH5","./assets/rocket_green1.png":"K5jj","./assets/rocket_white1.png":"fz6k","./assets/planet_small.png":"/85P"}],"QcRT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),e=require("phaser"),i=s(e);function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=exports.Game=function(e){function s(){o(this,s);var t=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,{key:"game",physics:{default:"arcade",arcade:{debug:!0}}}));return t.width=window.innerWidth,t.height=window.innerHeight,t.graphics=null,t.sats=[],t.rocketLine=null,t.lineColor=16711680,t.lineWidth=6,t.power=0,t.cursor=null,t.group,t.center,t.rocketFlying=!1,t.rocketFired=!1,t.rocketStartPoint,t.circlePoints=4,t.bandLength=300,t.bandSpeed=.008,t.bandWidth=20,t.orbitReady=!0,t.currentCollider,t.score=0,t.textHolder,t.enemyDelay=1e3,t.startPointSat,t.started=!1,t.startLoopPoint,t}return h(s,i.default.Scene),t(s,[{key:"create",value:function(){var t=this;this.rocket=this.physics.add.image(this.width/2,this.height/2,"rocket"),this.planet=this.physics.add.staticImage(this.width/2,this.height/2,"planet"),this.planet.setCircle(125),this.graphics=this.add.graphics(),this.graphics.lineStyle(this.lineWidth,this.lineColor,.6),this.cursor=this.add.image(0,0,"rocket").setVisible(!1);this.physics.add.overlap(this.rocket,this.planet,function(){console.log("collided")},function(e,s){return t.rocketFlying&&i.default.Math.Distance.Between(e.x,e.y,s.x,s.y)<95&&(console.log("collided with planet"),t.resetRocketPosition()),!1},this);this.rocketStartPoint=new Phaser.Geom.Point(this.width/2+this.planet.width/2,this.height/2),this.center=new Phaser.Geom.Point(this.width/2,this.height/2),this.satPoint=new Phaser.Geom.Point(0,0),this.groupSats=this.add.group(),this.startPointSat=i.default.Math.RotateAroundDistance(this.satPoint,this.width/2,this.height/2,i.default.Math.DegToRad(360/this.circlePoints),250);for(var e=0;e<this.circlePoints;e++){var s=i.default.Math.RotateAroundDistance(this.satPoint,this.width/2,this.height/2,i.default.Math.DegToRad(360/this.circlePoints),250),o=this.physics.add.image(s.x,s.y,"sat");o.setData("enemy",!0),this.groupSats.add(o)}this.currentCollider=this.physics.add.collider(this.rocket,this.groupSats,function(e,i){console.log("crash"),i.setAccelerationX(20),t.groupSats.remove(i),t.resetRocketPosition()},null,this),this.add.text(10,10,"Launch satellites, increase your score by having more of your satellites in orbit. Click to launch (power is red line length)!",{fontSize:20,wordWrap:{width:this.width-20}}),this.textHolder=this.add.text(10,this.height-60,"Score: 0",{fontSize:30})}},{key:"update",value:function(){i.default.Actions.RotateAroundDistance(this.groupSats.getChildren(),this.center,this.bandSpeed,this.bandLength),this.started||(this.started=!0,this.startLoopPoint={x:this.groupSats.getChildren()[0].x,y:this.groupSats.getChildren()[0].y}),this.input.activePointer&&(this.rocketLine&&(this.rocketLine.clear(),this.graphics=this.add.graphics(),this.graphics.lineStyle(this.lineWidth,this.lineColor,.6)),this.rocketLine=this.graphics.lineBetween(this.rocketStartPoint.x,this.rocketStartPoint.y,this.input.activePointer.position.x,this.input.activePointer.position.y),this.cursor.setPosition(this.input.activePointer.position.x,this.input.activePointer.position.y),this.power=i.default.Math.Distance.Between(this.width/2,this.height/2,this.input.activePointer.position.x,this.input.activePointer.position.y));var t=i.default.Math.Distance.Between(this.width/2,this.height/2,this.rocket.x,this.rocket.y);if(t>this.bandLength-this.bandWidth/2&&t<this.bandLength+this.bandWidth/2&&(this.rocket.body.deltaAbsX()+this.rocket.body.deltaAbsY()<3.6&&this.orbitReady)){var e=this.physics.add.image(this.rocket.x,this.rocket.y,"rocket");e.setData("enemy",!1),this.resetRocketPosition(),this.groupSats.add(e)}(this.rocket.x>this.width||this.rocket.x<0||this.rocket.y>this.height||this.rocket.y<0)&&this.resetRocketPosition(),this.input.activePointer.isDown&&!this.rocketFired&&(console.log("fired"),this.physics.accelerateToObject(this.rocket,this.planet,60,300,300),this.physics.moveToObject(this.rocket,this.cursor,this.power/2),this.rocketFlying=!0,this.rocket.visible=!0,this.rocketFired=!0),this.groupSats.getLength()*this.rocket.width>=2*Math.PI*this.bandLength&&this.restartGame()}},{key:"restartGame",value:function(){this.scene.restart()}},{key:"launchEnemy",value:function(){var t=this;if(this.groupSats.getChildren().filter(function(e){return i.default.Math.Distance.Between(e.x,e.y,t.startLoopPoint.x,t.startLoopPoint.y)>2*t.rocket.width}).length>0){var e=this.physics.add.image(0,0,"sat");e.setData("enemy",!0),this.groupSats.add(e)}}},{key:"testScore",value:function(){var t=this;this.score=0,this.groupSats.getChildren().forEach(function(e){e.getData("enemy")||(t.score+=10)}),this.textHolder.setText("score: "+this.score)}},{key:"resetRocketPosition",value:function(){this.testScore(),this.rocketFired=!1,this.orbitReady=!0,this.rocketFlying=!1,this.rocket.setPosition(this.rocketStartPoint.x,this.rocketStartPoint.y),this.rocket.setAcceleration(0),this.rocket.setVelocity(0)}}]),s}();
},{"phaser":"7sH5"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("phaser"),r=t(e),n=require("./preloader.js"),i=require("./game.js");function t(e){return e&&e.__esModule?e:{default:e}}var d={width:window.innerWidth,height:window.innerHeight,parent:"content",scene:[n.Preloader,i.Game]},o=new r.default.Game(d);window.onresize=function(){o.renderer.resize(window.innerWidth,window.innerHeight),o.events.emit("resize")};
},{"phaser":"7sH5","./preloader.js":"gpfv","./game.js":"QcRT"}]},{},["Focm"], null)
//# sourceMappingURL=https://runningdeveloper.github.io/ldjam42/dist/space2.44305431.map